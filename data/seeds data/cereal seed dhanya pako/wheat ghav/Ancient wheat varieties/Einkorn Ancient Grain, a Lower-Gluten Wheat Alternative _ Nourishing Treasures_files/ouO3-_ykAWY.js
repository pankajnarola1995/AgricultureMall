/*!CK:184886166!*//*1452025281,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["1ugla"]); }

__d("CommentsPluginSentryAction",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CONFIRM_POST_TO_PROFILE:"confirm_post_to_profile"};},null);
__d("DeveloperCommentsModerationSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={APP:"app",URL:"url"};},null);
__d('MentionResultsPropTypes',['React','SearchableEntry','SelectionState'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l={viewID:k.string.isRequired,selection:k.instanceOf(j).isRequired,contextComponent:k.object.isRequired,mentionableEntries:k.array.isRequired,highlightedMentionable:k.instanceOf(i),onMentionSelect:k.func.isRequired,onMentionHighlight:k.func.isRequired,onMentionRenderHighlight:k.func.isRequired};f.exports=l;},null);
__d('MentionsLayer.react',['Bootloader','Locale','MentionResultsPropTypes','React','areEqual'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=k.PropTypes,n=false,o=i.isRTL(),p,q,r,s,t=5,u=k.createClass({displayName:'MentionsLayer',propTypes:babelHelpers._extends({},j,{typeaheadView:m.func.isRequired,typeaheadViewProps:m.object,autoflip:m.bool,position:m.oneOf(['above','below'])}),getInitialState:function(){return {bootloaded:n};},componentWillMount:function(){if(!this.state.bootloaded)v((function(){this.isMounted()&&this.setState({bootloaded:true});}).bind(this));},_onMentionSelect:function(w,x){x.preventDefault();this.props.onMentionSelect(w,x);},shouldComponentUpdate:function(w,x){return (this.state.bootloaded!==x.bootloaded||!l(this.props.mentionableEntries,w.mentionableEntries)||this.props.highlightedMentionable!==w.highlightedMentionable||this.props.characterOffset!==w.characterOffset);},render:function(){if(!this.state.bootloaded)return null;var w=this.props.mentionableEntries,x=this.props.selection,y=x.isCollapsed()&&x.getHasFocus()&&w&&w.length,z=null,aa=this.props.typeaheadViewProps,ba=false,ca=false;if(aa&&aa.positionAtContext){ba=true;ca=true;}else if(y)z=s(this.props.characterOffset,o);var da={};if(this.props.autoflip){da.ContextualLayerAutoFlip=q;da.ContextualLayerUpdateOnScroll=r;}var ea=this.props.typeaheadView;return (k.createElement(p,{shown:y,context:this.props.contextComponent,contextBounds:z,containerWidthMatchContext:ca,offsetY:t,position:this.props.position||'below',behaviors:da},k.createElement(ea,{id:this.props.viewID,viewProps:this.props.typeaheadViewProps,highlightedEntry:this.props.highlightedMentionable,entries:w||[],onSelect:this._onMentionSelect,onHighlight:this.props.onMentionHighlight,onRenderHighlight:this.props.onMentionRenderHighlight})));}});function v(w){h.loadModules(["ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","getMentionableRect"],function(x,y,z,aa){p=x;q=y;r=z;s=aa;n=true;w();});}f.exports=u;},null);
__d('ActorBio.react',['React','fbt'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes,k=h.createClass({displayName:'ActorBio',propTypes:{stats:j.object.isRequired,preferredTypes:j.array.isRequired},renderLink:function(l){return 'url' in l?h.createElement('a',babelHelpers._extends({},this.props,{href:l.url}),l.name):h.createElement('span',null,l.name);},renderItem:function(l,m){var n;switch(l){case 'employer':if('position' in m){n=i._("{position} at {employer}",[i.param('position',this.renderLink(m.position)),i.param('employer',this.renderLink(m))]);}else n=i._("Works at {employer}",[i.param('employer',this.renderLink(m))]);break;case 'mutual_friend':n=i._("Friends with {user}",[i.param('user',this.renderLink(m))]);break;default:return this.renderLink(m);}return h.createElement('span',null,n);},render:function(){var l=this.props.stats,m=this.props.preferredTypes;for(var n=0;n<m.length;n++)for(var o=0;o<m[n].length;o++){var p=m[n][o];if(p in l)return this.renderItem(p,l[p]);}return h.createElement('span',null);}});f.exports=k;},null);
__d("fillArray",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=new Array(i);for(var l=0;l<i;l++)k[l]=j;return k;}f.exports=h;},null);
__d('CompositeDraftDecorator',['immutable','fillArray'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.List,k='.';function l(o){this.$CompositeDraftDecorator1=o.slice();}l.prototype.getDecorations=function(o){var p=i(o.getText().length,null);this.$CompositeDraftDecorator1.forEach(function(q,r){var s=0,t=q.getStrategy();t(o,function(u,v){if(m(p,u,v)){n(p,u,v,r+k+s);s++;}});});return j(p);};l.prototype.getComponentForKey=function(o){var p=parseInt(o.split(k)[0],10);return this.$CompositeDraftDecorator1[p].getComponent();};l.prototype.getPropsForKey=function(o){var p=parseInt(o.split(k)[0],10);return this.$CompositeDraftDecorator1[p].getProps();};function m(o,p,q){for(var r=p;r<q;r++)if(o[r]!=null)return false;return true;}function n(o,p,q,r){for(var s=p;s<q;s++)o[s]=r;}f.exports=l;},null);
__d('DraftDecorator',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j,k){this.$DraftDecorator1=i;this.$DraftDecorator2=j;this.$DraftDecorator3=k||{};}h.prototype.getStrategy=function(){return this.$DraftDecorator1;};h.prototype.getComponent=function(){return this.$DraftDecorator2;};h.prototype.getProps=function(){return this.$DraftDecorator3;};f.exports=h;},null);
__d('EmoticonSpan.react',['DraftEntity','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.createClass({displayName:'EmoticonSpan',render:function(){var m=h.get(this.props.entityKey),n=m.getData(),o=n.type,p=k("_1ty6",'emoticon_'+o);return (i.createElement('span',{className:p,title:o,'data-offset-key':this.props.offsetKey},i.createElement('span',{className:"_5ukz"},this.props.children)));}});f.exports=l;},null);
__d('HashtagSpan.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.createClass({displayName:'HashtagSpan',render:function(){return (h.createElement('span',babelHelpers._extends({},this.props,{'data-offset-key':this.props.offsetKey,className:"_5u8n",spellCheck:false}),this.props.children));}});f.exports=j;},null);
__d('MentionSpan.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.createClass({displayName:'MentionSpan',render:function(){return (h.createElement('span',babelHelpers._extends({},this.props,{'data-offset-key':this.props.offsetKey,className:"_5u8u",spellCheck:false}),this.props.children));}});f.exports=j;},null);
__d('WeakMentionSpan.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.createClass({displayName:'WeakMentionSpan',render:function(){return (h.createElement('span',{'data-offset-key':this.props.offsetKey,className:"_whq",spellCheck:false},this.props.children));}});f.exports=j;},null);
__d('getEntityMatcher',['DraftEntity'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.get;function j(k,l){var m=l||i;return function(n,o){n.findEntityRanges(function(p){var q=p.getEntity();return typeof q==='string'&&k(m(q));},o);};}f.exports=j;},null);
__d('getHashtagMatches',['getHashtagRegex'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h();function j(k,l){var m=k.getText(),n,o,p,q;while((n=i.exec(m))!==null){o=n.index+n[1].length;p=n[2];q=n[3];l(o,o+p.length+q.length);}}f.exports=j;},null);
__d('getMentionsInputDecorator',['CompositeDraftDecorator','DraftDecorator','EmoticonSpan.react','HashtagSpan.react','MentionSpan.react','WeakMentionSpan.react','getEntityMatcher','getHashtagMatches'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p;function q(){if(!p)p=new h([new i(n(function(r){var s=r.getData();return r.getType()==='MENTION'&&s&&s.isWeak;}),m),new i(n(function(r){return r.getType()==='MENTION';}),l),new i(n(function(r){return r.getType()==='EMOTICON';}),j),new i(o,k)]);return p;}f.exports=q;},null);
__d('UFIAttachedPhotoPreview.react',['Arbiter','BootloadedComponent.react','CloseButton.react','DOMContainer.react','DOMVector','HTML','LoadingIndicator.react','React','ReactDOM','UFIUIEvents','XUISpinner.react','JSResource','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=o.PropTypes,v=80,w=o.createClass({displayName:'UFIAttachedPhotoPreview',propTypes:{attachedPhoto:u.object,attachedSticker:u.object,onRemoveAttachedPhotoPreview:u.func,onRemoveAttachedStickerPreview:u.func,subtitle:u.string,isLoadingPhoto:u.bool},_height:0,_getScaledDimensions:function(x,y){var z,aa,ba;if(y>x){ba=v/y;z=x*ba;aa=y*ba;}else{ba=v/x;z=x*ba;aa=y*ba;}return {height:Math.round(z),width:Math.round(aa)};},_checkHeightChange:function(){var x=p.findDOMNode(this),y=x?l.getElementDimensions(x).y:0;if(y!==this._height){this._height=y;h.inform(q.PhotoPreviewHeightChanged,{node:x});}},componentDidUpdate:function(){if(this.props.monitorHeight)this._checkHeightChange();},render:function(){var x=null,y=this.props.attachedPhoto||this.props.attachedSticker;if(y&&this.props.attachedSticker){var z=this._getScaledDimensions(y.metadata.height,y.metadata.width),aa=null,ba=null;if(window.devicePixelRatio&&window.devicePixelRatio>1){aa=y.metadata.sprite_uri_2x;ba=y.metadata.source_uri_2x;}else{aa=y.metadata.sprite_uri;ba=y.metadata.source_uri;}x=o.createElement(i,{bootloadPlaceholder:o.createElement(r,null),bootloadLoader:s('Sticker.react'),animationTrigger:'load_and_hover',frameCount:y.metadata.frameCount,frameRate:y.metadata.frameRate,framesPerCol:y.metadata.framesPerCol,framesPerRow:y.metadata.framesPerRow,spriteURI:aa,sourceHeight:z.height,sourceURI:ba,sourceWidth:z.width});}else if(y&&this.props.attachedPhoto){var ca=y.markupPreview;if(m.isHTML(ca.markup))ca=m.replaceJSONWrapper(ca.markup).getRootNode();x=o.createElement(k,null,ca);}else if(this.props.isLoadingPhoto)x=o.createElement(n,{color:'white',className:'UFICommentPhotoAttachedPreviewLoadingIndicator',size:'medium'});var da=null,ea=this.props.attachedPhoto?this.props.onRemoveAttachedPhotoPreview:this.props.onRemoveAttachedStickerPreview;if(x!=null){var fa=null;if(this.props.attachedSticker){fa=t._("Remove Sticker");}else if(this.props.attachedPhoto)fa=t._("Remove Photo");da=o.createElement('div',{className:'UFICommentPhotoAttachedPreview pas'},x,o.createElement(j,{tooltip:fa,onClick:ea}));}return da;}});f.exports=w;},null);
__d('ContentStateInlineStyle',['CharacterMetadata','immutable'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={add:function(l,m,n){return k(l,m,n,true);},remove:function(l,m,n){return k(l,m,n,false);}};function k(l,m,n,o){var p=l.getBlockMap(),q=m.getStartKey(),r=m.getStartOffset(),s=m.getEndKey(),t=m.getEndOffset(),u=p.skipUntil(function(v,w){return w===q;}).takeUntil(function(v,w){return w===s;}).concat(i.Map([[s,p.get(s)]])).map(function(v,w){var x,y;if(q===s){x=r;y=t;}else{x=w===q?r:0;y=w===s?t:v.getLength();}var z=v.getCharacterList(),aa;while(x<y){aa=z.get(x);z=z.set(x,o?h.applyStyle(aa,n):h.removeStyle(aa,n));x++;}return v.set('characterList',z);});return l.merge({blockMap:p.merge(u),selectionBefore:m,selectionAfter:m});}f.exports=j;},null);
__d('applyEntityToContentBlock',['CharacterMetadata'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k,l,m){var n=j.getCharacterList();while(k<l){n=n.set(k,h.applyEntity(n.get(k),m));k++;}return j.set('characterList',n);}f.exports=i;},null);
__d('applyEntityToContentState',['immutable','applyEntityToContentBlock'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l,m){var n=k.getBlockMap(),o=l.getStartKey(),p=l.getStartOffset(),q=l.getEndKey(),r=l.getEndOffset(),s=n.skipUntil(function(t,u){return u===o;}).takeUntil(function(t,u){return u===q;}).toOrderedMap().merge(h.OrderedMap([[q,n.get(q)]])).map(function(t,u){var v,w;if(o===q){v=p;w=r;}else{v=u===o?p:0;w=u===q?0:t.getLength();}return i(t,v,w,m);});return k.merge({blockMap:n.merge(s),selectionBefore:l,selectionAfter:l});}f.exports=j;},null);
__d('DraftEntitySegments',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={getRemovalRange:function(i,j,k,l,m){var n=k.split(' ');n=n.map(function(x,y){if(m==='forward'){if(y>0)return ' '+x;}else if(y<n.length-1)return x+' ';return x;});var o=l,p,q,r=null,s=null;for(var t=0;t<n.length;t++){q=n[t];p=o+q.length;if(i<p&&o<j){if(r!==null){s=p;}else{r=o;s=p;}}else if(r!==null)break;o=p;}var u=l+k.length,v=r===l,w=s===u;if(!v&&w||v&&!w)if(m==='forward'){if(s!==u)s++;}else if(r!==l)r--;return {start:r,end:s};}};f.exports=h;},null);
__d('checkRangeOverlap',['invariant'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k,l,m){!(j<=k&&l<=m)?h(0):undefined;return j<m&&k>l;}f.exports=i;},null);
__d('getRangesForDraftEntity',['invariant'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){var l=[];j.findEntityRanges(function(m){return m.getEntity()===k;},function(m,n){l.push({start:m,end:n});});!!!l.length?h(0):undefined;return l;}f.exports=i;},null);
__d('getCharacterRemovalRange',['DraftEntity','DraftEntitySegments','checkRangeOverlap','getRangesForDraftEntity','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();function m(n,o,p){var q=o.getStartOffset(),r=o.getEndOffset(),s=n.getEntityAt(q);if(!s)return o;var t=h.get(s),u=t.getMutability();if(u==='MUTABLE')return o;var v=k(n,s).filter(function(y){return j(q,r,y.start,y.end);});!(v.length==1)?l(0):undefined;var w=v[0];if(u==='IMMUTABLE')return o.merge({anchorOffset:w.start,focusOffset:w.end,isBackward:false});var x=i.getRemovalRange(q,r,n.getText().slice(w.start,w.end),w.start,p);return o.merge({anchorOffset:x.start,focusOffset:x.end,isBackward:false});}f.exports=m;},null);
__d('removeEntitiesAtEdges',['CharacterMetadata','DraftEntity','findRangesImmutable','invariant'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(o,p){var q=o.getBlockMap(),r={},s=p.getStartKey(),t=p.getStartOffset(),u=q.get(s),v=n(u,t);if(v!==u)r[s]=v;var w=p.getEndKey(),x=p.getEndOffset(),y=q.get(w);if(s===w)y=v;var z=n(y,x);if(z!==y)r[w]=z;if(!Object.keys(r).length)return o.set('selectionAfter',p);return o.merge({blockMap:q.merge(r),selectionAfter:p});}function m(o,p,q){var r;j(o,function(s,t){return s.getEntity()===t.getEntity();},function(s){return s.getEntity()===p;},function(s,t){if(s<=q&&t>=q)r={start:s,end:t};});!(typeof r==='object')?k(0):undefined;return r;}function n(o,p){var q=o.getCharacterList(),r=p>0?q.get(p-1):undefined,s=p<q.count()?q.get(p):undefined,t=r?r.getEntity():undefined,u=s?s.getEntity():undefined;if(u&&u===t){var v=i.get(u);if(v.getMutability()!=='MUTABLE'){var w=m(q,u,p),x=w.start,y=w.end,z;while(x<y){z=q.get(x);q=q.set(x,h.applyEntity(z,null));x++;}return o.set('characterList',q);}}return o;}f.exports=l;},null);
__d('getContentStateFragment',['generateBlockKey','removeEntitiesAtEdges'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l){var m=l.getStartKey(),n=l.getStartOffset(),o=l.getEndKey(),p=l.getEndOffset(),q=i(k,l),r=q.getBlockMap(),s=r.keySeq(),t=s.indexOf(m),u=s.indexOf(o)+1,v=r.slice(t,u).map(function(w,x){var y=h(),z=w.getText(),aa=w.getCharacterList();if(m===o)return w.merge({key:y,text:z.slice(n,p),characterList:aa.slice(n,p)});if(x===m)return w.merge({key:y,text:z.slice(n),characterList:aa.slice(n)});if(x===o)return w.merge({key:y,text:z.slice(0,p),characterList:aa.slice(0,p)});return w.set('key',y);});return v.toOrderedMap();}f.exports=j;},null);
__d('insertIntoList',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j,k){if(k===i.count()){j.forEach(function(n){i=i.push(n);});}else if(k===0){j.reverse().forEach(function(n){i=i.unshift(n);});}else{var l=i.slice(0,k),m=i.slice(k);i=l.concat(j,m).toList();}return i;}f.exports=h;},null);
__d('insertFragmentIntoContentState',['BlockMapBuilder','generateBlockKey','insertIntoList','invariant'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m,n,o){!n.isCollapsed()?k(0):undefined;var p=n.getStartKey(),q=n.getStartOffset(),r=m.getBlockMap(),s=o.size,t,u;if(s===1){var v=r.get(p),w=o.first(),x=v.getText(),y=v.getCharacterList(),z=v.merge({text:x.slice(0,q)+w.getText()+x.slice(q),characterList:j(y,w.getCharacterList(),q)});r=r.set(p,z);t=p;u=q+w.getText().length;return m.merge({blockMap:r.set(p,z),selectionBefore:n,selectionAfter:n.merge({anchorKey:t,anchorOffset:u,focusKey:t,focusOffset:u,isBackward:false})});}var aa=[];m.getBlockMap().forEach(function(ba,ca){if(ca!==p){aa.push(ba);return;}var da=ba.getText(),ea=ba.getCharacterList(),fa=da.length,ga=da.slice(0,q),ha=ea.slice(0,q),ia=o.first(),ja=ba.merge({text:ga+ia.getText(),characterList:ha.concat(ia.getCharacterList())});aa.push(ja);o.slice(1,s-1).forEach(function(oa){aa.push(oa.set('key',i()));});var ka=da.slice(q,fa),la=ea.slice(q,fa),ma=o.last();t=i();var na=ma.merge({key:t,text:ma.getText()+ka,characterList:ma.getCharacterList().concat(la)});aa.push(na);});u=o.last().getLength();return m.merge({blockMap:h.createFromArray(aa),selectionBefore:n,selectionAfter:n.merge({anchorKey:t,anchorOffset:u,focusKey:t,focusOffset:u,isBackward:false})});}f.exports=l;},null);
__d('insertTextIntoContentState',['immutable','insertIntoList','invariant'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.Repeat;function l(m,n,o,p){!n.isCollapsed()?j(0):undefined;var q=o.length;if(!q)return m;var r=m.getBlockMap(),s=n.getStartKey(),t=n.getStartOffset(),u=r.get(s),v=u.getText(),w=u.merge({text:v.slice(0,t)+o+v.slice(t,u.getLength()),characterList:i(u.getCharacterList(),k(p,q).toList(),t)}),x=t+q;return m.merge({blockMap:r.set(s,w),selectionAfter:n.merge({anchorOffset:x,focusOffset:x})});}f.exports=l;},null);
__d('removeRangeFromContentState',['immutable'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(k,l){if(l.isCollapsed())return k;var m=k.getBlockMap(),n=l.getStartKey(),o=l.getStartOffset(),p=l.getEndKey(),q=l.getEndOffset(),r=m.get(n),s=m.get(p),t;if(r===s){t=j(r.getCharacterList(),o,q);}else t=r.getCharacterList().slice(0,o).concat(s.getCharacterList().slice(q));var u=r.merge({text:r.getText().slice(0,o)+s.getText().slice(q),characterList:t}),v=m.toSeq().skipUntil(function(w,x){return x===n;}).takeUntil(function(w,x){return x===p;}).concat(h.Map([[p,null]])).map(function(w,x){return x===n?u:null;});m=m.merge(v).filter(function(w){return !!w;});return k.merge({blockMap:m,selectionBefore:l,selectionAfter:l.merge({anchorKey:n,anchorOffset:o,focusKey:n,focusOffset:o,isBackward:false})});}function j(k,l,m){if(l===0){while(l<m){k=k.shift();l++;}}else if(m===k.count()){while(m>l){k=k.pop();m--;}}else{var n=k.slice(0,l),o=k.slice(m);k=n.concat(o).toList();}return k;}f.exports=i;},null);
__d('setBlockTypeForContentState',['immutable'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k,l){var m=k.getStartKey(),n=k.getEndKey(),o=j.getBlockMap(),p=o.toSeq().skipUntil(function(q,r){return r===m;}).takeUntil(function(q,r){return r===n;}).concat(h.Map([[n,o.get(n)]])).map(function(q){return q.merge({type:l,depth:0});});return j.merge({blockMap:o.merge(p),selectionBefore:k,selectionAfter:k});}f.exports=i;},null);
__d('splitBlockInContentState',['generateBlockKey','invariant'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l){!l.isCollapsed()?i(0):undefined;var m=l.getAnchorKey(),n=l.getAnchorOffset(),o=k.getBlockMap(),p=o.get(m),q=p.getText(),r=p.getCharacterList(),s=p.merge({text:q.slice(0,n),characterList:r.slice(0,n)}),t=h(),u=s.merge({key:t,text:q.slice(n),characterList:r.slice(n)}),v=o.toSeq().takeUntil(function(y){return y===p;}),w=o.toSeq().skipUntil(function(y){return y===p;}).rest(),x=v.concat([[s.getKey(),s],[u.getKey(),u]],w).toOrderedMap();return k.merge({blockMap:x,selectionBefore:l,selectionAfter:l.merge({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0,isBackward:false})});}f.exports=j;},null);
__d('DraftModifier',['CharacterMetadata','ComposedInlineStyle','ContentStateInlineStyle','applyEntityToContentState','getCharacterRemovalRange','getContentStateFragment','insertFragmentIntoContentState','insertTextIntoContentState','invariant','removeEntitiesAtEdges','removeRangeFromContentState','setBlockTypeForContentState','splitBlockInContentState'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=i.NONE,v={replaceText:function(w,x,y,z,aa){var ba=q(w,x),ca=r(ba,x),da=h.create({style:z||u,entity:aa||null});return o(ca,ca.getSelectionAfter(),y,da);},insertText:function(w,x,y,z,aa){!x.isCollapsed()?p(0):undefined;return v.replaceText(w,x,y,z,aa);},moveText:function(w,x,y){var z=m(w,x),aa=v.removeRange(w,x,'backward');return v.replaceWithFragment(aa,y,z);},replaceWithFragment:function(w,x,y){var z=q(w,x),aa=r(z,x);return n(aa,aa.getSelectionAfter(),y);},removeRange:function(w,x,y){if(x.getAnchorKey()===x.getFocusKey()){var z=x.getAnchorKey(),aa=x.getStartOffset(),ba=x.getEndOffset(),ca=w.getBlockForKey(z),da=ca.getEntityAt(aa),ea=ca.getEntityAt(ba-1);if(da&&da===ea){var fa=l(ca,x,y);return r(w,fa);}}var ga=q(w,x);return r(ga,x);},splitBlock:function(w,x){var y=q(w,x),z=r(y,x);return t(z,z.getSelectionAfter());},applyInlineStyle:function(w,x,y){return j.add(w,x,y);},removeInlineStyle:function(w,x,y){return j.remove(w,x,y);},setBlockType:function(w,x,y){return s(w,x,y);},applyEntity:function(w,x,y){var z=q(w,x);return k(z,x,y);}};f.exports=v;},null);
__d('getEntityKeyForSelection',['DraftEntity'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(k,l){var m;if(l.isCollapsed()){var n=l.getAnchorKey(),o=l.getAnchorOffset();if(o>0){m=k.getBlockForKey(n).getEntityAt(o-1);return j(m);}return null;}var p=l.getStartKey(),q=l.getStartOffset(),r=k.getBlockForKey(p);m=q===r.getLength()?null:r.getEntityAt(q);return j(m);}function j(k){if(k){var l=h.get(k);return l.getMutability()==='MUTABLE'?k:null;}return null;}f.exports=i;},null);
__d('isSelectionAtLeafStart',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=i.getSelection(),k=j.getAnchorKey(),l=i.getBlockTree(k),m=j.getStartOffset(),n=false;l.some(function(o){if(m===o.get('start')){n=true;return true;}if(m<o.get('end'))return o.get('leaves').some(function(p){var q=p.get('start');if(m===q){n=true;return true;}if(m<q)return false;});return false;});return n;}f.exports=h;},null);
__d('DraftEditorCompositionHandler',['ComposedInlineStyle','DraftModifier','EditorState','Keys','getEntityKeyForSelection','isSelectionAtLeafStart'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=h.NONE,o=20,p={_stillComposing:false,_textInputData:'',onBeforeInput:function(q){this._textInputData=(this._textInputData||'')+q.data;},onCompositionStart:function(){this._stillComposing=true;},onCompositionEnd:function(){this._resolved=false;this._stillComposing=false;setTimeout((function(){if(!this._resolved)p.resolveComposition.call(this);}).bind(this),o);},onKeyDown:function(q){if(q.which===k.RIGHT||q.which===k.LEFT)q.preventDefault();},onKeyPress:function(q){if(q.which===k.RETURN)q.preventDefault();},resolveComposition:function(){if(this._stillComposing)return;this._resolved=true;var q=this._textInputData;this._textInputData='';var r=j.set(this.props.editorState,{inCompositionMode:false}),s=r.getCurrentInlineStyle(),t=l(r.getCurrentContent(),r.getSelection()),u=!q||m(r)||s!==n||t!==null;if(u)this.restoreEditorDOM();this.exitCurrentMode();this.removeRenderGuard();if(q){var v=i.replaceText(r.getCurrentContent(),r.getSelection(),q,s,t);this.update(j.push(r,v,'insert-characters'));return;}if(u)this.update(j.set(r,{nativelyRenderedContent:null,forceSelection:true}));}};f.exports=p;},null);
__d('DraftEditorTextNode.react',['React','ReactDOM','UserAgent'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';var m=j.isBrowser('IE <= 11');function n(r){return m?r.textContent==='\n':r.tagName==='BR';}var o=m?h.createElement('span',{key:'A','data-text':'true'},'\n'):h.createElement('br',{key:'A','data-text':'true'}),p=m?h.createElement('span',{key:'B','data-text':'true'},'\n'):h.createElement('br',{key:'B','data-text':'true'});k=babelHelpers.inherits(q,h.Component);l=k&&k.prototype;function q(r){l.constructor.call(this,r);this.$DraftEditorTextNode1=false;}q.prototype.shouldComponentUpdate=function(r){var s=i.findDOMNode(this),t=r.children==='';if(t)return !n(s);return s.textContent!==r.children;};q.prototype.componentWillUpdate=function(){this.$DraftEditorTextNode1=!this.$DraftEditorTextNode1;};q.prototype.render=function(){if(this.props.children==='')return this.$DraftEditorTextNode1?o:p;return (h.createElement('span',{key:this.$DraftEditorTextNode1?'A':'B','data-text':'true'},this.props.children));};f.exports=q;},null);
__d('setDraftEditorSelection',['containsNode','getActiveElement'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(m,n,o,p,q){if(!h(document.documentElement,n))return;var r=b.getSelection(),s=m.getAnchorKey(),t=m.getAnchorOffset(),u=m.getFocusKey(),v=m.getFocusOffset(),w=m.getIsBackward();if(!r.extend&&w){var x=s,y=t;s=u;t=v;u=x;v=y;w=false;}var z=s===o&&p<=t&&q>=t,aa=u===o&&p<=v&&q>=v;if(z&&aa){r.removeAllRanges();l(r,n,t-p);k(r,n,v-p);return;}if(!w){if(z){r.removeAllRanges();l(r,n,t-p);}if(aa)k(r,n,v-p);}else{if(aa){r.removeAllRanges();l(r,n,v-p);}if(z){var ba=r.focusNode,ca=r.focusOffset;r.removeAllRanges();l(r,n,t-p);k(r,ba,ca);}}}function k(m,n,o){if(m.extend&&h(i(),n)){m.extend(n,o);}else{var p=m.getRangeAt(0);p.setEnd(n,o);m.addRange(p.cloneRange());}}function l(m,n,o){var p=document.createRange();p.setStart(n,o);m.addRange(p);}f.exports=j;},null);
__d('DraftEditorLeaf.react',['DraftEditorTextNode.react','React','ReactDOM','SelectionState','setDraftEditorSelection'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;'use strict';m=babelHelpers.inherits(o,i.Component);n=m&&m.prototype;o.prototype.$DraftEditorLeaf1=function(){var p=this.props.selection;if(p==null||!p.getHasFocus())return;var q=this.props.start,r=q+this.props.text.length,s=this.props.blockKey;if(!p.hasEdgeWithin(s,q,r))return;var t=j.findDOMNode(this),u=t.firstChild,v;if(u.nodeType===Node.TEXT_NODE){v=u;}else if(u.tagName==='BR'){v=t;}else v=u.firstChild;l(p,v,s,q,r);};o.prototype.shouldComponentUpdate=function(p){return (j.findDOMNode(this.refs.leaf).textContent!==p.text||p.forceSelection);};o.prototype.componentDidUpdate=function(){this.$DraftEditorLeaf1();};o.prototype.componentDidMount=function(){this.$DraftEditorLeaf1();};o.prototype.render=function(){var p=this.props.text;if(p.endsWith('\n')&&this.props.isLast)p+='\n';var q=null;if(this.props.style)q=this.props.inlineStyleFn(this.props.style);return (i.createElement('span',{'data-offset-key':this.props.offsetKey,style:q,ref:'leaf'},i.createElement(h,null,p)));};function o(){m.apply(this,arguments);}f.exports=o;},null);
__d('DraftOffsetKey',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h='-',i={encode:function(j,k,l){return j+h+k+h+l;},decode:function(j){var k=j.split(h),l=k[0],m=k[1],n=k[2];return {blockKey:l,decoratorKey:parseInt(m,10),leafKey:parseInt(n,10)};}};f.exports=i;},null);
__d('ElementForBlockType',['ComposedBlockType','React','cx'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.createElement('ul',{className:"_5a_q"+(' '+"_5yj1")}),l=i.createElement('ol',{className:"_5a_q"+(' '+"_509r")}),m=i.createElement('pre',{className:"_19ik"}),n={getElement:function(o){switch(o){case h.HEADER_ONE:return 'h2';case h.HEADER_TWO:return 'h3';case h.UNORDERED_LIST_ITEM:case h.ORDERED_LIST_ITEM:return 'li';case h.BLOCKQUOTE:return 'blockquote';case h.MEDIA:return 'figure';default:return 'div';}},getWrapperTemplate:function(o){switch(o){case h.UNORDERED_LIST_ITEM:return k;case h.ORDERED_LIST_ITEM:return l;case h.CODE:return m;default:return null;}}};f.exports=n;},null);
__d('DraftEditorBlock.react',['ContentBlock','DraftEditorLeaf.react','DraftOffsetKey','ElementForBlockType','React','ReactDOM','Scroll','SelectionState','Style','UnicodeBidi','UnicodeBidiDirection','cx','getElementPosition','getScrollPosition','getViewportDimensions','joinClasses','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){if(c.__markCompiled)c.__markCompiled();var y,z;'use strict';var aa=10;y=babelHelpers.inherits(ba,l.Component);z=y&&y.prototype;ba.prototype.shouldComponentUpdate=function(da){return (this.props.block!==da.block||this.props.tree!==da.tree||this.props.direction!==da.direction||ca(da.selection,da.block.getKey())&&da.forceSelection);};ba.prototype.componentDidMount=function(){var da=this.props.selection,ea=da.getEndKey();if(!da.getHasFocus()||ea!==this.props.block.getKey())return;var fa=m.findDOMNode(this),ga=p.getScrollParent(fa),ha=u(ga),ia;if(ga===window){var ja=t(fa),ka=ja.y+ja.height,la=v().height;ia=ka-la;if(ia>0)window.scrollTo(ha.x,ha.y+ia+aa);}else{var ma=fa.offsetHeight+fa.offsetTop,na=ga.offsetHeight+ha.y;ia=ma-na;if(ia>0)n.setTop(ga,n.getTop(ga)+ia+aa);}};ba.prototype.$DraftEditorBlock1=function(){var da=this.props.block,ea=da.getKey(),fa=da.getText(),ga=this.props.tree.size-1,ha=ca(this.props.selection,ea);return this.props.tree.map((function(ia,ja){var ka=ia.get('leaves'),la=ka.size-1,ma=ka.map((function(ua,va){var wa=j.encode(ea,ja,va),xa=ua.get('start'),ya=ua.get('end');return (l.createElement(i,{key:wa,offsetKey:wa,blockKey:ea,start:xa,selection:ha?this.props.selection:undefined,forceSelection:this.props.forceSelection,text:fa.slice(xa,ya),style:da.getInlineStyleAt(xa),inlineStyleFn:this.props.inlineStyleFn,isLast:ja===ga&&va===la}));}).bind(this)).toArray(),na=ia.get('decoratorKey');if(na==null)return ma;if(!this.props.decorator)return ma;var oa=x(this.props.decorator),pa=oa.getComponentForKey(na);if(!pa)return ma;var qa=oa.getPropsForKey(na),ra=j.encode(ea,ja,0),sa=fa.slice(ka.first().get('start'),ka.last().get('end')),ta=r.getHTMLDirIfDifferent(q.getDirection(sa),this.props.direction);return (l.createElement(pa,babelHelpers._extends({},qa,{dir:ta,key:ra,entityKey:da.getEntityAt(ia.get('start')),offsetKey:ra}),ma));}).bind(this)).toArray();};ba.prototype.render=function(){var da=this.props.block,ea=da.getKey(),fa=da.getDepth(),ga=k.getElement(da.getType()),ha=w(this.props.blockStyleFn(da.getType()),"_45m_"+(this.props.direction==='LTR'?' '+"_2vxa":'')+(this.props.direction==='RTL'?' '+"_2vxb":''));if(ga==='li'){var ia=this.props.startIndent;ha=w(ha,(ia&&fa===0?"_45n0":'')+(ia&&fa===1?' '+"_45n1":'')+(ia&&fa===2?' '+"_45n2":'')+(ia&&fa===3?' '+"_45n3":'')+(ia&&fa===4?' '+"_45n4":'')+(fa===0?' '+"_45n5":'')+(fa===1?' '+"_45n6":'')+(fa===2?' '+"_45na":'')+(fa===3?' '+"_45nb":'')+(fa===4?' '+"_45nd":''));}var ja=babelHelpers._extends({'data-block':true,'data-offset-key':j.encode(ea,0,0),className:ha},this.props.blockProps);return l.createElement(ga,babelHelpers._extends({},ja),this.$DraftEditorBlock1());};function ba(){y.apply(this,arguments);}function ca(da,ea){return (da.getAnchorKey()===ea||da.getFocusKey()===ea);}f.exports=ba;},null);
__d('DraftEditorContents.react',['DraftEditorBlock.react','DraftOffsetKey','EditorState','ElementForBlockType','React','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o;'use strict';n=babelHelpers.inherits(p,l.Component);o=n&&n.prototype;p.prototype.shouldComponentUpdate=function(r){var s=this.props.editorState,t=r.editorState,u=s.getDirectionMap(),v=t.getDirectionMap();if(u!==v)return true;var w=s.getSelection().getHasFocus(),x=t.getSelection().getHasFocus();if(w!==x)return true;var y=t.getNativelyRenderedContent(),z=s.isInCompositionMode(),aa=t.isInCompositionMode();if(s===t||y!==null&&t.getCurrentContent()===y||z&&aa)return false;var ba=s.getCurrentContent(),ca=t.getCurrentContent(),da=s.getDecorator(),ea=t.getDecorator();return (z!==aa||ba!==ca||da!==ea||t.mustForceSelection());};p.prototype.render=function(){var r=this.props.editorState,s=r.getCurrentContent(),t=r.getSelection(),u=r.mustForceSelection(),v=m(r.getDirectionMap()),w=s.getBlocksAsArray(),x=[],y=null,z=null,aa=null,ba=undefined,ca=undefined,da=undefined,ea=undefined,fa=undefined,ga=undefined,ha=undefined;for(var ia=0;ia<w.length;ia++){da=w[ia];ea=da.getKey();fa=da.getType();var ja=this.props.blockRendererFn(da)||q,ka=ja.component,la=ja.props;ba=ka;ga=l.createElement(ba,{key:ea,tree:r.getBlockTree(ea),decorator:r.getDecorator(),block:da,selection:t,forceSelection:u,direction:v.get(ea),blockProps:la,startIndent:aa===null||da.getDepth()>aa,blockStyleFn:this.props.blockStyleFn,inlineStyleFn:this.props.inlineStyleFn});ha=k.getWrapperTemplate(fa);if(ha){if(z!==ha){ca=[];y=l.cloneElement(ha,{key:ea+'-wrap','data-offset-key':i.encode(ea,0,0)},ca);z=ha;x.push(y);}aa=da.getDepth();m(ca).push(ga);}else{ca=null;y=null;z=null;aa=null;x.push(ga);}}return l.createElement('div',{'data-contents':'true'},x);};function p(){n.apply(this,arguments);}var q={component:h,props:null};f.exports=p;},null);
__d('getSelectionOffsetKeyForNode',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){return i instanceof Element?i.getAttribute('data-offset-key'):null;}f.exports=h;},null);
__d('findAncestorOffsetKey',['getSelectionOffsetKeyForNode'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){while(j&&j!==document.documentElement){var k=h(j);if(k!=null)return k;j=j.parentNode;}return null;}f.exports=i;},null);
__d('getTextContentFromFiles',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=/\.textClipping$/,i={'text/plain':true,'text/html':true,'text/rtf':true},j=5000;function k(m,n){var o=0,p=[];m.forEach(function(q){l(q,function(r){o++;r&&p.push(r.slice(0,j));if(o==m.length)n(p.join('\r'));});});}function l(m,n){if(!b.FileReader||m.type&&!(m.type in i)){n('');return;}if(m.type===''){var o='';if(h.test(m.name))o=m.name.replace(h,'');n(o);return;}var p=new FileReader();p.onload=function(){n(p.result);};p.onerror=function(){n('');};p.readAsText(m);}f.exports=k;},null);
__d('getUpdatedSelectionState',['DraftOffsetKey','nullthrows'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l,m,n,o){var p=i(k.getSelection()),q=h.decode(l),r=q.blockKey,s=k.getBlockTree(r).getIn([q.decoratorKey,'leaves',q.leafKey]),t=h.decode(n),u=t.blockKey,v=k.getBlockTree(u).getIn([t.decoratorKey,'leaves',t.leafKey]),w=s.get('start'),x=v.get('start'),y=s?w+m:null,z=v?x+o:null,aa=p.getAnchorKey()===r&&p.getAnchorOffset()===y&&p.getFocusKey()===u&&p.getFocusOffset()===z;if(aa)return p;var ba=false;if(r===u){var ca=s.get('end'),da=v.get('end');if(x===w&&da===ca){ba=o<m;}else ba=x<w;}else{var ea=k.getCurrentContent().getBlockMap().keySeq().skipUntil(function(fa){return fa===r||fa===u;}).first();ba=ea===u;}return p.merge({anchorKey:r,anchorOffset:y,focusKey:u,focusOffset:z,isBackward:ba});}f.exports=j;},null);
__d('DraftEditorDragHandler',['DataTransfer','DraftModifier','EditorState','findAncestorOffsetKey','getTextContentFromFiles','getUpdatedSelectionState','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();function o(event,s){var t=null,u=null;if(document.caretRangeFromPoint){var v=document.caretRangeFromPoint(event.x,event.y);t=v.startContainer;u=v.startOffset;}else if(event.rangeParent){t=event.rangeParent;u=event.rangeOffset;}else return null;t=n(t);u=n(u);var w=n(k(t));return m(s,w,u,w,u);}var p={onDragEnd:function(){this.exitCurrentMode();},onDrop:function(s){var t=new h(s.nativeEvent.dataTransfer),u=this.props.editorState,v=o(s.nativeEvent,u);s.preventDefault();this.exitCurrentMode();if(v==null)return;var w=t.getFiles();if(w.length>0){if(this.props.handleDroppedFiles&&this.props.handleDroppedFiles(v,w))return;l(w,(function(x){x&&this.update(r(u,n(v),x));}).bind(this));return;}if(this._internalDrag){this.update(q(u,v));return;}this.update(r(u,v,t.getText()));}};function q(s,t){var u=i.moveText(s.getCurrentContent(),s.getSelection(),t);return j.push(s,u,'insert-fragment');}function r(s,t,u){var v=i.insertText(s.getCurrentContent(),t,u,s.getCurrentInlineStyle());return j.push(s,v,'insert-fragment');}f.exports=p;},null);
__d('editOnBeforeInput',['BlockTree','DraftModifier','EditorState','UserAgent','getEntityKeyForSelection','isSelectionAtLeafStart','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o='\'',p='\/',q=k.isBrowser('Firefox');function r(u){return (q&&(u==o||u==p));}function s(u,v,w,x){var y=i.replaceText(u.getCurrentContent(),u.getSelection(),v,w,x);return j.push(u,y,'insert-characters');}function t(u){var v=u.data;if(!v)return;if(this.props.handleBeforeInput&&this.props.handleBeforeInput(v)){u.preventDefault();return;}var w=this.props.editorState,x=w.getSelection();if(!x.isCollapsed()){u.preventDefault();this.update(s(w,v,w.getCurrentInlineStyle(),l(w.getCurrentContent(),w.getSelection())));return;}var y=!m(w),z=s(w,v,w.getCurrentInlineStyle(),l(w.getCurrentContent(),w.getSelection()));if(!y){u.preventDefault();this.update(z);return;}var aa=x.getAnchorKey(),ba=w.getBlockTree(aa),ca=h.getFingerprint(ba),da=h.getFingerprint(z.getBlockTree(aa));if(r(v)||ca!==da||n(z.getDirectionMap()).get(aa)!==n(w.getDirectionMap()).get(aa)){u.preventDefault();}else z=j.set(z,{nativelyRenderedContent:z.getCurrentContent()});this.update(z);}f.exports=t;},null);
__d('editOnBlur',['EditorState','UserAgent','getActiveElement'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.isEngine('WebKit');function l(m){if(k&&j()===document.body)b.getSelection().removeAllRanges();var n=this.props.editorState,o=n.getSelection();if(!o.getHasFocus())return;var p=o.set('hasFocus',false);this.props.onBlur&&this.props.onBlur(m);this.update(h.acceptSelection(n,p));}f.exports=l;},null);
__d('editOnCompositionStart',['EditorState'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(){this.setRenderGuard();this.setMode('composite');this.update(h.set(this.props.editorState,{inCompositionMode:true}));}f.exports=i;},null);
__d('getFragmentFromSelection',['getContentStateFragment'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){var k=j.getSelection();if(!k.isCollapsed())return h(j.getCurrentContent(),k);}f.exports=i;},null);
__d('editOnCopy',['getFragmentFromSelection'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){var k=this.props.editorState,l=k.getSelection();if(l.isCollapsed()){j.preventDefault();return;}this.setClipboard(h(this.props.editorState));}f.exports=i;},null);
__d('editOnCut',['DraftModifier','EditorState','getFragmentFromSelection'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(m){var n=this.props.editorState,o=n.getSelection();if(o.isCollapsed()){m.preventDefault();return;}var p=j(n);this.setClipboard(p);this.setRenderGuard();this.setMode('cut');setTimeout((function(){this.restoreEditorDOM();this.removeRenderGuard();this.exitCurrentMode();this.update(l(n));}).bind(this),0);}function l(m){var n=h.removeRange(m.getCurrentContent(),m.getSelection(),'forward');return i.push(m,n,'remove-range');}f.exports=k;},null);
__d('editOnDragOver',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){this._internalDrag=false;this.setMode('drag');i.preventDefault();}f.exports=h;},null);
__d('editOnDragStart',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this._internalDrag=true;this.setMode('drag');}f.exports=h;},null);
__d('editOnFocus',['EditorState'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){var k=this.props.editorState,l=k.getSelection();if(l.getHasFocus())return;var m=l.set('hasFocus',true);this.props.onFocus&&this.props.onFocus(j);this.update(h.forceSelection(k,m));}f.exports=i;},null);
__d('editOnInput',['DraftModifier','DraftOffsetKey','EditorState','UserAgent','findAncestorOffsetKey','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k.isEngine('Gecko'),o='\n\n';function p(){var q=b.getSelection(),r=q.anchorNode,s=q.isCollapsed;if(r.nodeType!==Node.TEXT_NODE)return;var t=r.textContent,u=this.props.editorState,v=m(l(r)),w=i.decode(v),x=w.blockKey,y=w.decoratorKey,z=w.leafKey,aa=u.getBlockTree(x).getIn([y,'leaves',z]),ba=aa.start,ca=aa.end,da=u.getCurrentContent(),ea=da.getBlockForKey(x),fa=ea.getText().slice(ba,ca);if(t.endsWith(o))t=t.slice(0,-1);if(t===fa)return;var ga=u.getSelection(),ha=ga.merge({anchorOffset:ba,focusOffset:ca,isBackward:false}),ia=h.replaceText(da,ha,t,ea.getInlineStyleAt(ba)),ja,ka,la,ma;if(n){ja=q.anchorOffset;ka=q.focusOffset;la=ba+Math.min(ja,ka);ma=la+Math.abs(ja-ka);ja=la;ka=ma;}else{var na=t.length-fa.length;la=ga.getStartOffset();ma=ga.getEndOffset();ja=s?ma+na:la;ka=ma+na;}var oa=ia.merge({selectionBefore:da.getSelectionAfter(),selectionAfter:ga.merge({anchorOffset:ja,focusOffset:ka})});this.update(j.push(u,oa,'spellcheck-change'));}f.exports=p;},null);
__d('SecondaryClipboard',['DraftModifier','EditorState','getContentStateFragment','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=null,m={cut:function(n){var o=n.getCurrentContent(),p=n.getSelection(),q=null;if(p.isCollapsed()){var r=p.getAnchorKey(),s=o.getBlockForKey(r).getLength();if(s===p.getAnchorOffset())return n;q=p.set('focusOffset',s);}else q=p;q=k(q);l=j(o,q);var t=h.removeRange(o,q,'forward');if(t===o)return n;return i.push(n,t,'remove-range');},paste:function(n){if(!l)return n;var o=h.replaceWithFragment(n.getCurrentContent(),n.getSelection(),l);return i.push(n,o,'insert-fragment');}};f.exports=m;},null);
__d('getRangeClientRects',['UserAgent','invariant'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.isBrowser('Chrome');function k(m){var n=m.cloneRange(),o=[];for(var p=m.endContainer;p!=null;p=p.parentNode){var q=p===m.commonAncestorContainer;if(q){n.setStart(m.startContainer,m.startOffset);}else n.setStart(n.endContainer,0);var r=Array.from(n.getClientRects());o.push(r);if(q){var s;o.reverse();return (s=[]).concat.apply(s,o);}n.setEndBefore(p);}i(0);}var l=j?k:function(m){return Array.from(m.getClientRects());};f.exports=l;},null);
__d('expandRangeToStartOfLine',['UnicodeUtils','getRangeClientRects','invariant'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(o){var p=getComputedStyle(o),q=document.createElement('div');q.style.fontFamily=p.fontFamily;q.style.fontSize=p.fontSize;q.style.fontStyle=p.fontStyle;q.style.fontWeight=p.fontWeight;q.style.lineHeight=p.lineHeight;q.style.position='absolute';q.textContent='M';document.body.appendChild(q);var r=q.getBoundingClientRect();document.body.removeChild(q);return r.height;}function l(o,p){var q=Infinity,r=Infinity,s=-Infinity,t=-Infinity;for(var u=0;u<o.length;u++){var v=o[u];if(v.width===0||v.width===1)continue;q=Math.min(q,v.top);r=Math.min(r,v.bottom);s=Math.max(s,v.top);t=Math.max(t,v.bottom);}return (s<=r&&s-q<p&&t-r<p);}function m(o){switch(o.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return o.length;default:return o.childNodes.length;}}function n(o){!o.collapsed?j(0):undefined;o=o.cloneRange();var p=o.startContainer;if(p.nodeType!==1)p=p.parentNode;var q=k(p),r=o.endContainer,s=o.endOffset;o.setStart(o.startContainer,0);while(l(i(o),q)){r=o.startContainer;s=o.startOffset;!r.parentNode?j(0):undefined;o.setStartBefore(r);if(r.nodeType===1&&getComputedStyle(r).display!=='inline')break;}var t=r,u=s-1;do{var v=t.nodeValue;for(var w=u;w>=0;w--){if(v!=null&&w>0&&h.isSurrogatePair(v,w-1))continue;o.setStart(t,w);if(l(i(o),q)){r=t;s=w;}else break;}if(w===-1||t.childNodes.length===0)break;t=t.childNodes[w];u=m(t);}while(true);o.setStart(r,s);return o;}f.exports=n;},null);
__d('getDraftEditorSelectionWithNodes',['findAncestorOffsetKey','getSelectionOffsetKeyForNode','getUpdatedSelectionState','invariant','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();function m(r,s,t,u,v,w){var x=t.nodeType===Node.TEXT_NODE,y=v.nodeType===Node.TEXT_NODE;if(x&&y)return {selectionState:j(r,l(h(t)),u,l(h(v)),w),needsRecovery:false};var z=null,aa=null,ba=true;if(x){z={key:l(h(t)),offset:u};aa=p(s,v,w);}else if(y){aa={key:l(h(v)),offset:w};z=p(s,t,u);}else{z=p(s,t,u);aa=p(s,v,w);if(t===v&&u===w)ba=t.firstChild.nodeName!=='BR';}return {selectionState:j(r,z.key,z.offset,aa.key,aa.offset),needsRecovery:ba};}function n(r){while(r.firstChild&&i(r.firstChild))r=r.firstChild;return r;}function o(r){while(r.lastChild&&i(r.lastChild))r=r.lastChild;return r;}function p(r,s,t){var u=h(s);!(u!=null||r&&(r===s||r.firstChild===s))?k(0):undefined;if(r===s){s=s.firstChild;!(s instanceof Element&&s.getAttribute('data-contents')==='true')?k(0):undefined;if(t>0)t=s.childNodes.length;}if(t===0){var v=null;if(u!=null){v=u;}else{var w=n(s);v=l(i(w));}return {key:v,offset:0};}var x=s.childNodes[t-1],y=null,z=null;if(!i(x)){y=l(u);z=q(x);}else{var aa=o(x);y=l(i(aa));z=q(aa);}return {key:y,offset:z};}function q(r){var s=r.textContent;return s==='\n'?0:s.length;}f.exports=m;},null);
__d('removeTextWithStrategy',['DraftModifier'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k,l){var m=j.getSelection(),n=j.getCurrentContent(),o=m;if(m.isCollapsed()){if(l==='forward'){if(j.isSelectionAtEndOfContent())return n;}else if(j.isSelectionAtStartOfContent())return n;o=k(j);if(o===m)return n;}return h.removeRange(n,o,l);}f.exports=i;},null);
__d('keyCommandBackspaceToStartOfLine',['EditorState','expandRangeToStartOfLine','getDraftEditorSelectionWithNodes','removeTextWithStrategy'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m){var n=k(m,function(o){var p=b.getSelection(),q=p.getRangeAt(0);q=i(q);var r=j(o,null,q.endContainer,q.endOffset,q.startContainer,q.startOffset).selectionState;return r;},'backward');if(n===m.getCurrentContent())return m;return h.push(m,n,'remove-range');}f.exports=l;},null);
__d('DraftRemovableWord',['TokenizeUtil'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.getPunctuation(),j='[\'\u2018\u2019]',k='\\s|(?![_])'+i,l='^'+'(?:'+k+')*'+'(?:'+j+'|(?!'+k+').)*'+'(?:(?!'+k+').)',m=new RegExp(l),n='(?:(?!'+k+').)'+'(?:'+j+'|(?!'+k+').)*'+'(?:'+k+')*'+'$',o=new RegExp(n);function p(r,s){var t=s?o.exec(r):m.exec(r);return t?t[0]:r;}var q={getBackward:function(r){return p(r,true);},getForward:function(r){return p(r,false);}};f.exports=q;},null);
__d('moveSelectionBackward',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=i.getSelection(),l=i.getCurrentContent(),m=k.getStartKey(),n=k.getStartOffset(),o=m,p=0;if(j>n){var q=l.getKeyBefore(m);if(q==null){o=m;}else{o=q;var r=l.getBlockForKey(q);p=r.getText().length;}}else p=n-j;return k.merge({focusKey:o,focusOffset:p,isBackward:true});}f.exports=h;},null);
__d('keyCommandBackspaceWord',['DraftRemovableWord','EditorState','moveSelectionBackward','removeTextWithStrategy'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m){var n=k(m,function(o){var p=o.getSelection(),q=p.getStartOffset();if(q===0)return j(o,1);var r=p.getStartKey(),s=o.getCurrentContent(),t=s.getBlockForKey(r).getText().slice(0,q),u=h.getBackward(t);return j(o,u.length||1);},'backward');if(n===m.getCurrentContent())return m;return i.push(m,n,'remove-range');}f.exports=l;},null);
__d('moveSelectionForward',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=i.getSelection(),l=k.getStartKey(),m=k.getStartOffset(),n=i.getCurrentContent(),o=l,p,q=n.getBlockForKey(l);if(j>q.getText().length-m){o=n.getKeyAfter(l);p=0;}else p=m+j;return k.merge({focusKey:o,focusOffset:p});}f.exports=h;},null);
__d('keyCommandDeleteWord',['DraftRemovableWord','EditorState','moveSelectionForward','removeTextWithStrategy'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m){var n=k(m,function(o){var p=o.getSelection(),q=p.getStartOffset(),r=p.getStartKey(),s=o.getCurrentContent(),t=s.getBlockForKey(r).getText().slice(q),u=h.getForward(t);return j(o,u.length||1);},'forward');if(n===m.getCurrentContent())return m;return i.push(m,n,'remove-range');}f.exports=l;},null);
__d('keyCommandInsertNewline',['DraftModifier','EditorState'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k){var l=h.splitBlock(k.getCurrentContent(),k.getSelection());return i.push(k,l,'split-block');}f.exports=j;},null);
__d('keyCommandMoveSelectionToEndOfBlock',['EditorState'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){var k=j.getSelection(),l=k.getEndKey(),m=j.getCurrentContent(),n=m.getBlockForKey(l).getLength();return h.set(j,{selection:k.merge({anchorKey:l,anchorOffset:n,focusKey:l,focusOffset:n,isBackward:false}),forceSelection:true});}f.exports=i;},null);
__d('keyCommandMoveSelectionToStartOfBlock',['EditorState'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){var k=j.getSelection(),l=k.getStartKey();return h.set(j,{selection:k.merge({anchorKey:l,anchorOffset:0,focusKey:l,focusOffset:0,isBackward:false}),forceSelection:true});}f.exports=i;},null);
__d('keyCommandPlainBackspace',['EditorState','UnicodeUtils','moveSelectionBackward','removeTextWithStrategy'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m){var n=k(m,function(p){var q=p.getSelection(),r=p.getCurrentContent(),s=q.getAnchorKey(),t=q.getAnchorOffset(),u=r.getBlockForKey(s).getText()[t-1];return j(p,u?i.getUTF16Length(u,0):1);},'backward');if(n===m.getCurrentContent())return m;var o=m.getSelection();return h.push(m,n.set('selectionBefore',o),o.isCollapsed()?'backspace-character':'remove-range');}f.exports=l;},null);
__d('keyCommandPlainDelete',['EditorState','UnicodeUtils','moveSelectionForward','removeTextWithStrategy'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m){var n=k(m,function(p){var q=p.getSelection(),r=p.getCurrentContent(),s=q.getAnchorKey(),t=q.getAnchorOffset(),u=r.getBlockForKey(s).getText()[t];return j(p,u?i.getUTF16Length(u,0):1);},'forward');if(n===m.getCurrentContent())return m;var o=m.getSelection();return h.push(m,n.set('selectionBefore',o),o.isCollapsed()?'delete-character':'remove-range');}f.exports=l;},null);
__d('keyCommandTransposeCharacters',['DraftModifier','EditorState','getContentStateFragment'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(l){var m=l.getSelection();if(!m.isCollapsed())return l;var n=m.getAnchorOffset();if(n===0)return l;var o=m.getAnchorKey(),p=l.getCurrentContent(),q=p.getBlockForKey(o),r=q.getLength();if(r<=1)return l;var s,t;if(n===r){s=m.set('anchorOffset',n-1);t=m;}else{s=m.set('focusOffset',n+1);t=s.set('anchorOffset',n+1);}var u=j(p,s),v=h.removeRange(p,s,'backward'),w=v.getSelectionAfter(),x=w.getAnchorOffset()-1,y=w.merge({anchorOffset:x,focusOffset:x}),z=h.replaceWithFragment(v,y,u),aa=i.push(l,z,'insert-fragment');return i.acceptSelection(aa,t);}f.exports=k;},null);
__d('keyCommandUndo',['EditorState'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k,l){var m=h.undo(k);if(k.getLastChangeType()==='spellcheck-change'){var n=m.getCurrentContent();l(h.set(m,{nativelyRenderedContent:n}));return;}j.preventDefault();if(!k.getNativelyRenderedContent()){l(m);return;}l(h.set(k,{nativelyRenderedContent:null}));setTimeout(function(){l(m);},0);}f.exports=i;},null);
__d('editOnKeyDown',['EditorState','Keys','SecondaryClipboard','keyCommandBackspaceToStartOfLine','keyCommandBackspaceWord','keyCommandDeleteWord','keyCommandInsertNewline','keyCommandPlainBackspace','keyCommandPlainDelete','keyCommandMoveSelectionToEndOfBlock','keyCommandMoveSelectionToStartOfBlock','keyCommandTransposeCharacters','keyCommandUndo'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();function u(w,x){switch(w){case 'redo':return h.redo(x);case 'delete':return p(x);case 'delete-word':return m(x);case 'backspace':return o(x);case 'backspace-word':return l(x);case 'backspace-to-start-of-line':return k(x);case 'insert-block-delimiter':return n(x);case 'transpose-characters':return s(x);case 'move-selection-to-start-of-block':return r(x);case 'move-selection-to-end-of-block':return q(x);case 'secondary-cut':return j.cut(x);case 'secondary-paste':return j.paste(x);default:return x;}}function v(w){var x=w.which,y=this.props.editorState;switch(x){case i.RETURN:w.preventDefault();if(!this.props.handleReturn||!this.props.handleReturn(w))this.update(n(y));return;case i.ESC:w.preventDefault();this.props.onEscape&&this.props.onEscape(w);return;case i.TAB:this.props.onTab&&this.props.onTab(w);return;case i.UP:this.props.onUpArrow&&this.props.onUpArrow(w);return;case i.DOWN:this.props.onDownArrow&&this.props.onDownArrow(w);return;}var z=this.props.keyBindingFn(w);if(!z)return;if(z==='undo'){t(w,y,this.update);return;}w.preventDefault();if(this.props.handleKeyCommand&&this.props.handleKeyCommand(z))return;var aa=u(z,y);if(aa!==y)this.update(aa);}f.exports=v;},null);
__d('DraftPasteProcessor',['CharacterMetadata','ComposedBlockType','ComposedInlineStyle','ContentBlock','DraftEntity','immutable','URI','arrayContains','fillArray','generateBlockKey','getSafeBodyFromHTML','invariant','nullthrows','sanitizeDraftText'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';if(c.__markCompiled)c.__markCompiled();var v=i.HEADER_ONE,w=i.HEADER_TWO,x=i.ORDERED_LIST_ITEM,y=i.UNORDERED_LIST_ITEM,z=i.BLOCKQUOTE,aa=i.UNSTYLED,ba=j.BOLD,ca=j.ITALIC,da=j.UNDERLINE,ea=j.CODE,fa=j.STRIKETHROUGH,ga=j.NONE,ha=m.List,ia=m.Repeat,ja='&nbsp;',ka=' ',la=4,ma=new RegExp('\r','g'),na=new RegExp('\n','g'),oa=new RegExp(ja,'g'),pa=['p','h1','h2','h3','li','blockquote','pre'],qa={b:ba,code:ea,del:fa,em:ca,i:ca,s:fa,strike:fa,strong:ba,u:da},ra;function sa(){return {text:'',inlines:[],entities:[],blocks:[]};}function ta(eb){var fb=new Array(1);if(eb)fb[0]=eb;return {text:ka,inlines:[ga],entities:fb,blocks:[]};}function ua(){return {text:'\n',inlines:[ga],entities:new Array(1),blocks:[]};}function va(eb,fb){return {text:'\r',inlines:[ga],entities:new Array(1),blocks:[{type:eb,depth:Math.max(0,Math.min(la,fb))}]};}function wa(eb,fb){switch(eb){case 'h1':return v;case 'h2':return w;case 'li':if(fb==='ol')return x;return y;case 'blockquote':return z;case 'pre':return i.CODE;default:return aa;}}function xa(eb,fb,gb){var hb=qa[eb];if(hb){gb|=hb;}else if(fb.style){gb|=fb.style.fontWeight==='bold'?ba:0;gb|=fb.style.fontStyle==='italic'?ca:0;gb|=fb.style.textDecoration==='underline'?da:0;gb|=fb.style.textDecoration==='line-through'?fa:0;}return gb;}function ya(eb,fb){var gb=fb.text.slice(0,1);if(eb.text.slice(-1)==='\r'&&gb==='\r'){eb.text=eb.text.slice(0,-1);eb.inlines.pop();eb.entities.pop();eb.blocks.pop();}if(eb.text.slice(-1)==='\r')if(fb.text===ka||fb.text==='\n'){return eb;}else if(gb===ka||gb==='\n'){fb.text=fb.text.slice(1);fb.inlines.shift();fb.entities.shift();}return {text:eb.text+fb.text,inlines:eb.inlines.concat(fb.inlines),entities:eb.entities.concat(fb.entities),blocks:eb.blocks.concat(fb.blocks)};}function za(eb){return pa.some(function(fb){return eb.indexOf('<'+fb)!==-1;});}function ab(eb){!(eb instanceof HTMLAnchorElement)?s(0):undefined;var fb=eb.protocol;return fb==='http:'||fb==='https:';}function bb(eb,fb,gb,hb,ib,jb,kb){var lb=eb.nodeName.toLowerCase(),mb=false,nb=aa,ob=ra;if(lb==='#text'){var pb=eb.textContent;if(pb.trim()===''&&hb!=='pre')return ta(kb);if(hb!=='pre')pb=pb.replace(na,ka);ra=lb;return {text:pb,inlines:p(pb.length,fb),entities:p(pb.length,kb),blocks:[]};}ra=lb;if(lb==='br'){if(ob==='br'&&(!hb||wa(hb,gb)===aa))return va(aa,jb);return ua();}var qb=sa(),rb=null;fb=xa(lb,eb,fb);if(lb==='ul'||lb==='ol'){if(gb)jb+=1;gb=lb;}if(!hb&&o(ib,lb)){qb=va(wa(lb,gb),jb);hb=lb;mb=true;}else if(gb&&hb==='li'&&lb==='li'){qb=va(wa(lb,gb),jb);hb=lb;mb=true;nb=gb==='ul'?y:x;}var sb=eb.firstChild;if(sb!=null)lb=sb.nodeName.toLowerCase();var tb=null,ub=null;while(sb){if(lb==='a'&&sb.href&&ab(sb)){ub=new n(sb.href).toString();tb=l.create('LINK','MUTABLE',{url:ub});}else tb=undefined;rb=bb(sb,fb,gb,hb,ib,jb,tb||kb);qb=ya(qb,rb);var vb=sb.nextSibling;if(vb&&ib.indexOf(lb)>=0&&hb)qb=ya(qb,ua());if(vb)lb=vb.nodeName.toLowerCase();sb=vb;}if(mb)qb=ya(qb,va(nb,jb));return qb;}function cb(eb){eb=eb.trim().replace(ma,'').replace(oa,ka);var fb=r(eb);if(!fb)return null;ra=null;var gb=za(eb)?pa:['div'],hb=bb(fb,ga,'ul',null,gb,-1);if(hb.text.indexOf('\r')===0)hb={text:hb.text.slice(1),inlines:hb.inlines.slice(1),entities:hb.entities.slice(1),blocks:hb.blocks};if(hb.text.slice(-1)==='\r'){hb.text=hb.text.slice(0,-1);hb.inlines=hb.inlines.slice(0,-1);hb.entities=hb.entities.slice(0,-1);hb.blocks.pop();}if(hb.blocks.length===0)hb.blocks.push({type:aa,depth:0});if(hb.text.split('\r').length===hb.blocks.length+1)hb.blocks.unshift({type:aa,depth:0});return hb;}var db={processHTML:function(eb){var fb=cb(eb);if(fb==null)return null;var gb=0;return fb.text.split('\r').map(function(hb,ib){hb=u(hb);var jb=gb+hb.length,kb=t(fb).inlines.slice(gb,jb),lb=t(fb).entities.slice(gb,jb),mb=ha(kb.map(function(nb,ob){var pb={style:nb,entity:null};if(lb[ob])pb.entity=lb[ob];return h.create(pb);}));gb=jb+1;return new k({key:q(),type:t(fb).blocks[ib].type,depth:t(fb).blocks[ib].depth,text:hb,characterList:mb});});},processText:function(eb,fb){return eb.map(function(gb){gb=u(gb);return new k({key:q(),type:aa,text:gb,characterList:ha(ia(fb,gb.length))});});}};f.exports=db;},null);
__d('splitTextIntoTextBlocks',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=/\r\n?|\n/g;function i(j){return j.split(h);}f.exports=i;},null);
__d('editOnPaste',['BlockMapBuilder','CharacterMetadata','DataTransfer','DraftModifier','DraftPasteProcessor','EditorState','getEntityKeyForSelection','getTextContentFromFiles','nullthrows','splitTextIntoTextBlocks'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();function r(u){u.preventDefault();var v=new j(u.clipboardData);if(!v.isRichText()){var w=v.getFiles(),x=v.getText();if(w.length>0){if(this.props.handlePastedFiles&&this.props.handlePastedFiles(w))return;o(w,(function(la){la=la||x;if(!la)return;var ma=this.props.editorState,na=q(la),oa=i.create({style:ma.getCurrentInlineStyle(),entity:n(ma.getCurrentContent(),ma.getSelection())}),pa=l.processText(na,oa),qa=h.createFromArray(pa),ra=k.replaceWithFragment(ma.getCurrentContent(),ma.getSelection(),qa);this.update(m.push(ma,ra,'insert-fragment'));}).bind(this));return;}}var y=null,z=v.getText();this.props.onPasteRawText&&this.props.onPasteRawText(z);if(z)y=q(z);if(!this.props.stripPastedStyles){if(v.isRichText()&&this.getClipboard()){y=p(y);var aa=y.filter(s),ba=this.getClipboard(),ca=ba.toSeq().map(function(la){return la.getText();}).filter(s).toArray(),da=aa.every(function(la,ma){return la===ca[ma];});if(da){this.update(t(this.props.editorState,ba));return;}}var ea=v.getHTML();if(ea){var fa=l.processHTML(ea);if(fa){var ga=h.createFromArray(fa);this.update(t(this.props.editorState,ga));return;}}this.setClipboard(null);}if(y){var ha=this.props.editorState,ia=i.create({style:ha.getCurrentInlineStyle(),entity:n(ha.getCurrentContent(),ha.getSelection())}),ja=l.processText(y,ia),ka=h.createFromArray(ja);this.update(t(this.props.editorState,ka));}}function s(u){return u.length>0;}function t(u,v){var w=k.replaceWithFragment(u.getCurrentContent(),u.getSelection(),v);return m.push(u,w,'insert-fragment');}f.exports=r;},null);
__d('getDraftEditorSelection',['getDraftEditorSelectionWithNodes'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){var l=b.getSelection();if(l.rangeCount===0)return {selectionState:j.getSelection().set('hasFocus',false),needsRecovery:false};return h(j,k,l.anchorNode,l.anchorOffset,l.focusNode,l.focusOffset);}f.exports=i;},null);
__d('editOnSelect',['EditorState','ReactDOM','getDraftEditorSelection'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(){if(this._blockSelectEvents)return;var l=this.props.editorState,m=j(l,i.findDOMNode(this.refs.editorContainer).firstChild),n=m.selectionState;if(n!==l.getSelection()){if(m.needsRecovery){l=h.forceSelection(l,n);}else l=h.acceptSelection(l,n);this.update(l);}}f.exports=k;},null);
__d('DraftEditorEditHandler',['editOnBeforeInput','editOnBlur','editOnCompositionStart','editOnCopy','editOnCut','editOnDragOver','editOnDragStart','editOnFocus','editOnInput','editOnKeyDown','editOnPaste','editOnSelect'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t={onBeforeInput:h,onBlur:i,onCompositionStart:j,onCopy:k,onCut:l,onDragOver:m,onDragStart:n,onFocus:o,onInput:p,onKeyDown:q,onPaste:r,onSelect:s};f.exports=t;},null);
__d('DraftEditorPlaceholder.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;'use strict';j=babelHelpers.inherits(l,h.Component);k=j&&j.prototype;l.prototype.shouldComponentUpdate=function(m){return (this.props.text!==m.text||this.props.editorState.getSelection().getHasFocus()!==m.editorState.getSelection().getHasFocus());};l.prototype.render=function(){var m=this.props.editorState.getSelection().getHasFocus(),n="_1p1t"+(m?' '+"_1p1u":'');return (h.createElement('div',{className:n},h.createElement('div',{className:"_1p1v"},this.props.text)));};function l(){j.apply(this,arguments);}f.exports=l;},null);
__d('KeyBindingUtil',['UserAgent'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.isPlatform('Mac OS X'),j={isCtrlKeyCommand:function(k){return !!k.ctrlKey&&!k.altKey;},hasCommandModifier:function(k){return i?!!k.metaKey&&!k.altKey:j.isCtrlKeyCommand(k);}};f.exports=j;},null);
__d('getDefaultKeyBinding',['KeyBindingUtil','Keys','UserAgent'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=j.isPlatform('Mac OS X'),l=j.isPlatform('Windows'),m=k&&j.isBrowser('Firefox < 29'),n=h.hasCommandModifier,o=h.isCtrlKeyCommand;function p(u){return k&&u.altKey||o(u);}function q(u){if(n(u))return u.shiftKey?'redo':'undo';}function r(u){if(l&&u.shiftKey)return null;return p(u)?'delete-word':'delete';}function s(u){if(n(u)&&k)return 'backspace-to-start-of-line';return p(u)?'backspace-word':'backspace';}function t(u){switch(u.keyCode){case 66:return n(u)?'bold':null;case 68:return o(u)?'delete':null;case 72:return o(u)?'backspace':null;case 73:return n(u)?'italic':null;case 74:return n(u)?'code':null;case 75:return !l&&o(u)?'secondary-cut':null;case 79:return o(u)?'insert-block-delimiter':null;case 84:return k&&o(u)?'transpose-characters':null;case 85:return n(u)?'underline':null;case 87:return k&&o(u)?'backspace-word':null;case 89:if(o(u))return l?'redo':'secondary-paste';return null;case 90:return q(u)||null;case i.DELETE:return r(u);case i.BACKSPACE:return s(u);case i.LEFT:return (m&&n(u)?'move-selection-to-start-of-block':null);case i.RIGHT:return (m&&n(u)?'move-selection-to-end-of-block':null);default:return null;}}f.exports=t;},null);
__d('DraftEditor.react',['DOMVector','DraftEditorCompositionHandler','DraftEditorContents.react','DraftEditorDragHandler','DraftEditorEditHandler','DraftEditorPlaceholder.react','EditorState','React','ReactDOM','UserAgent','cx','emptyFunction','getDefaultKeyBinding','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w;'use strict';var x=q.isBrowser('IE'),y=!x,z={edit:l,composite:i,drag:k,cut:null,render:null};v=babelHelpers.inherits(aa,o.Component);w=v&&v.prototype;aa.defaultProps={blockRendererFn:s.thatReturnsNull,blockStyleFn:s.thatReturns(''),inlineStyleFn:s.thatReturnsNull,keyBindingFn:t,readOnly:false,spellCheck:false,stripPastedStyles:false};function aa(ba){w.constructor.call(this,ba);this.$DraftEditor1=false;this.$DraftEditor2=null;this.$DraftEditor3=false;this.$DraftEditor4=null;this.$DraftEditor5=this.$DraftEditor6('onBeforeInput');this.$DraftEditor7=this.$DraftEditor6('onBlur');this.$DraftEditor8=this.$DraftEditor6('onCharacterData');this.$DraftEditor9=this.$DraftEditor6('onCompositionEnd');this.$DraftEditor10=this.$DraftEditor6('onCompositionStart');this.$DraftEditor11=this.$DraftEditor6('onCopy');this.$DraftEditor12=this.$DraftEditor6('onCut');this.$DraftEditor13=this.$DraftEditor6('onDragEnd');this.$DraftEditor14=this.$DraftEditor6('onDragOver');this.$DraftEditor15=this.$DraftEditor6('onDragStart');this.$DraftEditor16=this.$DraftEditor6('onDrop');this.$DraftEditor17=this.$DraftEditor6('onInput');this.$DraftEditor18=this.$DraftEditor6('onFocus');this.$DraftEditor19=this.$DraftEditor6('onKeyDown');this.$DraftEditor20=this.$DraftEditor6('onKeyPress');this.$DraftEditor21=this.$DraftEditor6('onKeyUp');this.$DraftEditor22=this.$DraftEditor6('onMouseDown');this.$DraftEditor23=this.$DraftEditor6('onMouseUp');this.$DraftEditor24=this.$DraftEditor6('onPaste');this.$DraftEditor25=this.$DraftEditor6('onSelect');this.focus=this.$DraftEditor26.bind(this);this.blur=this.$DraftEditor27.bind(this);this.setMode=this.$DraftEditor28.bind(this);this.exitCurrentMode=this.$DraftEditor29.bind(this);this.restoreEditorDOM=this.$DraftEditor30.bind(this);this.setRenderGuard=this.$DraftEditor31.bind(this);this.removeRenderGuard=this.$DraftEditor32.bind(this);this.setClipboard=this.$DraftEditor33.bind(this);this.getClipboard=this.$DraftEditor34.bind(this);this.update=this.$DraftEditor35.bind(this);this.state={containerKey:0};}aa.prototype.$DraftEditor6=function(ba){return (function(ca){if(!this.props.readOnly){var da=this.$DraftEditor4&&this.$DraftEditor4[ba];da&&da.call(this,ca);}}).bind(this);};aa.prototype.$DraftEditor36=function(){var ba=this.props.editorState.getCurrentContent(),ca=this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!ba.hasText();if(ca)return (o.createElement(m,{text:u(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment}));};aa.prototype.render=function(){var ba=this.props,ca=ba.readOnly,da=ba.textAlignment,ea="_5rp7"+(da==='left'?' '+"_5rp8":'')+(da==='right'?' '+"_5rp9":'')+(da==='center'?' '+"_5rpa":''),fa=this.props.editorState.getCurrentContent().hasText();return (o.createElement('div',{className:ea},this.$DraftEditor36(),o.createElement('div',{className:"_5rpb",key:'editor'+this.state.containerKey,ref:'editorContainer'},o.createElement('div',{'aria-activedescendant':ca?null:this.props.ariaActiveDescendantID,'aria-autocomplete':ca?null:this.props.ariaAutoComplete,'aria-describedby':this.props.ariaDescribedBy,'aria-expanded':ca?null:this.props.ariaExpanded,'aria-haspopup':ca?null:this.props.ariaHasPopup,'aria-label':this.props.ariaLabel,'aria-owns':ca?null:this.props.ariaOwneeID,className:"_5rpu",contentEditable:!ca,'data-testid':this.props.webDriverTestID,onBeforeInput:this.$DraftEditor5,onBlur:this.$DraftEditor7,onCompositionEnd:this.$DraftEditor9,onCompositionStart:this.$DraftEditor10,onCopy:this.$DraftEditor11,onCut:this.$DraftEditor12,onDragEnd:this.$DraftEditor13,onDragOver:this.$DraftEditor14,onDragStart:this.$DraftEditor15,onDrop:this.$DraftEditor16,onFocus:this.$DraftEditor18,onInput:this.$DraftEditor17,onKeyDown:this.$DraftEditor19,onKeyPress:this.$DraftEditor20,onKeyUp:this.$DraftEditor21,onMouseUp:this.$DraftEditor23,onPaste:this.$DraftEditor24,onSelect:this.$DraftEditor25,ref:'editor',role:ca?null:this.props.role||'textbox',spellCheck:y&&this.props.spellCheck,tabIndex:this.props.tabIndex,title:fa?null:this.props.placeholder},o.createElement(j,{blockRendererFn:u(this.props.blockRendererFn),blockStyleFn:u(this.props.blockStyleFn),editorState:this.props.editorState,inlineStyleFn:u(this.props.inlineStyleFn)})))));};aa.prototype.componentDidMount=function(){this.setMode('edit');if(x)document.execCommand('AutoUrlDetect',false,false);};aa.prototype.componentWillUpdate=function(){this.$DraftEditor1=true;};aa.prototype.componentDidUpdate=function(){this.$DraftEditor1=false;};aa.prototype.$DraftEditor26=function(){var ba=this.props.editorState,ca=ba.getSelection().getHasFocus(),da=h.getScrollPosition();p.findDOMNode(this.refs.editor).focus();window.scrollTo(da.x,da.y);if(!ca)this.update(n.forceSelection(ba,ba.getSelection()));};aa.prototype.$DraftEditor27=function(){p.findDOMNode(this.refs.editor).blur();};aa.prototype.$DraftEditor28=function(ba){this.$DraftEditor4=z[ba];};aa.prototype.$DraftEditor29=function(){this.setMode('edit');};aa.prototype.$DraftEditor30=function(){this.setState({containerKey:this.state.containerKey+1},this.focus);};aa.prototype.$DraftEditor31=function(){this.$DraftEditor3=true;};aa.prototype.$DraftEditor32=function(){this.$DraftEditor3=false;};aa.prototype.$DraftEditor33=function(ba){this.$DraftEditor2=ba;};aa.prototype.$DraftEditor34=function(){return this.$DraftEditor2;};aa.prototype.$DraftEditor35=function(ba){this.props.onChange(ba);};f.exports=aa;},null);
__d('AbstractMentionsTextEditor.react',['DraftEditor.react','DraftModifier','EditorState','React','TypeaheadNavigation','clearImmediate','getOrCreateDOMID','setImmediate','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=k.PropTypes,r=5,s=k.createClass({displayName:'AbstractMentionsTextEditor',propTypes:{mentionsSource:q.object,mentionCreationFn:q.func.isRequired,mentionResultsComponent:q.func.isRequired,mentionResultsProps:q.object,excludedEntries:q.object,handleContentReturn:q.func,onAddMention:q.func,onShowMentions:q.func,autoHighlight:q.bool,maxResults:q.number},getDefaultProps:function(){return babelHelpers._extends({},h.defaultProps,{autoHighlight:true,maxResults:r});},componentWillMount:function(){this._viewID=p();this._searchTimeouts=[];},componentWillUnmount:function(){this._searchTimeouts.forEach(function(u){return m(u);});this._searchTimeouts=null;},getInitialState:function(){return {highlightedMentionable:null,ariaActiveDescendantID:null,mentionableEntries:null,characterOffset:0};},_onShowMentions:function(u,v){if(!this.isMounted())return;var w=u&&u.length;if(!w){this.setState({highlightedMentionable:null,activeDescendantID:null,mentionableEntries:null,characterOffset:0});return;}var x=u.slice(0,this.props.maxResults),y=this.props.typeaheadViewProps;if(y&&y.mentionSortFn)x.sort(y.mentionSortFn);var z=null;if(this.props.autoHighlight||this.state.highlightedMentionable!==null)z=u[0];this.setState({highlightedMentionable:z,mentionableEntries:x,characterOffset:v});if(this.props.onShowMentions)this.props.onShowMentions(x,v);},_onBlur:function(u){this.setState(this.getInitialState());this.props.onBlur&&this.props.onBlur(u);},_onFocus:function(u){this.props.mentionsSource&&this.props.mentionsSource.bootstrap();this.props.onFocus&&this.props.onFocus(u);},_handleReturn:function(u){if(this.state.highlightedMentionable){this._onMentionSelect(this.state.highlightedMentionable,u);return true;}else if(this.props.handleContentReturn&&this.props.handleContentReturn(u))return true;return false;},_onTab:function(u){if(this.state.highlightedMentionable){u.preventDefault();this._onMentionSelect(this.state.highlightedMentionable,u);}else if(this.props.onTab)this.props.onTab(u);},_onEscape:function(u){if(this.props.onEscape)this.props.onEscape(u);if(this.state.mentionableEntries){u.stopPropagation();this.setState(this.getInitialState());}},_onUpArrow:function(u){if(this.state.mentionableEntries){u.preventDefault();l.moveUp(this.state.mentionableEntries,this.state.highlightedMentionable,this._onMentionHighlight);}else this.props.onUpArrow&&this.props.onUpArrow(u);},_onDownArrow:function(u){if(this.state.mentionableEntries){u.preventDefault();l.moveDown(this.state.mentionableEntries,this.state.highlightedMentionable,this._onMentionHighlight);}else this.props.onDownArrow&&this.props.onDownArrow(u);},_onMentionHighlight:function(u){this.setState({highlightedMentionable:u});},_onMentionRenderHighlight:function(u){var v=n(u);this.setState({ariaActiveDescendantID:v});},_onMentionSelect:function(u,v){var w=this.props.editorState,x=w.getSelection(),y=w.getCurrentContent(),z=x.getAnchorKey(),aa=x.getAnchorOffset(),ba=y.getBlockMap().get(z),ca=aa-t(ba.getText().substr(0,aa),u.getTitle(),this.state.characterOffset),da=i.replaceText(y,x.set('anchorOffset',ca),u.getTitle(),w.getCurrentInlineStyle(),this.props.mentionCreationFn(u)),ea=j.push(w,da,'insert-fragment');this.props.onChange(ea);this.setState(this.getInitialState());if(this.props.onAddMention){var fa=this.state.mentionableEntries.indexOf(u);this.props.onAddMention(u,fa,v);}},shouldComponentUpdate:function(u,v){return (this.props.editorState!==u.editorState||this.props.placeholder!==u.placeholder||this.props.readOnly!==u.readOnly||this.state.mentionableEntries!==v.mentionableEntries||this.state.highlightedMentionable!==v.highlightedMentionable||this.state.ariaActiveDescendantID!==v.ariaActiveDescendantID);},componentDidUpdate:function(u){var v=this.props.editorState;if(v===u.editorState)return;var w=v.getSelection();if(w.getHasFocus()&&w.isCollapsed()){var x=v.getCurrentContent();if(this.props.mentionsSource)this._searchTimeouts.push(o((function(){this.props.mentionsSource.search(x,w,this._onShowMentions);}).bind(this)));}},blur:function(){this.refs.abstractTextEditor.blur();},focus:function(){this.refs.abstractTextEditor.focus();},_renderMentionables:function(){var u=this.state.mentionableEntries;if(!u||!u.length)return null;var v=this.props.mentionResultsComponent;return (k.createElement(v,babelHelpers._extends({},this.props.mentionResultsProps,{viewID:this._viewID,selection:this.props.editorState.getSelection(),contextComponent:this,characterOffset:this.state.characterOffset,mentionableEntries:u||[],highlightedMentionable:this.state.highlightedMentionable,onMentionSelect:this._onMentionSelect,onMentionHighlight:this._onMentionHighlight,onMentionRenderHighlight:this._onMentionRenderHighlight})));},render:function(){var u=this.state.mentionableEntries,v=!!(u&&u.length),w=this.props.readOnly?null:'-2';return (k.createElement('div',{ref:'container',className:this.props.className,tabIndex:w},k.createElement(h,babelHelpers._extends({},this.props,{ref:'abstractTextEditor',role:'combobox',ariaActiveDescendantID:this.state.ariaActiveDescendantID,ariaAutoComplete:'list',ariaOwneeID:this._viewID,ariaExpanded:v,ariaHasPopup:v,onBlur:this._onBlur,onFocus:this._onFocus,onTab:this._onTab,onEscape:this._onEscape,onDownArrow:this._onDownArrow,onUpArrow:this._onUpArrow,handleReturn:this._handleReturn})),this._renderMentionables()));}});function t(u,v,w){for(var x=w;x<=v.length;x++)if(u.substr(-x)==v.substr(0,x))w=x;return w;}f.exports=s;},null);
__d('createMentionEntity',['DraftEntity'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){var k=j.getType().toLowerCase();if(k==='hashtag')return h.create('HASHTAG','IMMUTABLE');var l=k==='user'||k==='fb4c'?'SEGMENTED':'IMMUTABLE',m=j.getAuxiliaryData();return h.create('MENTION',l,{id:j.getUniqueID(),isWeak:m&&m.renderType==='non_member',type:k});}f.exports=i;},null);
__d('MentionsInput.react',['AbstractMentionsTextEditor.react','EditorState','MentionsLayer.react','React','createMentionEntity','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=k.createClass({displayName:'MentionsInput',propTypes:{editorState:o.instanceOf(i).isRequired,mentionsSource:o.object,typeaheadView:o.func.isRequired,typeaheadViewPropTypes:o.object,spellCheck:o.bool,placeholder:o.string,className:o.string,autoflip:o.bool,position:o.oneOf(['above','below']),handleContentReturn:o.func,handleDroppedFiles:o.func,handlePastedFiles:o.func,onAddMention:o.func,onShowMentions:o.func,onChange:o.func,onInputFocus:o.func,onInputBlur:o.func},blur:function(){this.refs.textEditor.blur();},focus:function(){clearTimeout(this._focusTimer);this._focusTimer=setTimeout((function(){this.refs.textEditor.focus();}).bind(this),0);},componentWillUnmount:function(){clearTimeout(this._focusTimer);},render:function(){var q=n(this.props.className,"_5yk1");return (k.createElement('div',{className:q,onClick:this.focus,onFocus:this.focus},k.createElement(h,babelHelpers._extends({},this.props,{mentionResultsComponent:j,mentionResultsProps:{typeaheadView:this.props.typeaheadView,typeaheadViewProps:this.props.typeaheadViewProps,autoflip:this.props.autoflip,position:this.props.position},mentionCreationFn:l,ref:'textEditor',className:"_5yk2",stripPastedStyles:true}))));}});f.exports=p;},null);
__d('DevxFluxDispatcher',['Dispatcher_DEPRECATED'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;'use strict';i=babelHelpers.inherits(k,h);j=i&&i.prototype;k.prototype.handleServerAction=function(l){this.$DevxFluxDispatcher1('serverAction',l);};k.prototype.handleViewAction=function(l){this.$DevxFluxDispatcher1('viewAction',l);};k.prototype.$DevxFluxDispatcher1=function(l,m){this.dispatch(babelHelpers._extends({source:l},m));};function k(){i.apply(this,arguments);}f.exports=new k();},null);
__d('DevxProxyActions',['DevxFluxDispatcher'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){Object.keys(j.ActionHandler).forEach((function(k){this[k]=function(){for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];h.handleViewAction({action:k,args:m});};}).bind(this));}f.exports=i;},null);
__d('createEditorStateWithEntities',['ContentState','EditorState','applyEntityToContentBlock','createPlainBlocksFromText','splitTextIntoTextBlocks'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();function m(n){var o=n.text,p=n.ranges,q=n.decorator,r=n.entityCreationFn,s=n.splitIntoBlocks,t=n.allowUndo,u,v;if(s===undefined)s=true;if(o){u=s?l(o):[o];v=[];var w=0;u.forEach(function(z){v.push(w);w+=z.length+1;});}else u=[''];var x=k(u);if(p&&p.length&&r)p.forEach(function(z){var aa=r(z.entity);if(aa===null)return;var ba=z.offset,ca,da;for(var ea=0;ea<v.length;ea++){var fa=v[ea],ga=v[ea+1];if(ga===undefined||ba>=fa&&ba<ga){ca=x[ea];da=ba-fa;break;}}x[ea]=j(ca,da,da+z.length,aa);});var y=i.createWithContent(h.createFromBlockArray(x),q);if(t===false)y=i.set(y,{allowUndo:false});return y;}f.exports=m;},null);
__d('DocumentMentionsRegex',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h='\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\\/!%\'"~=<>_:;',i='\\b[A-Z][^\\s'+h+']',j={PUNCTUATION:h,NAME:i};f.exports=j;},null);
__d('AtSignMentionsStrategy',['DocumentMentionsRegex'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.PUNCTUATION,j=['@','\\uff20'].join(''),k='[^'+j+i+'\\s]',l='(?:'+'\\.[ |$]|'+' |'+'['+i+']|'+')',m=new RegExp('(?:^|\\s|\\()('+'['+j+']'+'((?:'+k+l+'){0,20})'+')$'),n={name:'AtSignMentionsStrategy',findMentionableString:function(o){var p=m.exec(o);if(p!==null){var q=p[2];if(q.length)return {matchingString:q,leadOffset:p[1].length};}return null;}};f.exports=n;},null);
__d('CapitalizedNameMentionsStrategy',['DocumentMentionsRegex'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=1,j=new RegExp('(^|[^#])((?:'+h.NAME+'{'+i+',})$)'),k={name:'CapitalizedNameMentionsStrategy',findMentionableString:function(l){var m=j.exec(l);if(m!==null)return {matchingString:m[2],leadOffset:m[2].length};return null;}};f.exports=k;},null);
__d('DocumentCompositeMentionsSource',['emptyFunction','invariant','nullthrows'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(m,n){var o=m.getCharacterList().toSeq().slice(0,n).reverse().takeWhile(function(p){return p.getEntity()===null;}).count();return m.getText().slice(n-o,n);}function l(m){!(m.length>0)?i(0):undefined;this.$DocumentCompositeMentionsSource1=m;this.$DocumentCompositeMentionsSource2=false;this.$DocumentCompositeMentionsSource3=null;}l.prototype.bootstrap=function(m){if(this.$DocumentCompositeMentionsSource2)return;this.$DocumentCompositeMentionsSource2=true;m=m||h;var n=this.$DocumentCompositeMentionsSource1.length;function o(){n--;if(!n)m&&m();}this.$DocumentCompositeMentionsSource1.forEach(function(p){p.bootstrap(o);});};l.prototype.search=function(m,n,o){var p=n.getAnchorKey(),q=m.getBlockForKey(p);this.$DocumentCompositeMentionsSource4(k(q,n.getAnchorOffset()),o);};l.prototype.$DocumentCompositeMentionsSource4=function(m,n){var o=this.$DocumentCompositeMentionsSource1.length,p,q;for(var r=0;r<o;r++){p=this.$DocumentCompositeMentionsSource1[r];q=p.findMatch(m);if(q===null){continue;}else{var s=j(q).matchingString;this.$DocumentCompositeMentionsSource3=s;p.search(s,(function(t,u){if(this.$DocumentCompositeMentionsSource3===u)n(t,q.leadOffset);}).bind(this));return;}}this.$DocumentCompositeMentionsSource3=null;n(null,null);};f.exports=l;},null);
__d('DocumentMentionsSource',['invariant'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){!(typeof j.findMentionableString==='function')?h(0):undefined;this.$DocumentMentionsSource1=j;this.$DocumentMentionsSource2=k;this.$DocumentMentionsSource3=false;}i.prototype.findMatch=function(j){return this.$DocumentMentionsSource1.findMentionableString(j);};i.prototype.bootstrap=function(j){if(!this.$DocumentMentionsSource3){this.$DocumentMentionsSource3=true;this.$DocumentMentionsSource2.bootstrap(j);}};i.prototype.search=function(j,k){this.$DocumentMentionsSource2.search(j,k,{strategyName:this.$DocumentMentionsSource1.name});};f.exports=i;},null);
__d('applyEmoticonToContentBlock',['CharacterMetadata','DraftEntity','EmoticonsList','immutable'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=k.List,m='\u3000';function n(o,p,q){if(!j.emotes[p])return o;var r=i.create('EMOTICON','IMMUTABLE',{type:j.emotes[p],originalEmoticon:p}),s=o.getText(),t=o.getCharacterList(),u=p.length,v=t.get(q);return o.merge({text:s.slice(0,q)+m+s.slice(q+u),characterList:t.slice(0,q).concat(l.of(h.applyEntity(v,r)),t.slice(q+u))});}f.exports=n;},null);
__d('insertEmoticonIntoContentState',['DraftModifier','applyEmoticonToContentBlock'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l,m){var n=h.replaceText(l,m,k),o=m.getAnchorKey(),p=m.getAnchorOffset(),q=n.getBlockForKey(o),r=n.getBlockMap().set(o,i(q,k,p));p++;return l.merge({blockMap:r,selectionBefore:m,selectionAfter:m.merge({anchorOffset:p,focusOffset:p})});}f.exports=j;},null);
__d('insertEmoticonIntoEditorState',['DraftModifier','EditorState','insertEmoticonIntoContentState'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=' ';function l(m,n){var o=n.getSelection(),p=n.getCurrentContent(),q=o.getStartOffset(),r=o.getEndOffset(),s=p.getBlockForKey(o.getStartKey()).getText(),t=p.getBlockForKey(o.getEndKey()).getText(),u='';if(r<=t.length&&t[r]!==k)u=k;if(q>0&&s[q-1]!==k){p=h.insertText(p,o,k);o=p.getSelectionAfter();}var v=j(m,p,o);p=h.insertText(v,v.getSelectionAfter(),u);return i.push(n,p,'insert-characters');}f.exports=l;},null);
__d('getVisibleValueForContentState',['DraftEntity','emptyFunction'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){var l=k.getBlockMap().map(function(m){var n=m.getText(),o='';m.findEntityRanges(i.thatReturnsTrue,function(p,q){var r=m.getEntityAt(p);if(r===null){o+=n.slice(p,q);}else{var s=h.get(r);if(s.getType()==='EMOTICON'){o+=s.getData().originalEmoticon;}else o+=n.slice(p,q);}});return o;});return l.join('\n');}f.exports=j;},null);
__d('FilteredSearchSource',['AbstractSearchSource'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;i=babelHelpers.inherits(k,h);j=i&&i.prototype;function k(l,m){'use strict';j.constructor.call(this);this.$FilteredSearchSource1=l;this.$FilteredSearchSource2=m;}k.prototype.bootstrapImpl=function(l){'use strict';this.$FilteredSearchSource2.bootstrap(l);};k.prototype.searchImpl=function(l,m,n){'use strict';var o=(function(p,q){p=this.$FilteredSearchSource3(p,q);m(p,q);}).bind(this);this.$FilteredSearchSource2.search(l,o,n);};k.prototype.$FilteredSearchSource3=function(l,m){'use strict';var n=this.$FilteredSearchSource1;return l.filter(function(o){return n(o,m);});};f.exports=k;},null);
__d('filterCapitalizedNames',['TokenizeUtil'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(m,n){return j(m)&&(n.length>=5||k(m,n));}function j(m){var n=m.getAuxiliaryData()||l;return !n.disableAutosuggest&&!!(m.getType()==='user'||n.connectedPage);}function k(m,n){return h.isExactMatch(n,m.getTitle());}var l={};f.exports=i;},null);
__d("XPluginCommentsBanAuthorAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/moderate\/ban\/{comment_id}\/",{comment_id:{type:"String",required:true}});},null);
__d("XPluginCommentsCreateCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/createComment\/{target_id}\/",{target_id:{type:"Int",required:true}});},null);
__d("XPluginCommentsCreateReplyAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/createReply\/{parent_comment_id}\/",{parent_comment_id:{type:"String",required:true}});},null);
__d("XPluginCommentsDeleteCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/delete\/",{});},null);
__d("XPluginCommentsEditCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/edit\/",{});},null);
__d("XPluginCommentsFlagCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/flag\/",{});},null);
__d("XPluginCommentsHideCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/moderate\/hide\/{url_id}\/",{url_id:{type:"Int",required:true},action:{type:"Enum",required:true,enumType:1},type:{type:"Enum",required:true,enumType:1}});},null);
__d("XPluginCommentsLikeCommentAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/like\/",{action_like:{type:"Bool",defaultValue:false}});},null);
__d("XPluginCommentsPagerAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/{target_id}\/pager\/{ordering}\/",{target_id:{type:"Int",required:true},ordering:{type:"Enum",required:true,enumType:1}});},null);
__d("XPluginCommentsRepliesPagerAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/async\/comment\/{comment_id}\/pager\/",{comment_id:{type:"String",required:true}});},null);
__d('CommentsPluginStore',['AsyncRequest','XPluginCommentsBanAuthorAsyncController','XPluginCommentsCreateCommentAsyncController','XPluginCommentsCreateReplyAsyncController','XPluginCommentsDeleteCommentAsyncController','DeveloperCommentsModerationAction','DeveloperCommentsModerationSource','DeveloperCommentsModerationType','DevxFluxDispatcher','XPluginCommentsEditCommentAsyncController','XPluginCommentsFlagCommentAsyncController','XPluginCommentsLikeCommentAsyncController','XPluginCommentsHideCommentAsyncController','PluginOptin','XPluginCommentsPagerAsyncController','XPluginCommentsRepliesPagerAsyncController','UnverifiedXD','WebStorage','getMentionsTextForContentState','getVisibleValueForContentState','invariant','mixInEventEmitter','nullthrows','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){'use strict';if(c.__markCompiled)c.__markCompiled();var fa=10,ga='__DEVX__',ha={visibleValue:'',encodedValue:''},ia={change:true,composerChange:true,composerCommentAdded:true,login:true,moreCommentsCompleted:true,moreRepliesCompleted:true,postError:true,sortingCompleted:true,sentryAction:true,previousComposerCommentPrefill:true,actorChange:true},ja={maxLines:10,maxLength:1000},ka=[],la={},ma={userID:null,actors:{},actorsOptIn:{},appID:null,afterCursor:null,channelURL:null,composerSearchSource:{},deeplinkedCommentID:null,href:'',iframeReferer:null,isMobile:false,isModerator:false,mirroredPage:null,moderateURL:null,targetFBID:null,totalCount:0,user:{},minFeedLength:0,maxCommentLength:0,enablePhoto:false,enableSticker:false,ret:null},na=false,oa={},pa={},qa={},ra={},sa={ordering:null,ranking_allowed:null},ta={},ua={},va={setPostToFeed:true,sort:true,showMoreComments:true,showMoreReplies:true,toggleVisibility:true},wa={restorePreviousState:true,setUser:true,edit:true,showReplyComposer:true,cancelEdit:true,cancelReply:true},xa={addComment:true,addReply:true,saveEdit:true};function ya(gb){!fb.hasOwnProperty(gb)?ba(0):undefined;}function za(){!Array.isArray(ka)?ba(0):undefined;!(la instanceof Object)?ba(0):undefined;}function ab(gb){var hb,ib=eb.getUser().id,jb=gb.action,kb=(hb=fb[gb.action]).bind.apply(hb,[fb].concat(gb.args));if(eb.isLoggedIn()&&(eb.isPlatformEnabled(ib)||wa[jb])||va[jb]){kb.call();}else{var lb=y.getSessionStorage();if(lb)lb.setItem('previousState',JSON.stringify(bb(gb)));new u('comments').addReturnParams({numposts:Math.min(Math.max(1,ma.totalCount),100),order_by:sa.ordering}).start();}}function bb(gb){var hb='',ib='',jb=[],kb={},lb={},mb=eb.getCreateComposerContent();if(mb)hb=mb.encodedValue;if(!xa[gb.action]){ib=gb.action;jb=gb.args;}Object.keys(ta).forEach(function(nb){var ob=eb.getCreateComposerContent(nb);if(ob.encodedValue)kb[nb]=ob.encodedValue;});Object.keys(ua).forEach(function(nb){var ob=eb.getEditComposerContent(nb);if(ob.encodedValue)lb[nb]=ob.encodedValue;});return {commentBody:hb,action:ib,commentIDs:jb,replies:kb,edits:lb};}function cb(gb,hb,ib){return ib.indexOf(gb)===hb;}function db(gb,hb){if(!ma.channelURL)return;Object.assign(hb,{type:gb,href:ma.href});x.send(hb,ma.channelURL);}var eb={LOGGED_OUT_USER:'0',getCommentIDs:function(){return ka;},getByID:function(gb){za();return da(la)[gb];},isOptimisticComment:function(gb){return gb.id.startsWith(ga);},getCurrentSorting:function(){return da(sa.ordering);},isRankingAllowed:function(){return da(sa.ranking_allowed);},getTargetFBID:function(){return da(ma.targetFBID);},getCommentsCount:function(){za();return ma.totalCount;},getUser:function(){return ma.user;},getIframeReferer:function(){return ma.iframeReferer;},getAuthor:function(gb){return this.getByID(this.getByID(gb).authorID);},getPageSize:function(){return fa;},getCommentBodyTruncationLimits:function(){return ja;},getComposerSearchSource:function(){return ma.composerSearchSource;},getMirroredPage:function(){return ma.mirroredPage;},getMinFeedLength:function(){return ma.minFeedLength+1;},getMaxCommentLength:function(){return ma.maxCommentLength?ma.maxCommentLength:Number.MAX_VALUE;},isMirrored:function(){return this.getMirroredPage()!=null;},isReply:function(gb){var hb=this.getByID(gb);return hb.targetID!==this.getTargetFBID();},isOptinReturn:function(){return !!ma.ret;},setActor:function(gb){ma.user=ma.actors[gb];},getPostToFeed:function(){return na;},setPostToFeed:function(gb){na=gb;},getEnablePhoto:function(){return ma.enablePhoto;},getEnableSticker:function(){return ma.enableSticker;},getCreateComposerAttachment:function(gb){return oa[gb||ga]||null;},setCreateComposerAttachment:function(gb,hb){oa[hb||ga]=gb;this.emit('composerChange');},getEditComposerAttachment:function(gb){return pa[gb]||null;},setEditComposerAttachment:function(gb,hb){pa[hb]=gb;this.emit('composerChange');},getLoadingCreateComposerAttachment:function(gb){return qa[gb||ga]||false;},setLoadingCreateComposerAttachment:function(gb,hb){qa[hb||ga]=gb;this.emit('composerChange');},getLoadingEditComposerAttachment:function(gb){return ra[gb]||false;},setLoadingEditComposerAttachment:function(gb,hb){ra[hb]=gb;this.emit('composerChange');},setCreateComposerState:function(gb,hb){ta[hb||ga]=gb;this.emit('composerChange');},getCreateComposerState:function(gb){return ta[gb||ga]||null;},getCreateComposerContent:function(gb){return this._editorStateToComposerPayload(this.getCreateComposerState(gb));},isEmptyCreateComposer:function(gb){return this.getLoadingCreateComposerAttachment(gb)||this.getCreateComposerContent(gb).visibleValue.trim()===''&&!this.getCreateComposerAttachment(gb);},setEditComposerState:function(gb,hb){ua[hb]=gb;this.emit('composerChange');},getEditComposerState:function(gb){return ua[gb];},getEditComposerContent:function(gb){return this._editorStateToComposerPayload(this.getEditComposerState(gb));},isEmptyEditComposer:function(gb){return this.getLoadingEditComposerAttachment(gb)||this.getEditComposerContent(gb).visibleValue.trim()===''&&!this.getEditComposerAttachment(gb);},hasTextChanged:function(gb,hb){return gb.trim()!==hb.trim();},hasAttachmentChanged:function(gb,hb){if(gb){return hb?gb.fbid!==hb.fbid:true;}else return !!hb;},hasCommentChanged:function(gb,hb){var ib=this.getByID(gb);return this.hasTextChanged(hb.encodedValue,ib.body.text)||this.hasAttachmentChanged(pa[gb],ib.photo_comment||ib.stickerComment);},_editorStateToComposerPayload:function(gb){if(!gb)return ha;var hb=gb.getCurrentContent(),ib=aa(hb),jb=z(hb);return {visibleValue:ib,encodedValue:jb};},hasAttachment:function(){var gb=Object.keys(qa);for(var hb=0;hb<gb.length;hb++)if(qa[gb[hb]]||oa[gb[hb]])return true;return false;},getActorIDs:function(){return Object.keys(ma.actors);},getModerateURL:function(){return ma.moderateURL;},isLoggedIn:function(){return ma.user.id!==eb.LOGGED_OUT_USER;},isPlatformEnabled:function(gb){return ma.actorsOptIn[gb];},isMobile:function(){return ma.isMobile;},useLegacyMentionsInput:function(){return this.isMobile();},useCustomActorSelector:function(){return document.body.offsetWidth<450;},isViewerModerator:function(){return ma.isModerator;},hasUnloadedComments:function(){return !!ma.afterCursor;},hasUnloadedReplies:function(gb){var hb=this.getByID(gb).public_replies;if(!hb)return false;if(hb.afterCursor)return true;if((!hb.commentIDs||hb.commentIDs.length===0)&&hb.totalCount>0)return true;return false;},getUnloadedCommentsCount:function(){return ma.totalCount-ka.length;},getDialogWidth:function(){return Math.min(document.body.offsetWidth-10,this.isMobile()?320:445);},dispatcherIndex:p.register(function(gb){ya(gb.action);ab(gb);}),init:function(gb,hb,ib,jb){ma=hb;this.updateCommentData(gb,ib);Object.keys(ma.actors).forEach(function(kb){return la[kb]=ma.actors[kb];});this.setActor(ma.userID);sa.ranking_allowed=jb;},updateCommentData:function(gb,hb){ka=gb.commentIDs;la=this.initComments(ka,gb.idMap);sa.ordering=hb;},initComment:function(gb){gb.collapsed=false;gb.editor=false;gb.composer=false;gb.deleted=false;gb.flagged=false;return gb;},initComments:function(gb,hb){gb.forEach((function(ib){return hb[ib]=this.initComment(hb[ib]);}).bind(this));return hb;},emit:undefined,addListener:undefined,removeCurrentListener:undefined,ActionHandler:undefined};ca(eb,ia);var fb={ban:function(gb){var hb=eb.getByID(gb);hb.deleted=true;eb.emit('change');var ib=i.getURIBuilder().setString('comment_id',gb).getURI();new h(ib).setMethod('POST').setData({ban:true,source:n.URL}).send();},hide:function(gb){var hb=eb.getByID(gb);hb.deleted=true;eb.emit('change');var ib=t.getURIBuilder().setInt('url_id',ma.targetFBID).setEnum('action',m.DELETE).setEnum('type',o.APPROVED).getURI();new h(ib).setData({comment_ids:[gb]}).setMethod('POST').send();},addComment:function(){var gb=eb.getCreateComposerContent(),hb=this._getAttachmentFBID(eb.getCreateComposerAttachment()),ib=j.getURIBuilder().setInt('target_id',ma.targetFBID).getURI();new h(ib).setData({app_id:ma.appID,av:eb.getUser().id,text:gb.encodedValue,attached_photo_fbid:hb.photoFBID,attached_sticker_fbid:hb.stickerFBID,post_to_feed:eb.getPostToFeed(),iframe_referer:ma.iframeReferer}).setMethod('POST').setHandler((function(jb){var kb=jb.payload,lb=kb.commentID;this._prependComment(kb.idMap[lb]);delete ta[ga];eb.emit('composerCommentAdded',{});db('commentCreated',{commentID:lb,message:gb.visibleValue});if(kb.sentryAction)eb.emit('sentryAction',kb.sentryAction,lb);}).bind(this)).setErrorHandler(function(jb){delete la[ga];ka.shift();eb.emit('change');eb.emit('postError',jb);}).send();this._prependComment({authorID:ma.user.id,targetID:ma.targetFBID,body:{text:gb.visibleValue}});},addReply:function(gb){var hb=eb.getCreateComposerContent(gb),ib=this._getAttachmentFBID(eb.getCreateComposerAttachment(gb)),jb=k.getURIBuilder().setString('parent_comment_id',gb).getURI(),kb=ga+ea();new h(jb).setData({app_id:ma.appID,av:eb.getUser().id,text:hb.encodedValue,attached_photo_fbid:ib.photoFBID,attached_sticker_fbid:ib.stickerFBID,iframe_referer:ma.iframeReferer,replied_to:eb.getByID(gb).replyToCommentID}).setMethod('POST').setHandler(function(nb){var ob=eb.getByID(gb),pb=Object.assign({},ob.public_replies);Object.assign(la,nb.payload.idMap);ob=eb.getByID(gb);ob.public_replies=pb;delete la[kb];delete ta[gb];ka.splice(ka.indexOf(kb),1);ob.composer=false;delete ob.replyToCommentID;ob.public_replies.commentIDs.pop();ob.public_replies.commentIDs.push(nb.payload.commentID);db('commentCreated',{commentID:nb.payload.commentID,parentCommentID:gb,message:hb.visibleValue});eb.emit('change');}).setErrorHandler(function(nb){delete la[kb];ka.splice(ka.indexOf(kb),1);lb=eb.getByID(gb);lb.public_replies.commentIDs.pop();lb.public_replies.totalCount--;lb.composer=false;delete lb.replyToCommentID;eb.emit('change');eb.emit('postError',nb);}).send();var lb=eb.getByID(gb),mb=Object.assign({},lb.public_replies);if(!mb.commentIDs)mb.commentIDs=[];if(!mb.totalCount)mb.totalCount=0;mb.totalCount++;mb.commentIDs.push(kb);lb.public_replies=mb;la[kb]={authorID:ma.user.id,body:{text:hb.visibleValue},targetID:gb,id:kb};ka.push(kb);eb.emit('change');},_prependComment:function(gb){if(!gb.id){gb.id=ga;}else{ka.shift();delete la[ga];}ka.unshift(gb.id);la[gb.id]=eb.initComment(gb);eb.emit('change');},_getAttachmentFBID:function(gb){var hb=0,ib=0;if(gb)if(gb.attachmentType==='photo'){hb=da(gb.fbid);}else if(gb.attachmentType==='sticker')ib=da(gb.fbid);return {photoFBID:hb,stickerFBID:ib};},edit:function(gb,hb){var ib=eb.getByID(gb);ib.editor=true;ib.prefillText=hb;eb.emit('change');},saveEdit:function(gb){var hb=JSON.parse(JSON.stringify(eb.getByID(gb))),ib=q.getURIBuilder().getURI(),jb=eb.getEditComposerContent(gb),kb=this._getAttachmentFBID(eb.getEditComposerAttachment(gb)),lb=eb.hasCommentChanged(gb,jb);if(lb){new h(ib).setMethod('POST').setData({app_id:ma.appID,text:jb.encodedValue,comment_id:gb,av:eb.getAuthor(gb).id,attached_photo_fbid:kb.photoFBID,attached_sticker_fbid:kb.stickerFBID,iframe_referer:ma.iframeReferer}).setHandler(function(nb){var ob=nb.payload;la[ob.commentID]=eb.initComment(ob.idMap[ob.commentID]);delete ua[gb];eb.emit('change');}).setErrorHandler(function(nb){hb.editor=false;Object.assign(eb.getByID(gb),hb);eb.emit('change');eb.emit('postError',nb);}).send();var mb=eb.getByID(gb);mb.editor=false;mb.body.text=jb.visibleValue;delete mb.ranges;eb.emit('change');}else this.cancelEdit(gb);},cancelEdit:function(gb){var hb=eb.getByID(gb);hb.editor=false;eb.emit('change');},'delete':function(gb){var hb=eb.getByID(gb);hb.deleted=true;var ib=l.getURIBuilder().getURI();new h(ib).setData({app_id:ma.appID,comment_id:gb,av:eb.getAuthor(gb).id,iframe_referer:ma.iframeReferer}).setMethod('POST').setHandler(function(){return (db('commentRemoved',{commentID:gb}));}).setErrorHandler(function(jb){var kb=eb.getByID(gb);kb.deleted=false;eb.emit('change');}).send();eb.emit('change');},like:function(gb){var hb=eb.getByID(gb),ib=s.getURIBuilder().setBool('action_like',!hb.hasLiked).getURI();new h(ib).setData({app_id:ma.appID,comment_id:hb.id,iframe_referer:ma.iframeReferer}).setMethod('POST').setHandler(function(jb){var kb=jb.payload;Object.assign(la[kb.commentID],eb.initComment(kb.idMap[kb.commentID]));eb.emit('change');}).setErrorHandler(function(jb){hb.likeCount--;hb.hasLiked=false;eb.emit('postError',jb);}).send();hb.hasLiked=!hb.hasLiked;if(hb.hasLiked){hb.likeCount++;}else if(hb.likeCount>0)hb.likeCount--;la[hb.id]=hb;eb.emit('change');},sort:function(gb){var hb=v.getURIBuilder().setInt('target_id',ma.targetFBID).setEnum('ordering',gb).getURI();new h(hb).setMethod('POST').setData({app_id:ma.appID,limit:eb.getPageSize(),iframe_referer:ma.iframeReferer}).setHandler(function(ib){var jb=ib.payload;ma.afterCursor=jb.afterCursor;eb.updateCommentData(jb,gb);eb.emit('sortingCompleted');eb.emit('change');}).send();},showMoreComments:function(){var gb=v.getURIBuilder().setInt('target_id',ma.targetFBID).setEnum('ordering',eb.getCurrentSorting()).getURI();new h(gb).setMethod('POST').setData({app_id:ma.appID,after_cursor:ma.afterCursor,limit:eb.getPageSize(),deeplinked_comment_id:ma.deeplinkedCommentID,iframe_referer:ma.iframeReferer}).setHandler(function(hb){var ib=hb.payload;ma.afterCursor=ib.afterCursor;ka=ka.concat(ib.commentIDs).filter(cb);la=Object.assign(la,eb.initComments(ib.commentIDs,ib.idMap));eb.emit('moreCommentsCompleted');eb.emit('change');}).setErrorHandler(function(hb){eb.emit('postError',hb);eb.emit('moreCommentsCompleted');}).send();},setUser:function(gb){eb.setActor(gb);eb.emit('actorChange');},setPostToFeed:function(gb){eb.setPostToFeed(gb);},showMoreReplies:function(gb){var hb=w.getURIBuilder().setString('comment_id',gb).getURI(),ib=eb.getByID(gb).public_replies;new h(hb).setMethod('POST').setData({app_id:ma.appID,after_cursor:ib.afterCursor,limit:eb.getPageSize(),iframe_referer:ma.iframeReferer}).setHandler(function(jb){var kb=jb.payload;la=Object.assign(eb.initComments(kb.commentIDs,kb.idMap),la);ib.afterCursor=kb.afterCursor;ib.commentIDs=ib.commentIDs.concat(kb.commentIDs).filter(cb);eb.emit('moreRepliesCompleted',{commentID:gb});eb.emit('change');}).setErrorHandler(function(jb){eb.emit('postError',jb);eb.emit('moreRepliesCompleted',{commentID:gb});}).send();},toggleVisibility:function(gb){var hb=eb.getByID(gb);hb.collapsed=!hb.collapsed;eb.emit('change');},flag:function(gb){la[gb].flagged=true;this._sendFlagOrUnflagRequest(gb,'flag');eb.emit('change');},unflag:function(gb){la[gb].flagged=false;this._sendFlagOrUnflagRequest(gb,'unflag');eb.emit('change');},_sendFlagOrUnflagRequest:function(gb,hb){var ib=r.getURIBuilder().getURI();new h(ib).setData({app_id:ma.appID,comment_id:gb,iframe_referer:ma.iframeReferer,unflag:hb==='unflag'}).setMethod('POST').setErrorHandler(function(jb){la[gb].flagged=!la[gb].flagged;eb.emit('postError',jb);}).send();},report:function(gb){window.open(eb.getByID(gb).reportURI,'_blank');},showReplyComposer:function(gb,hb){var ib=eb.getByID(gb);if(eb.isReply(gb)){var jb=gb;ib=eb.getByID(ib.targetID);ib.replyToCommentID=jb;}ib.prefillText=hb;ib.composer=true;eb.emit('change');},cancelReply:function(gb){var hb=eb.getByID(gb);hb.composer=false;delete hb.replyToCommentID;eb.emit('change');},restorePreviousState:function(){var gb=y.getSessionStorage();if(gb){var hb=JSON.parse(gb.getItem('previousState'));gb.clear();var ib=eb.getCommentIDs();if(hb.action){var jb={};jb.action=hb.action;jb.args=hb.commentIDs;ab(jb);}var kb=hb.replies,lb=hb.edits;ib.map((function(mb){if(kb[mb])this.showReplyComposer(mb,kb[mb]);if(lb[mb])this.edit(mb,lb[mb]);}).bind(this));if(hb.commentBody)eb.emit('previousComposerCommentPrefill',{prefillText:hb.commentBody});}}};eb.ActionHandler=fb;f.exports=eb;},null);
__d('CommentsPluginActions',['CommentsPluginStore','DevxProxyActions'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new i(h);},null);
__d('CommentsPluginAction',['fbt'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={EDIT:'edit',DELETE:'delete',FLAG:'flag',SETUSER:'setUser',BAN:'ban',HIDE:'hide',REPORT:'report',COLLAPSE:'collapse',getLabel:function(j){switch(j){case i.COLLAPSE:return h._("Collapse comment");case i.EDIT:return h._("Edit comment");case i.DELETE:return h._("Delete comment");case i.FLAG:return h._("Mark as spam");case i.BAN:return h._("Ban user");case i.HIDE:return h._("Hide comment");case i.REPORT:return h._("Report to Facebook");case i.SETUSER:return h._("Switch Accounts");}},getMenuActions:function(){return [i.COLLAPSE,i.EDIT,i.DELETE,i.FLAG,i.BAN,i.HIDE,i.REPORT];}};f.exports=i;},null);
__d('MixinCommentsPluginConfirmAction',['CommentsPluginAction','CommentsPluginActions','CommentsPluginStore','React','Set','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u={componentWillMount:function(){this.setState({actionConfirmationShown:false,action:null,id:null});},requiresConfirmation:function(v){var w=new l([h.DELETE,h.BAN,h.HIDE]);return w.has(v);},confirmAction:function(v,w){this.setState({actionConfirmationShown:true,action:v,id:w});},_onActionConfirmed:function(){i[this.state.action](this.state.id);this.setState({actionConfirmationShown:false});},_onActionCancelled:function(){this.setState({actionConfirmationShown:false});},_getActionMetadata:function(v){switch(v){case h.DELETE:return {body:s._("Are you sure you want to delete this comment?"),button_label:s._("Confirm Delete")};case h.BAN:return {body:s._("Are you sure you want to ban this user?"),button_label:s._("Confirm Ban")};case h.HIDE:return {body:s._("Are you sure you want to hide this comment?"),button_label:s._("Confirm Hide")};case h.SETUSER:return {body:s._("Commenting as another account will clear the attachments you've uploaded."),button_label:s._("Switch Accounts")};default:t(0);}},renderActionConfirmationDialog:function(){var v=this.state.action;if(!v)return null;var w=this._getActionMetadata(v);return (k.createElement(m,{shown:this.state.actionConfirmationShown,width:j.getDialogWidth()},k.createElement(r,{showCloseButton:false},h.getLabel(v)),k.createElement(n,null,w.body),k.createElement(q,null,k.createElement(p,{onClick:this._onActionCancelled.bind(this)}),k.createElement(o,{use:'confirm',label:w.button_label,onClick:this._onActionConfirmed.bind(this)}))));}};f.exports=u;},null);
__d('CommentsPluginAuthorSelector.react',['ActorSelector.react','CommentsPluginAction','CommentsPluginActions','CommentsPluginStore','MixinCommentsPluginConfirmAction','React','ShortProfiles','XUIText.react','classWithMixins','cx','fbt','joinClasses','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u,v;'use strict';u=babelHelpers.inherits(w,p(m.Component,t(l)));v=u&&u.prototype;function w(x){v.constructor.call(this,x);var y=this;y.$CommentsPluginAuthorSelector1=this.$CommentsPluginAuthorSelector1.bind(this);this.actorIDs=k.getActorIDs();this.state={actorsData:null};}w.prototype.componentWillMount=function(){if(this.actorIDs.length>1&&k.useCustomActorSelector())n.getMulti(this.actorIDs,(function(x){this.setState({actorsData:x});}).bind(this));};w.prototype.$CommentsPluginAuthorSelector1=function(x){if(k.hasAttachment()){this.confirmAction(i.SETUSER,x);}else j.setUser(x);};w.prototype.$CommentsPluginAuthorSelector2=function(x){return r._("Commenting as {actorName}",[r.param('actorName',x)]);};w.prototype.render=function(){if(this.actorIDs.length<=1)return null;var x=k.getUser().id;if(k.useCustomActorSelector()){var y=this.state.actorsData;if(!y)return null;return (m.createElement('div',{className:"_3-95"},m.createElement(o,{size:'small',className:"_1y5f _2pih"},r._("Commenting as")),m.createElement('select',{value:x,onChange:(function(z){return this.$CommentsPluginAuthorSelector1(z.target.value);}).bind(this),className:"_1y5g"},this.actorIDs.map(function(z){return (m.createElement('option',{value:z,key:z},y&&y[z].name));})),this.renderActionConfirmationDialog()));}return (m.createElement('div',{className:s(this.props.className,'inlineBlock')},m.createElement(h,{actorIDs:this.actorIDs,coverEnabled:false,selectedActorID:x,onChange:(function(z){return this.$CommentsPluginAuthorSelector1(z.value);}).bind(this),tooltipConstructor:this.$CommentsPluginAuthorSelector2}),this.renderActionConfirmationDialog()));};f.exports=w;},null);
__d('CommentsPluginComposerMirroringNotice.react',['CommentsPluginStore','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=i.PropTypes;l=babelHelpers.inherits(o,i.Component);m=l&&l.prototype;o.prototype.render=function(){var p=h.getMirroredPage();if(!p)return null;return (i.createElement('div',{className:"_5sge _2ph-"},p.name?this.props.isReply?k._("Your reply may also appear on {page name}'s Facebook Page.",[k.param('page name',i.createElement('a',{href:p.uri,target:'blank'},p.name))]):k._("Your comment may also appear on {page name}'s Facebook Page.",[k.param('page name',i.createElement('a',{href:p.uri,target:'blank'},p.name))]):this.props.isReply?k._("Your reply may also appear on Facebook."):k._("Your comment may also appear on Facebook.")));};function o(){l.apply(this,arguments);}o.propTypes={isReply:n.bool};f.exports=o;},null);
__d('CommentsPluginProfilePicture.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;'use strict';var l=h.PropTypes;j=babelHelpers.inherits(m,h.Component);k=j&&j.prototype;m.prototype.render=function(){return (h.createElement('a',babelHelpers._extends({},this.props,{href:this.props.href}),h.createElement('img',{className:(!this.props.isReply?"_1ci":'')+(this.props.isReply?' '+"_1cj":''),src:this.props.src})));};function m(){j.apply(this,arguments);}m.propTypes={href:l.string.isRequired,src:l.string.isRequired,isReply:l.bool};f.exports=m;},null);
__d('CommentsPluginComposer.react',['ActorURI','AsyncRequest','CommentsPluginStore','CommentsPluginComposerMirroringNotice.react','CommentsPluginConfig','CommentsPluginProfilePicture.react','DraftEntity','EditorState','EmoticonsList','MentionsInput.react','React','UFIAttachPhotoSection.react','UFIAttachedPhotoPreview.react','UFICommentUtils.react','UFIImageBlock.react','UFIStickerButton.react','XUINotice.react','XUITypeaheadView.react','createEditorStateWithEntities','cx','fbt','getMentionsInputDecorator','getVisibleValueForContentState','insertEmoticonIntoEditorState','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){if(c.__markCompiled)c.__markCompiled();var ga,ha;'use strict';var ia=r.PropTypes,ja=19,ka='/ajax/ufi/sticker_preview/';function la(na){return n.create('MENTION','IMMUTABLE',{id:na.id});}ga=babelHelpers.inherits(ma,r.Component);ha=ga&&ga.prototype;function ma(na,oa){ha.constructor.call(this,na,oa);this.state=this.$CommentsPluginComposer1();var pa=this;pa.$CommentsPluginComposer2=this.$CommentsPluginComposer2.bind(this);pa.$CommentsPluginComposer3=this.$CommentsPluginComposer3.bind(this);}ma.prototype.$CommentsPluginComposer1=function(na){var oa=null,pa=null,qa=na||this.props.prefillText;if(qa){oa=this.$CommentsPluginComposer4(qa);if(this.props.editCommentID){j.setEditComposerState(oa,this.props.editCommentID);}else j.setCreateComposerState(oa,this.props.parentCommentIDOfNewReply);}else{var ra=null,sa=null;if(this.props.editCommentID){pa=j.getByID(this.props.editCommentID);oa=z({text:pa.body.text,ranges:u.shallowCopyRanges(pa.ranges).filter(function(va){return !va.entity.external;}),decorator:ca(),entityCreationFn:la});if(pa.photo_comment){ra=pa.photo_comment;ra.attachmentType='photo';this.$CommentsPluginComposer5(ra);}else if(pa.attachment){sa=pa.attachment;sa.attachmentType='sticker';this.$CommentsPluginComposer5(sa);}}else if(this.props.parentCommentIDOfNewReply){pa=j.getByID(this.props.parentCommentIDOfNewReply);if(pa.replyToCommentID&&j.getAuthor(pa.replyToCommentID).id!==j.getUser().id){var ta=j.getAuthor(pa.replyToCommentID),ua={id:ta.id,text:ta.name,offset:0,length:ta.name.length,entity:{id:ta.id}};oa=o.moveFocusToEnd(z({text:ta.name+' ',ranges:[ua],decorator:ca(),entityCreationFn:la}));}}if(!oa)oa=o.createEmpty(ca());}return {editorState:oa,expanded:qa||!!this.props.alwaysExpanded,attachedPhoto:ra,attachedSticker:sa};};ma.prototype.$CommentsPluginComposer4=function(na){return z({text:na,decorator:ca()});};ma.prototype.$CommentsPluginComposer6=function(){return !this.props.editCommentID&&!this.props.parentCommentIDOfNewReply;};ma.prototype.$CommentsPluginComposer5=function(na){if(this.props.editCommentID){j.setEditComposerAttachment(na,this.props.editCommentID);}else j.setCreateComposerAttachment(na,this.props.parentCommentIDOfNewReply);};ma.prototype.$CommentsPluginComposer7=function(na){if(this.props.editCommentID){j.setLoadingEditComposerAttachment(na,this.props.editCommentID);}else j.setLoadingCreateComposerAttachment(na,this.props.parentCommentIDOfNewReply);};ma.prototype.$CommentsPluginComposer8=function(){if(this.props.editCommentID){return j.getLoadingEditComposerAttachment(this.props.editCommentID);}else return j.getLoadingCreateComposerAttachment(this.props.parentCommentIDOfNewReply);};ma.prototype.$CommentsPluginComposer9=function(){return this.state.isLoadingAttachment||!!this.state.attachedSticker||!!this.state.attachedPhoto;};ma.prototype.getPhotoUploadData=function(){var na=j.getUser().id,oa={profile_id:na,target_id:this.props.targetID,source:ja};oa[h.PARAMETER_ACTOR]=na;return oa;};ma.prototype.onPhotoUploadComplete=function(na){if(!this.$CommentsPluginComposer8())return;var oa=na.getPayload();if(oa&&oa.fbid){oa.attachmentType='photo';this.$CommentsPluginComposer5(oa);this.$CommentsPluginComposer7(false);this.setState({attachedPhoto:oa,isLoadingAttachment:false,expanded:true});}else this.resetAttachment(null);};ma.prototype.onStickerSelected=function(na){this.$CommentsPluginComposer10();new i(ka).setData({sticker_id:na}).setErrorHandler(this.resetAttachment.bind(this)).setHandler(this.$CommentsPluginComposer11.bind(this)).send();};ma.prototype.$CommentsPluginComposer11=function(na){if(!this.$CommentsPluginComposer8())return;var oa=na.getPayload();if(oa&&oa.fbid){oa.attachmentType='sticker';this.$CommentsPluginComposer5(oa);this.$CommentsPluginComposer7(false);this.setState({attachedSticker:oa,isLoadingAttachment:false,expanded:true});}else this.resetAttachment(null);};ma.prototype.insertEmoticonToCommentText=function(na){var oa=p.symbols[na];if(!oa)return;var pa=ea(oa,this.state.editorState);if(pa!==this.state.editorState)this.$CommentsPluginComposer2(pa);};ma.prototype.resetAttachment=function(event){this.$CommentsPluginComposer5(undefined);this.$CommentsPluginComposer7(false);this.setState({attachedPhoto:null,attachedSticker:null,isLoadingAttachment:false});};ma.prototype.$CommentsPluginComposer10=function(){this.$CommentsPluginComposer5(undefined);this.$CommentsPluginComposer7(true);this.setState({attachedSticker:null,attachedPhoto:null,isLoadingAttachment:true});};ma.prototype.componentDidMount=function(){j.addListener('composerCommentAdded',(function(event){if(this.$CommentsPluginComposer6()){var na=this.$CommentsPluginComposer1();na.expanded=true;this.setState(na);if(this.refs.composer.style)this.refs.composer.style.cssText='';}}).bind(this));j.addListener('previousComposerCommentPrefill',(function(na){var oa=this.$CommentsPluginComposer1(na.prefillText);oa.expanded=true;this.setState(oa);}).bind(this));if(!this.$CommentsPluginComposer6())this.refs.composer.focus();};ma.prototype.$CommentsPluginComposer2=function(na){this.setState({editorState:na});if(this.props.editCommentID){j.setEditComposerState(na,this.props.editCommentID);}else j.setCreateComposerState(na,this.props.parentCommentIDOfNewReply);};ma.prototype.$CommentsPluginComposer12=function(){if(this.props.editCommentID)return j.isReply(this.props.editCommentID);return !!this.props.parentCommentIDOfNewReply;};ma.prototype.$CommentsPluginComposer3=function(){this.setState({expanded:true});};ma.prototype.setFileInput=function(na,oa){this.setState({fileInput:na,fileUploader:oa});};ma.prototype.$CommentsPluginComposer13=function(){return da(this.state.editorState.getCurrentContent());};ma.prototype.$CommentsPluginComposer14=function(na){var oa=na.target,pa=oa.value;oa.value='';oa.value=pa;this.$CommentsPluginComposer3();};ma.prototype.$CommentsPluginComposer15=function(na){var oa=na.target,pa=oa.scrollHeight;if(oa.offsetHeight<pa)oa.style.cssText='height:'+pa+'px';this.$CommentsPluginComposer2(z({text:oa.value}));};ma.prototype.$CommentsPluginComposer16=function(){var na=this.props.placeholder||ba._("Add a comment...");if(j.useLegacyMentionsInput())return (r.createElement('textarea',{className:"_1cb"+(' '+"_1u9t")+(this.props.readOnly?' '+"_5pu_":''),placeholder:na,ref:'composer',onFocus:this.$CommentsPluginComposer14.bind(this),onChange:this.$CommentsPluginComposer15.bind(this),readOnly:this.props.readOnly,value:this.$CommentsPluginComposer13()}));return (r.createElement(q,{className:"_1cb"+(this.props.readOnly?' '+"_5pu_":''),editorState:this.state.editorState,mentionsSource:j.getComposerSearchSource(),onChange:this.$CommentsPluginComposer2,onFocus:this.$CommentsPluginComposer3,placeholder:na,readOnly:this.props.readOnly,typeaheadView:y,ref:'composer'}));};ma.prototype.render=function(){var na=this.props.editCommentID?j.getAuthor(this.props.editCommentID):na=j.getUser(),oa=this.$CommentsPluginComposer12();return (r.createElement(v,{spacing:'medium',className:fa("_4uyl"+(oa?' '+"_1zz6":'')+(!this.state.expanded?' '+"_1zz7":'')+(!!this.state.expanded?' '+"_1zz8":''),this.props.className)},j.useCustomActorSelector()?r.createElement('div',null):r.createElement(m,{href:na.uri,src:na.thumbSrc,isReply:oa,target:'_blank'}),r.createElement('div',null,r.createElement('div',{className:'UFIInputContainer'},this.$CommentsPluginComposer16(),r.createElement('div',{className:"UFICommentAttachmentButtons"+(' '+"clearfix")+(!l.commentsPluginZemeckisAttachments||!j.isPlatformEnabled(na.id)?' '+"hidden_elem":'')},this.props.allowPhotoAttachments&&!this.$CommentsPluginComposer9()?r.createElement(s,{onPhotoUploadComplete:this.onPhotoUploadComplete.bind(this),getPhotoUploadData:this.getPhotoUploadData.bind(this),prepareForAttachedPhotoPreview:this.$CommentsPluginComposer10.bind(this),setFileInput:this.setFileInput.bind(this),attachment:this.state.attachedPhoto}):null,this.props.allowStickerAttachments&&!this.$CommentsPluginComposer9()?r.createElement(w,{onStickerSelected:this.onStickerSelected.bind(this),onEmoticonSelected:this.insertEmoticonToCommentText.bind(this)}):null)),r.createElement(t,{attachedPhoto:this.state.attachedPhoto,attachedSticker:this.state.attachedSticker,onRemoveAttachedPhotoPreview:this.resetAttachment.bind(this),onRemoveAttachedStickerPreview:this.resetAttachment.bind(this),isLoadingPhoto:this.state.isLoadingAttachment}),this.props.unableToPost?r.createElement(x,{use:'warn'},ba._({"*":"Comments must be less than {lengthRemain} characters"},[ba.param('lengthRemain',j.getMaxCommentLength(),[0])])):null,this.state.expanded?r.createElement('div',{className:"_4uym"},r.createElement(k,{isReply:oa}),this.props.children):null)));};ma.propTypes={editCommentID:ia.string,parentCommentIDOfNewReply:ia.string,readOnly:ia.bool,placeholder:ia.node,alwaysExpanded:ia.bool,unableToPost:ia.bool,allowStickerAttachments:ia.bool,allowPhotoAttachments:ia.bool};f.exports=ma;},null);
__d('CommentsPluginComposerComment.react',['CommentsPluginActions','CommentsPluginAuthorSelector.react','CommentsPluginComposer.react','CommentsPluginStore','Grid.react','InputLabel.react','LeftRight.react','React','XUIButton.react','XUICheckboxInput.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u;'use strict';var v=l.GridItem;t=babelHelpers.inherits(w,o.Component);u=t&&t.prototype;function w(x){u.constructor.call(this,x);this.state={selectedActorID:k.getUser().id,postToFeed:false,ablePostToFeed:false,commentLength:0,waitingAsyncResponse:false,unableToPost:false};var y=this;y.$CommentsPluginComposerComment1=this.$CommentsPluginComposerComment1.bind(this);y.$CommentsPluginComposerComment2=this.$CommentsPluginComposerComment2.bind(this);}w.prototype.componentDidMount=function(){k.addListener('composerChange',(function(){var x=k.getCreateComposerContent().visibleValue,y=x.trim().length;this.setState({commentLength:y,ablePostToFeed:y>=k.getMinFeedLength(),unableToPost:y>k.getMaxCommentLength()});}).bind(this));k.addListener('composerCommentAdded',(function(){this.setState({waitingAsyncResponse:false});this.refs.composer.resetAttachment();}).bind(this));k.addListener('login',(function(){this.setState({waitingAsyncResponse:false});}).bind(this));k.addListener('actorChange',(function(){this.refs.composer.resetAttachment();this.forceUpdate();}).bind(this));};w.prototype.$CommentsPluginComposerComment2=function(event){var x=!this.state.postToFeed;this.setState({postToFeed:x});h.setPostToFeed(x);};w.prototype.$CommentsPluginComposerComment1=function(){this.setState({waitingAsyncResponse:true});h.setPostToFeed(this.state.postToFeed);h.addComment();};w.prototype.$CommentsPluginComposerComment3=function(){return (this.state.waitingAsyncResponse||this.state.unableToPost||k.isEmptyCreateComposer());};w.prototype.render=function(){var x=k.isLoggedIn()?s._("Post"):s._("Log In to Post"),y=k.getMinFeedLength()-this.state.commentLength;return (o.createElement(j,{allowPhotoAttachments:k.getEnablePhoto(),allowStickerAttachments:k.getEnableSticker(),ref:'composer',className:"_2392",readOnly:this.state.waitingAsyncResponse,unableToPost:this.state.unableToPost},o.createElement(n,{className:"_5tr6 clearfix _2ph-"},!k.isMirrored()?o.createElement(l,{cols:1},o.createElement(v,null,o.createElement(m,{className:"_1u0n"},o.createElement(q,{checked:this.state.postToFeed,onChange:this.$CommentsPluginComposerComment2}),o.createElement('label',{className:"_3-99 _2ern _50f8 _5kx5"},s._("Also post on Facebook")))),o.createElement(v,null,this.state.postToFeed&&!this.state.ablePostToFeed?s._({"*":{"character":"Write {lengthRemain} more character to post to Facebook","characters":"Write {lengthRemain} more characters to post to Facebook"}},[s.param('lengthRemain',y,[0]),s['enum'](y===1?'character':'characters',{character:'character',characters:'characters'})]):o.createElement('span',null))):o.createElement('span',null),o.createElement('span',null,o.createElement(i,null),o.createElement(p,{disabled:this.$CommentsPluginComposerComment3(),label:x,use:'confirm',className:"rfloat _3-99",onClick:this.$CommentsPluginComposerComment1})))));};f.exports=w;},null);
__d("XDeveloperDocumentationController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/docs\/{?path1}\/{?path2}\/{?path3}\/{?path4}\/{?path5}\/{?path6}\/",{path:{type:"String"},version:{type:"String"},preview:{type:"Exists",defaultValue:false},revisionid:{type:"Int"},locale:{type:"String"},path1:{type:"String"},path2:{type:"String"},path3:{type:"String"},path4:{type:"String"},path5:{type:"String"},path6:{type:"String"}});},null);
__d('CommentsPluginFooter.react',['ImageBlock.react','React','XDeveloperDocumentationController','cx'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';l=babelHelpers.inherits(n,i.Component);m=l&&l.prototype;n.prototype.render=function(){return (i.createElement('div',{className:"_5lm5 _2pi3 _3-8y"},i.createElement(h,null,i.createElement('img',{src:'/images/like/icons/fav.png'}),i.createElement('a',{target:'_blank',href:j.getURIBuilder().setString('path1','plugins').setString('path2','comments').getURI().setSubdomain('developers')},'Facebook Comments Plugin'))));};function n(){l.apply(this,arguments);}f.exports=n;},null);
__d('CommentsPluginHeader.react',['CommentsPluginActions','CommentsPluginStore','DeveloperCommentsPluginOrdering','LeftRight.react','Link.react','React','XUISelector.react','XUISpinner.react','XUIText.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t;'use strict';var u=n.Option;s=babelHelpers.inherits(v,m.Component);t=s&&s.prototype;function v(w){t.constructor.call(this,w);this.state={sorting:false};var x=this;x.$CommentsPluginHeader1=this.$CommentsPluginHeader1.bind(this);}v.prototype.$CommentsPluginHeader1=function(event){this.setState({sorting:true});i.addListener('sortingCompleted',(function(){this.setState({sorting:false});i.removeCurrentListener();}).bind(this));h.sort(event.value);};v.prototype.render=function(){var w=null;if(i.getModerateURL())w=m.createElement('span',null,m.createElement('span',{className:"_52bm"},'|'),m.createElement(l,{href:i.getModerateURL(),target:'_blank'},r._("Moderation Tool")));var x=j.__types.filter(function(y){return y!=='social'||i.isRankingAllowed();});return (m.createElement(k,{className:"_491z"},m.createElement('span',null,m.createElement(p,{weight:'bold'},i.getCommentsCount()!==1?r._("{count} Comments",[r.param('count',i.getCommentsCount())]):r._("1 Comment")),w),m.createElement('div',null,this.state.sorting?m.createElement(o,{size:'small',className:"_3-90"}):null,m.createElement('span',{className:"_pup"},r._("Sort by")),' ',m.createElement(n,{alignh:'right',className:"_3-8_",initialValue:i.getCurrentSorting(),onChange:this.$CommentsPluginHeader1},x.map(function(y){return (m.createElement(u,{value:y,key:y},j.__labels[y]));})))));};f.exports=v;},null);
__d('CommentsPluginCommentActions.react',['ActionList.react','CommentsPluginAction','CommentsPluginActions','CommentsPluginStore','Image.react','Link.react','MixinCommentsPluginConfirmAction','React','UFICommentMetadata.react','classWithMixins','cx','fbt','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u,v;'use strict';var w=o.PropTypes;u=babelHelpers.inherits(x,q(o.Component,t(n)));v=u&&u.prototype;function x(y,z){v.constructor.call(this,y,z);var aa=this;aa.$CommentsPluginCommentActions1=this.$CommentsPluginCommentActions1.bind(this);aa.$CommentsPluginCommentActions2=this.$CommentsPluginCommentActions2.bind(this);aa.$CommentsPluginCommentActions3=this.$CommentsPluginCommentActions3.bind(this);}x.prototype.$CommentsPluginCommentActions3=function(){j.like(this.props.commentID);};x.prototype.$CommentsPluginCommentActions2=function(){j.showReplyComposer(this.props.commentID);};x.prototype.$CommentsPluginCommentActions1=function(){j.flag(this.props.commentID);};x.prototype.$CommentsPluginCommentActions4=function(y){if(!y.canLike&&k.isLoggedIn())return null;return (o.createElement(m,{onClick:this.$CommentsPluginCommentActions3},y.hasLiked?s._("Unlike"):s._("Like")));};x.prototype.render=function(){var y=k.getByID(this.props.commentID);return (o.createElement(h,{className:"_2vq9"},this.$CommentsPluginCommentActions4(y),o.createElement(m,{onClick:this.$CommentsPluginCommentActions2},s._("Reply")),k.isMobile()?y.canEdit?o.createElement(m,{onClick:this.confirmAction.bind(this,i.DELETE,this.props.commentID)},s._("Delete")):o.createElement(m,{onClick:this.$CommentsPluginCommentActions1},s._("Mark as spam")):null,y.likeCount?o.createElement('span',null,o.createElement(l,{src:'/images/ufi/fbfeed/like.png',className:"_3-8_ _4iy4"}),y.likeCount):null,o.createElement(p,{comment:y,permalink:y.permalink,shortenTimestamp:true,showPermalink:!k.isReply(this.props.commentID),permalinkTarget:'_parent'}),k.isMobile()?this.renderActionConfirmationDialog():null));};x.propTypes={commentID:w.string.isRequired};f.exports=x;},null);
__d('CommentsPluginComposerEdit.react',['CommentsPluginActions','CommentsPluginComposer.react','CommentsPluginStore','React','XUIButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';var q=k.PropTypes;o=babelHelpers.inherits(r,k.Component);p=o&&o.prototype;function r(s,t){p.constructor.call(this,s,t);this.state={waitingAsyncResponse:false,unableToPost:false};var u=this;u.$CommentsPluginComposerEdit1=this.$CommentsPluginComposerEdit1.bind(this);u.$CommentsPluginComposerEdit2=this.$CommentsPluginComposerEdit2.bind(this);this.$CommentsPluginComposerEdit3=null;}r.prototype.componentDidMount=function(){this.$CommentsPluginComposerEdit3=j.addListener('composerChange',(function(){var s=j.getEditComposerContent(this.props.commentID).visibleValue;this.setState({unableToPost:s.trim().length>j.getMaxCommentLength()});this.forceUpdate();}).bind(this));this.$CommentsPluginComposerEdit4=j.addListener('actorChange',(function(){this.refs.composer.resetAttachment();this.forceUpdate();}).bind(this));};r.prototype.componentWillUnmount=function(){if(this.$CommentsPluginComposerEdit3)this.$CommentsPluginComposerEdit3.remove();if(this.$CommentsPluginComposerEdit4)this.$CommentsPluginComposerEdit4.remove();};r.prototype.$CommentsPluginComposerEdit1=function(){this.setState({waitingAsyncResponse:true});h.saveEdit(this.props.commentID);};r.prototype.$CommentsPluginComposerEdit2=function(){this.refs.composer.resetAttachment();h.cancelEdit(this.props.commentID);};r.prototype.$CommentsPluginComposerEdit5=function(){return (this.state.waitingAsyncResponse||this.state.unableToPost||j.isEmptyEditComposer(this.props.commentID));};r.prototype.render=function(){var s=j.getByID(this.props.commentID);return (k.createElement(i,{alwaysExpanded:true,ref:'composer',prefillText:s.prefillText,readOnly:this.state.waitingAsyncResponse,allowPhotoAttachments:j.getEnablePhoto(),allowStickerAttachments:j.getEnableSticker(),editCommentID:this.props.commentID,unableToPost:this.state.unableToPost},k.createElement('div',{className:"_5tr6 clearfix _2ph_"},k.createElement(l,{disabled:this.$CommentsPluginComposerEdit5(),label:n._("Save"),use:'confirm',className:"rfloat _3-99",onClick:this.$CommentsPluginComposerEdit1}),k.createElement(l,{disabled:this.state.waitingAsyncResponse,label:n._("Cancel"),use:'default',className:"rfloat _3-99",onClick:this.$CommentsPluginComposerEdit2})),this.props.children));};r.propTypes={commentID:q.string.isRequired};f.exports=r;},null);
__d('CommentsPluginComposerReply.react',['CommentsPluginActions','CommentsPluginAuthorSelector.react','CommentsPluginComposer.react','CommentsPluginStore','React','XUIButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';var r=l.PropTypes;p=babelHelpers.inherits(s,l.Component);q=p&&p.prototype;function s(t,u){q.constructor.call(this,t,u);this.state={waitingAsyncResponse:false,unableToPost:false};var v=this;v.$CommentsPluginComposerReply1=this.$CommentsPluginComposerReply1.bind(this);v.$CommentsPluginComposerReply2=this.$CommentsPluginComposerReply2.bind(this);this.$CommentsPluginComposerReply3=null;}s.prototype.componentDidMount=function(){this.$CommentsPluginComposerReply3=k.addListener('composerChange',(function(){var t=k.getCreateComposerContent(this.props.commentID).visibleValue;this.setState({unableToPost:t.trim().length>k.getMaxCommentLength()});this.forceUpdate();}).bind(this));this.$CommentsPluginComposerReply4=k.addListener('actorChange',(function(){this.refs.composer.resetAttachment();this.forceUpdate();}).bind(this));};s.prototype.componentWillUnmount=function(){if(this.$CommentsPluginComposerReply3)this.$CommentsPluginComposerReply3.remove();if(this.$CommentsPluginComposerReply4)this.$CommentsPluginComposerReply4.remove();};s.prototype.$CommentsPluginComposerReply1=function(){this.setState({waitingAsyncResponse:true});h.addReply(this.props.commentID);this.refs.composer.resetAttachment();};s.prototype.$CommentsPluginComposerReply2=function(){this.refs.composer.resetAttachment();h.cancelReply(this.props.commentID);};s.prototype.$CommentsPluginComposerReply5=function(){return (this.state.waitingAsyncResponse||this.state.unableToPost||k.isEmptyCreateComposer(this.props.commentID));};s.prototype.render=function(){var t=k.getByID(this.props.commentID);return (l.createElement(j,{allowPhotoAttachments:k.getEnablePhoto(),allowStickerAttachments:k.getEnableSticker(),ref:'composer',alwaysExpanded:true,prefillText:t.prefillText,readOnly:this.state.waitingAsyncResponse,parentCommentIDOfNewReply:this.props.commentID,unableToPost:this.state.unableToPost,placeholder:o._("Add a reply...")},l.createElement('div',{className:"_5tr6 clearfix _2ph_"},l.createElement(i,null),l.createElement(m,{disabled:this.state.waitingAsyncResponse,label:o._("Cancel"),use:'default',className:"_3-99",onClick:this.$CommentsPluginComposerReply2}),l.createElement(m,{disabled:this.$CommentsPluginComposerReply5(),label:o._("Reply"),use:'confirm',className:"_3-99",onClick:this.$CommentsPluginComposerReply1}))));};s.propTypes={commentID:r.string.isRequired};f.exports=s;},null);
__d('CommentsPluginMenu.react',['CommentsPluginAction','CommentsPluginActions','CommentsPluginStore','Image.react','MixinCommentsPluginConfirmAction','ReactXUIMenu','PopoverMenu.react','React','Tooltip','classWithMixins','fbt','ix','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u,v;'use strict';var w=o.PropTypes,x=m.Item;u=babelHelpers.inherits(y,q(o.Component,t(l)));v=u&&u.prototype;function y(z,aa){v.constructor.call(this,z,aa);this.state={opened:false};var ba=this;ba.$CommentsPluginMenu1=this.$CommentsPluginMenu1.bind(this);ba.$CommentsPluginMenu2=this.$CommentsPluginMenu2.bind(this);ba.$CommentsPluginMenu3=this.$CommentsPluginMenu3.bind(this);}y.prototype.isOpen=function(){return this.state.opened;};y.prototype.$CommentsPluginMenu1=function(){this.setState({opened:true});};y.prototype.$CommentsPluginMenu2=function(){this.setState({opened:false});};y.prototype.$CommentsPluginMenu4=function(){i.toggleVisibility(this.props.commentID);};y.prototype.$CommentsPluginMenu3=function(z,event){var aa=event.item.getValue();if(this.requiresConfirmation(aa)){this.confirmAction(aa,this.props.commentID);}else if(aa===h.SHOW||aa===h.COLLAPSE){this.$CommentsPluginMenu4();}else i[aa](this.props.commentID);};y.prototype.$CommentsPluginMenu5=function(z,aa){var ba=j.isReply(aa.id);switch(z){case h.DELETE:case h.EDIT:if(!aa.canEdit)return null;break;case h.FLAG:if(aa.canEdit||aa.collapsed||aa.flagged)return null;break;case h.COLLAPSE:if(ba||aa.collapsed||aa.flagged)return null;break;case h.BAN:case h.HIDE:if(!j.isViewerModerator())return null;break;case h.REPORT:if(!aa.reportURI)return null;break;default:break;}return (o.createElement(x,{value:z,key:z},h.getLabel(z)));};y.prototype.render=function(){var z=j.getByID(this.props.commentID);return (o.createElement('div',null,o.createElement(n,{alignh:'right',onShow:this.$CommentsPluginMenu1,onHide:this.$CommentsPluginMenu2,menu:o.createElement(m,{onItemClick:this.$CommentsPluginMenu3},h.getMenuActions().map((function(aa){return this.$CommentsPluginMenu5(aa,z);}).bind(this)))},o.createElement('a',null,o.createElement(k,babelHelpers._extends({},p.propsFor(r._("Menu")),{src:s('/images/plugins/comments/chevron-down.png')})))),this.renderActionConfirmationDialog()));};y.propTypes={commentID:w.string.isRequired};f.exports=y;},null);
__d('CommentsPluginComment.react',['ActorBio.react','Badge.react','CenteredContainer.react','CommentsPluginActions','CommentsPluginCommentActions.react','CommentsPluginComposerEdit.react','CommentsPluginConfig','CommentsPluginProfilePicture.react','CommentsPluginMenu.react','CommentsPluginComposerReply.react','CommentsPluginStore','HovercardLinkInterpolator','Link.react','Image.react','React','TruncatedTextWithEntities.react','UFIActor.react','UFICommentAttachment.react','UFICommentUtils.react','UFIImageBlock.react','XUIGrayText.react','XUISpinner.react','XUIText.react','cx','fbt','joinClasses','nullthrows','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia){if(c.__markCompiled)c.__markCompiled();var ja,ka,la,ma;'use strict';var na=v.PropTypes;ja=babelHelpers.inherits(oa,v.Component);ka=ja&&ja.prototype;function oa(qa,ra){ka.constructor.call(this,qa,ra);this.state={showMenu:false};var sa=this;sa.$CommentsPluginComment1=this.$CommentsPluginComment1.bind(this);sa.$CommentsPluginComment2=this.$CommentsPluginComment2.bind(this);sa.$CommentsPluginComment3=this.$CommentsPluginComment3.bind(this);}oa.prototype.$CommentsPluginComment1=function(){this.setState({showMenu:true});};oa.prototype.$CommentsPluginComment2=function(){if(!this.refs.menu||!this.refs.menu.isOpen())this.setState({showMenu:false});};oa.prototype.$CommentsPluginComment3=function(){var qa=ha(r.getByID(this.props.commentID));if(qa.collapsed){k.toggleVisibility(this.props.commentID);}else if(qa.flagged)k.unflag(this.props.commentID);};oa.prototype.render=function(){var qa=ha(r.getByID(this.props.commentID));if(qa.deleted)return null;if(qa.editor)return (v.createElement('div',{className:"_3-8y"},v.createElement(m,{commentID:this.props.commentID}),v.createElement(pa,{commentID:this.props.commentID,className:"_3j_p"})));var ra=z.shallowCopyRanges(qa.ranges),sa=z.getCommentTextWithTruncatedURIs(ra,qa.body.text),ta=null;if(qa.collapsed||qa.flagged){ta=v.createElement('div',{className:"_5mlf"},v.createElement(ba,{shade:'light'},fa._("This comment is {action}",[fa.param('action',qa.collapsed?'collapsed. ':'marked as spam. ')]),v.createElement(t,{onClick:this.$CommentsPluginComment3},fa._("Undo"))));}else{if(qa.photoComment&&n.commentsPluginZemeckisAttachments)qa.photo_comment=qa.photoComment.photo_comment;if(qa.stickerAttachment&&n.commentsPluginZemeckisAttachments)qa.attachment=qa.stickerAttachment.attachment;ta=v.createElement('div',{className:"_30o4"},sa?v.createElement(w,babelHelpers._extends({className:"_5mdd",text:sa,ranges:ra,interpolator:function(ya,za){return (s(ya,za,'_blank'));}},r.getCommentBodyTruncationLimits(),{renderEmoticons:true,renderEmoji:true})):null,v.createElement(y,{comment:qa,disableTheater:true}));}var ua=ha(r.getByID(qa.authorID)),va=r.isOptimisticComment(qa),wa=r.isReply(this.props.commentID),xa=r.isMobile();return (v.createElement(aa,{className:"_3-8y"+(!wa?' '+"_5nz1":''),spacing:'medium',onMouseEnter:this.$CommentsPluginComment1,onMouseLeave:this.$CommentsPluginComment2},v.createElement(o,{href:ua.uri,src:ua.thumbSrc,isReply:wa,target:'_blank'}),v.createElement('div',null,v.createElement(x,{author:ua,delimiter:xa?' ':undefined,key:'author',showHovercard:!xa,target:'_blank'},ua.isVerified?v.createElement(i,{key:'badge',size:'xsmall',type:'verified'}):null,ua.bio?v.createElement('div',{className:"_4q1v"},v.createElement(h,{target:'_blank',preferredTypes:ua.bio.preferredTypes,stats:ua.bio.stats})):null),v.createElement('div',{className:"_3-8m"},ta),va||qa.collapsed||qa.flagged?null:v.createElement(l,{commentID:this.props.commentID}),v.createElement(pa,{commentID:this.props.commentID})),v.createElement('div',null,this.state.showMenu&&!va&&!xa?v.createElement(p,{ref:'menu',commentID:this.props.commentID}):null)));};oa.propTypes={commentID:na.string.isRequired};la=babelHelpers.inherits(pa,v.Component);ma=la&&la.prototype;function pa(qa,ra){'use strict';ma.constructor.call(this,qa,ra);this.state={loading:false};var sa=this;sa.$CommentsPluginCommentReplies1=this.$CommentsPluginCommentReplies1.bind(this);}pa.prototype.$CommentsPluginCommentReplies1=function(){'use strict';this.setState({loading:true});r.addListener('moreRepliesCompleted',(function(event){if(this.props.commentID===event.commentID){this.setState({loading:false});r.removeCurrentListener();}}).bind(this));k.showMoreReplies(this.props.commentID);};pa.prototype.render=function(){'use strict';var qa=r.getByID(this.props.commentID),ra=qa.public_replies;if(ra===undefined||qa.collapsed===true||qa.flagged)return qa.composer?v.createElement('div',{className:ga("_44ri _2pis _3-8y",this.props.className)},v.createElement(q,{commentID:this.props.commentID})):null;if(!ra.commentIDs)ra.commentIDs=[];var sa=ra.totalCount-ra.commentIDs.length,ta=r.getPageSize(),ua=sa<ta?sa:ta;return (v.createElement('div',{className:ga("_44ri _2pis",this.props.className)},ra.commentIDs.map((function(va){if(va===this.props.commentID)return null;return v.createElement(oa,{commentID:va,key:va});}).bind(this)),r.hasUnloadedReplies(this.props.commentID)&&sa>0?v.createElement('div',{className:"_5yct _3-8y _3-96 _2ph-"},this.state.loading?v.createElement(j,null,v.createElement(ca,{size:'small'})):v.createElement(t,{onClick:this.$CommentsPluginCommentReplies1},v.createElement(da,{size:'small',weight:'bold'},ua===1?fa._("Show 1 more reply in this thread"):fa._("Show {number of replies} more replies in this thread",[fa.param('number of replies',ua)])),v.createElement(u,{src:ia({name:'triangle-down'})}))):null,qa.composer?v.createElement('div',{className:"_3-8y"},v.createElement(q,{commentID:this.props.commentID})):null));};pa.propTypes={commentID:na.string.isRequired};f.exports=oa;},null);
__d('CommentsPluginLoadMore.react',['CenteredContainer.react','CommentsPluginActions','CommentsPluginStore','React','XUIButton.react','XUISpinner.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';p=babelHelpers.inherits(r,k.Component);q=p&&p.prototype;function r(s,t){q.constructor.call(this,s,t);this.state={loading:false};var u=this;u.$CommentsPluginLoadMore1=this.$CommentsPluginLoadMore1.bind(this);}r.prototype.$CommentsPluginLoadMore1=function(){i.showMoreComments();this.setState({loading:true});j.addListener('moreCommentsCompleted',(function(){this.setState({loading:false});j.removeCurrentListener();}).bind(this));};r.prototype.render=function(){var s=j.getUnloadedCommentsCount();if(!j.hasUnloadedComments()||s<1)return null;if(this.state.loading)return (k.createElement(h,{className:"_ndl"},k.createElement(m,{size:'large'})));var t=j.getPageSize(),u=s<t?s:t;return (k.createElement('div',{className:"_5o4h"},k.createElement(l,{className:"_1gl3",role:'button',onClick:this.$CommentsPluginLoadMore1,label:u===1?o._("Load 1 more comment"):o._("Load {pagesize} more comments",[o.param('pagesize',u)])})));};f.exports=r;},null);
__d('CommentsPluginListing.react',['CommentsPluginComment.react','CommentsPluginLoadMore.react','CommentsPluginStore','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;'use strict';m=babelHelpers.inherits(o,k.Component);n=m&&m.prototype;o.prototype.render=function(){var p=j.getCommentIDs(),q=p.map(function(r){return k.createElement(h,{commentID:r,key:r});});return (k.createElement('div',{className:"_4k-6"},q,k.createElement(i,null)));};function o(){m.apply(this,arguments);}f.exports=o;},null);
__d("XPluginCommentsConfirmPostToFacebookAsyncDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/plugins\/comments\/{comment_id}\/async\/confirm\/publish\/dialog\/",{comment_id:{type:"String",required:true},__asyncDialog:{type:"Int"}});},null);
__d('CommentsPlugin.react',['AsyncDialog','AsyncRequest','CommentsPluginActions','CommentsPluginFooter.react','CommentsPluginHeader.react','CommentsPluginListing.react','CommentsPluginComposerComment.react','CommentsPluginStore','XPluginCommentsConfirmPostToFacebookAsyncDialogController','DOMQuery','PluginResize','React','ReactDOM','CommentsPluginSentryAction','SimpleXUIDialog','cx','fbt','getElementPosition','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){if(c.__markCompiled)c.__markCompiled();var aa,ba;'use strict';var ca=s.PropTypes;aa=babelHelpers.inherits(da,s.Component);ba=aa&&aa.prototype;da.prototype.componentWillMount=function(){o.init(this.props.comments,this.props.meta,this.props.initialOrdering,this.props.rankingAllowed);o.addListener('postError',function(ea){v.show(ea.errorSummary||x._("Sorry, something went wrong. Please try again later."),null,null,{width:o.getDialogWidth()});});o.addListener('sentryAction',function(ea,fa){switch(ea){case u.CONFIRM_POST_TO_PROFILE:var ga=p.getURIBuilder().setString('comment_id',fa).getURI();h.send(new i(ga).setData({iframe_referer:o.getIframeReferer()}));break;default:break;}});};da.prototype.componentDidMount=function(){var ea=t.findDOMNode(this);r.autoHeight(null,ea);new r(function(){},function(){var fa=ea.offsetHeight,ga=q.scry(document.body,'.uiLayer:not(.hidden_elem) .uiContextualLayer'),ha=q.scry(document.body,'.captcha_dialog');if(ga.length===0&&ha.length===0)return fa;var ia=ga.length>0?y(ga[0]):null,ja=ha.length>0?y(ha[0]):null;return Math.max(fa,ia?ia.y+ia.height+1:0,ja?ja.height:0);},'resize.iframe',false).resize().auto();o.addListener('change',(function(){this.forceUpdate();}).bind(this));if(o.isOptinReturn())j.restorePreviousState();};da.prototype.render=function(){return (s.createElement('div',{className:z("_56q9",this.props.className)},s.createElement('div',{className:"_2pi8"},s.createElement(l,null),s.createElement(n,null),s.createElement(m,null),s.createElement(k,null))));};function da(){aa.apply(this,arguments);}da.propTypes={comments:ca.object.isRequired,meta:ca.object.isRequired,initialOrdering:ca.string.isRequired,rankingAllowed:ca.bool};f.exports=da;},null);