(function outer(g,e,a){function b(a){if(e[a])return e[a].exports;if(g[a])return f(a,b);throw Error('cannot find module "'+a+'"');}function f(b,d){var f=e[b]={exports:{}},h=g[b],w=h[2],h=h[0],p=!0;try{h.call(f.exports,function(a){return d(g[b][1][a]||a)},f,f.exports,outer,g,e,a),p=!1}finally{p?delete e[b]:w&&(e[w]=e[b])}return e[b].exports}var d=function(){return this}(),h;for(h in a)a[h]?d[a[h]]=b(h):b(h);b.duo=!0;b.cache=e;b.modules=g;return b})({1:[function(c,g,e){e=window.analytics||[];var a=c("segmentio/analytics.js-core"),
b=c("./integrations");c=c("each");g.exports=a;for(c(b,function(b,d){a.use(d)});e&&0<e.length;)g=e.shift(),c=g.shift(),a[c]&&a[c].apply(a,g)},{"segmentio/analytics.js-core":2,"./integrations":3,each:4}],2:[function(c,g,e){e=c("./analytics");(g.exports=e=new e).require=c;e.VERSION=c("../bower.json").version},{"./analytics":5,"../bower.json":6}],5:[function(c,g,e){function a(){this._options({});this.Integrations={};this._integrations={};this._readied=!1;this._timeout=300;this._user=z;this.log=q("analytics.js");
h.all(this);var a=this;this.on("initialize",function(b,d){d.initialPageview&&a.page();a._parseQuery(window.location.search)})}var b=window.analytics,f=c("emitter");e=c("facade");var d=c("after"),h=c("bind"),m=c("callback"),k=c("clone"),l=c("./cookie"),q=c("debug"),w=c("defaults"),p=c("each"),u=c("foldl"),v=c("./group"),n=c("is"),A=c("is-meta"),x=c("object").keys,y=c("./memory"),B=c("./normalize"),t=c("event").bind,r=c("./pageDefaults"),E=c("pick"),C=c("prevent"),F=c("querystring"),G=c("object").length,
D=c("./store"),z=c("./user"),H=e.Alias,I=e.Group,J=e.Identify,K=e.Page,L=e.Track;e=g.exports=a;e.cookie=l;e.store=D;e.memory=y;f(a.prototype);a.prototype.use=function(a){a(this);return this};a.prototype.addIntegration=function(a){var b=a.prototype.name;if(!b)throw new TypeError("attempted to add an invalid integration");this.Integrations[b]=a;return this};a.prototype.init=a.prototype.initialize=function(a,b){a=a||{};b=b||{};this._options(b);this._readied=!1;var f=this;p(a,function(b){f.Integrations[b]||
delete a[b]});p(a,function(a,b){var d=new f.Integrations[a](k(b));f.log("initialize %o - %o",a,b);f.add(d)});var h=this._integrations;z.load();v.load();var l=d(G(h),function(){f._readied=!0;f.emit("ready")});p(h,function(a,h){b.initialPageview&&!1===h.options.initialPageview&&(h.page=d(2,h.page));h.analytics=f;h.once("ready",l);h.initialize()});this.initialized=!0;this.emit("initialize",a,b);return this};a.prototype.setAnonymousId=function(a){this.user().anonymousId(a);return this};a.prototype.add=
function(a){this._integrations[a.name]=a;return this};a.prototype.identify=function(a,b,d,f){n.fn(d)&&(f=d,d=null);n.fn(b)&&(f=b,b=d=null);n.object(a)&&(d=b,b=a,a=z.id());z.identify(a,b);var h=this.normalize({options:d,traits:z.traits(),userId:z.id()});this._invoke("identify",new J(h));this.emit("identify",a,b,d);this._callback(f);return this};a.prototype.user=function(){return z};a.prototype.group=function(a,b,d,f){if(!arguments.length)return v;n.fn(d)&&(f=d,d=null);n.fn(b)&&(f=b,b=d=null);n.object(a)&&
(d=b,b=a,a=v.id());v.identify(a,b);var h=this.normalize({options:d,traits:v.traits(),groupId:v.id()});this._invoke("group",new I(h));this.emit("group",a,b,d);this._callback(f);return this};a.prototype.track=function(a,b,d,f){n.fn(d)&&(f=d,d=null);n.fn(b)&&(f=b,b=d=null);var h=this.options.plan||{},h=h.track||{},l=this.normalize({properties:b,options:d,event:a});if(h=h[a]){this.log("plan %o - %o",a,h);if(!1===h.enabled)return this._callback(f);w(l.integrations,h.integrations||{})}this._invoke("track",
new L(l));this.emit("track",a,b,d);this._callback(f);return this};a.prototype.trackClick=a.prototype.trackLink=function(a,b,d){if(!a)return this;n.element(a)&&(a=[a]);var f=this;p(a,function(a){if(!n.element(a))throw new TypeError("Must pass HTMLElement to `analytics.trackLink`.");t(a,"click",function(h){var l=n.fn(b)?b(a):b,c=n.fn(d)?d(a):d,k=a.getAttribute("href")||a.getAttributeNS("http://www.w3.org/1999/xlink","href")||a.getAttribute("xlink:href");f.track(l,c);k&&"_blank"!==a.target&&!A(h)&&(C(h),
f._callback(function(){window.location.href=k}))})});return this};a.prototype.trackSubmit=a.prototype.trackForm=function(a,b,d){if(!a)return this;n.element(a)&&(a=[a]);var f=this;p(a,function(a){function h(l){C(l);l=n.fn(b)?b(a):b;var c=n.fn(d)?d(a):d;f.track(l,c);f._callback(function(){a.submit()})}if(!n.element(a))throw new TypeError("Must pass HTMLElement to `analytics.trackForm`.");var l=window.jQuery||window.Zepto;l?l(a).submit(h):t(a,"submit",h)});return this};a.prototype.page=function(a,b,
d,f,h){n.fn(f)&&(h=f,f=null);n.fn(d)&&(h=d,f=d=null);n.fn(b)&&(h=b,f=d=b=null);n.object(a)&&(f=b,d=a,b=a=null);n.object(b)&&(f=d,d=b,b=null);n.string(a)&&!n.string(b)&&(b=a,a=null);d=k(d)||{};b&&(d.name=b);a&&(d.category=a);var l=r();w(d,l);l=E(x(l),d);n.empty(l)||(f=f||{},f.context=f.context||{},f.context.page=l);l=this.normalize({properties:d,category:a,options:f,name:b});this._invoke("page",new K(l));this.emit("page",a,b,d,f);this._callback(h);return this};a.prototype.pageview=function(a){var b=
{};a&&(b.path=a);this.page(b);return this};a.prototype.alias=function(a,b,d,f){n.fn(d)&&(f=d,d=null);n.fn(b)&&(f=b,b=d=null);n.object(b)&&(d=b,b=null);var h=this.normalize({options:d,previousId:b,userId:a});this._invoke("alias",new H(h));this.emit("alias",a,b,d);this._callback(f);return this};a.prototype.ready=function(a){if(n.fn(a))if(this._readied)m.async(a);else this.once("ready",a);return this};a.prototype.timeout=function(a){this._timeout=a};a.prototype.debug=function(a){!arguments.length||a?
q.enable("analytics:"+(a||"*")):q.disable()};a.prototype._options=function(a){this.options=a=a||{};l.options(a.cookie);D.options(a.localStorage);z.options(a.user);v.options(a.group);return this};a.prototype._callback=function(a){m.async(a,this._timeout);return this};a.prototype._invoke=function(a,b){this.emit("invoke",b);p(this._integrations,function(d,f){b.enabled(d)&&f.invoke.call(f,a,b)});return this};a.prototype.push=function(a){var b=a.shift();this[b]&&this[b].apply(this,a)};a.prototype.reset=
function(){this.user().logout();this.group().logout()};a.prototype._parseQuery=function(a){function b(a,d){var f=a.length,h;return u(function(b,d,l){l.substr(0,f)===a&&(h=l.substr(f),b[h]=d);return b},{},d)}a=F.parse(a);var d=b("ajs_trait_",a),f=b("ajs_prop_",a);a.ajs_uid&&this.identify(a.ajs_uid,d);a.ajs_event&&this.track(a.ajs_event,f);a.ajs_aid&&z.anonymousId(a.ajs_aid);return this};a.prototype.normalize=function(a){a=B(a,x(this._integrations));a.anonymousId&&z.anonymousId(a.anonymousId);a.anonymousId=
z.anonymousId();a.context.page=w(a.context.page||{},r());return a};a.prototype.noConflict=function(){window.analytics=b;return this}},{emitter:7,facade:8,after:9,bind:10,callback:11,clone:12,"./cookie":13,debug:14,defaults:15,each:4,foldl:16,"./group":17,is:18,"is-meta":19,object:20,"./memory":21,"./normalize":22,event:23,"./pageDefaults":24,pick:25,prevent:26,querystring:27,"./store":28,"./user":29}],7:[function(c,g,e){function a(b){if(b){for(var d in a.prototype)b[d]=a.prototype[d];return b}}var b=
c("indexof");g.exports=a;a.prototype.on=a.prototype.addEventListener=function(a,b){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(b);return this};a.prototype.once=function(a,b){function h(){c.off(a,h);b.apply(this,arguments)}var c=this;this._callbacks=this._callbacks||{};b._off=h;this.on(a,h);return this};a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(a,d){this._callbacks=this._callbacks||{};
if(0==arguments.length)return this._callbacks={},this;var h=this._callbacks[a];if(!h)return this;if(1==arguments.length)return delete this._callbacks[a],this;var c=b(h,d._off||d);~c&&h.splice(c,1);return this};a.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),h=this._callbacks[a];if(h)for(var h=h.slice(0),c=0,k=h.length;c<k;++c)h[c].apply(this,b);return this};a.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||
[]};a.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{indexof:30}],30:[function(c,g,e){g.exports=function(a,b){if(a.indexOf)return a.indexOf(b);for(var f=0;f<a.length;++f)if(a[f]===b)return f;return-1}},{}],8:[function(c,g,e){e=c("./facade");g.exports=e;e.Alias=c("./alias");e.Group=c("./group");e.Identify=c("./identify");e.Track=c("./track");e.Page=c("./page");e.Screen=c("./screen")},{"./facade":31,"./alias":32,"./group":33,"./identify":34,"./track":35,"./page":36,"./screen":37}],
31:[function(c,g,e){function a(a){a=d(a);a.hasOwnProperty("timestamp")?a.timestamp=k(a.timestamp):a.timestamp=new Date;b(a);this.obj=a}var b=c("isodate-traverse"),f=c("./is-enabled"),d=c("./utils").clone,h=c("./utils").type;e=c("./address");var m=c("obj-case"),k=c("new-date");g.exports=a;e(a.prototype);a.prototype.proxy=function(a){var b=a.split(".");a=b.shift();a=this[a]||this.field(a);if(!a)return a;"function"===typeof a&&(a=a.call(this)||{});if(0===b.length)return d(a);a=m(a,b.join("."));return d(a)};
a.prototype.field=function(a){return d(this.obj[a])};a.proxy=function(a){return function(){return this.proxy(a)}};a.field=function(a){return function(){return this.field(a)}};a.multi=function(a){return function(){var b=this.proxy(a+"s");if("array"==h(b))return b;(b=this.proxy(a))&&(b=[d(b)]);return b||[]}};a.one=function(a){return function(){var b=this.proxy(a);if(b)return b;b=this.proxy(a+"s");if("array"==h(b))return b[0]}};a.prototype.json=function(){var a=d(this.obj);this.type&&(a.type=this.type());
return a};a.prototype.context=a.prototype.options=function(a){var b=d(this.obj.options||this.obj.context)||{};if(!a)return d(b);if(this.enabled(a))return b=this.integrations(),a=b[a]||m(b,a),"boolean"==typeof a&&(a={}),a||{}};a.prototype.enabled=function(a){var b=this.proxy("options.providers.all");"boolean"!==typeof b&&(b=this.proxy("options.all"));"boolean"!==typeof b&&(b=this.proxy("integrations.all"));"boolean"!==typeof b&&(b=!0);var b=b&&f(a),d=this.integrations();d.providers&&d.providers.hasOwnProperty(a)&&
(b=d.providers[a]);d.hasOwnProperty(a)&&(a=d[a],b="boolean"===typeof a?a:!0);return b?!0:!1};a.prototype.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};a.prototype.active=function(){var a=this.proxy("options.active");if(null===a||void 0===a)a=!0;return a};a.prototype.sessionId=a.prototype.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};a.prototype.groupId=a.proxy("options.groupId");a.prototype.traits=function(a){var b=
this.proxy("options.traits")||{},d=this.userId();a=a||{};d&&(b.id=d);for(var f in a)d=null==this[f]?this.proxy("options.traits."+f):this[f](),null!=d&&(b[a[f]]=d,delete b[f]);return b};a.prototype.library=function(){var a=this.proxy("options.library");return a?"string"===typeof a?{name:a,version:null}:a:{name:"unknown",version:null}};a.prototype.userId=a.field("userId");a.prototype.channel=a.field("channel");a.prototype.timestamp=a.field("timestamp");a.prototype.userAgent=a.proxy("options.userAgent");
a.prototype.ip=a.proxy("options.ip")},{"isodate-traverse":38,"./is-enabled":39,"./utils":40,"./address":41,"obj-case":42,"new-date":43}],38:[function(c,g,e){function a(a,h){void 0===h&&(h=!0);return d.object(a)?b(a,h):d.array(a)?f(a,h):a}function b(b,f){m(b,function(c,e){h.is(e,f)?b[c]=h.parse(e):(d.object(e)||d.array(e))&&a(e,f)});return b}function f(b,f){m(b,function(c,e){d.object(c)?a(c,f):h.is(c,f)&&(b[e]=h.parse(c))});return b}var d=c("is"),h=c("isodate"),m;try{m=c("each")}catch(k){m=c("each-component")}g.exports=
a},{is:44,isodate:45,each:4}],44:[function(c,g,e){function a(a){return function(d){return a===b(d)}}g=c("is-empty");try{var b=c("type")}catch(h){b=c("component-type")}c="arguments array boolean date element function null number object regexp string undefined".split(" ");for(var f=0,d;d=c[f];f++)e[d]=a(d);e.fn=e["function"];e.empty=g;e.nan=function(a){return e.number(a)&&a!=a}},{"is-empty":46,type:47,"component-type":47}],46:[function(c,g,e){g.exports=function(b){if(null==b)return!0;if("number"==typeof b)return 0===
b;if(void 0!==b.length)return 0===b.length;for(var f in b)if(a.call(b,f))return!1;return!0};var a=Object.prototype.hasOwnProperty},{}],47:[function(c,g,e){var a=Object.prototype.toString;g.exports=function(b){switch(a.call(b)){case "[object Date]":return"date";case "[object RegExp]":return"regexp";case "[object Arguments]":return"arguments";case "[object Array]":return"array";case "[object Error]":return"error"}if(null===b)return"null";if(void 0===b)return"undefined";if(b!==b)return"nan";if(b&&1===
b.nodeType)return"element";if(null!=b&&(b._isBuffer||b.constructor&&"function"===typeof b.constructor.isBuffer&&b.constructor.isBuffer(b)))return"buffer";b=b.valueOf?b.valueOf():Object.prototype.valueOf.apply(b);return typeof b}},{}],45:[function(c,g,e){var a=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;e.parse=function(b){var f=[1,5,6,7,11,12],d=a.exec(b),h=0;if(!d)return new Date(b);b=0;for(var c;c=f[b];b++)d[c]=
parseInt(d[c],10)||0;d[2]=parseInt(d[2],10)||1;d[3]=parseInt(d[3],10)||1;d[2]--;d[8]=d[8]?(d[8]+"00").substring(0,3):0;" "==d[4]?h=(new Date).getTimezoneOffset():"Z"!==d[9]&&d[10]&&(h=60*d[11]+d[12],"+"==d[10]&&(h=0-h));f=Date.UTC(d[1],d[2],d[3],d[5],d[6]+h,d[7],d[8]);return new Date(f)};e.is=function(b,f){return f&&!1===/^\d{4}-\d{2}-\d{2}/.test(b)?!1:a.test(b)}},{}],4:[function(c,g,e){function a(a,b){for(var f=0;f<a.length;++f)b(a[f],f)}var b=c("type"),f=Object.prototype.hasOwnProperty;g.exports=
function(d,h){switch(b(d)){case "array":return a(d,h);case "object":if("number"==typeof d.length)return a(d,h);for(var c in d)f.call(d,c)&&h(c,d[c]);break;case "string":for(c=0;c<d.length;++c)h(d.charAt(c),c)}}},{type:47}],39:[function(c,g,e){var a={Salesforce:!0};g.exports=function(b){return!a[b]}},{}],40:[function(c,g,e){try{e.inherit=c("inherit"),e.clone=c("clone"),e.type=c("type")}catch(a){e.inherit=c("inherit-component"),e.clone=c("clone-component"),e.type=c("type-component")}},{inherit:48,clone:49,
type:47}],48:[function(c,g,e){g.exports=function(a,b){var f=function(){};f.prototype=b.prototype;a.prototype=new f;a.prototype.constructor=a}},{}],49:[function(c,g,e){function a(f){switch(b(f)){case "object":var d={},h;for(h in f)f.hasOwnProperty(h)&&(d[h]=a(f[h]));return d;case "array":d=Array(f.length);h=0;for(var c=f.length;h<c;h++)d[h]=a(f[h]);return d;case "regexp":return d=""+(f.multiline?"m":""),d+=f.global?"g":"",d+=f.ignoreCase?"i":"",new RegExp(f.source,d);case "date":return new Date(f.getTime());
default:return f}}var b;try{b=c("component-type")}catch(f){b=c("type")}g.exports=a},{"component-type":47,type:47}],41:[function(c,g,e){var a=c("obj-case");g.exports=function(b){function f(b,f){return function(){var c=this.traits(),e=this.properties?this.properties():{};return a(c,"address."+b)||a(c,b)||(f?a(c,"address."+f):null)||(f?a(c,f):null)||a(e,"address."+b)||a(e,b)||(f?a(e,"address."+f):null)||(f?a(e,f):null)}}b.zip=f("postalCode","zip");b.country=f("country");b.street=f("street");b.state=
f("state");b.city=f("city")}},{"obj-case":42}],42:[function(c,g,e){function a(a){return function(b,f,c,e){function g(){for(u in b){var a=p(u);if(0===f.indexOf(a)&&(a=f.substr(a.length),"."===a.charAt(0)||0===a.length)){f=a.substr(1);a=b[u];if(null==a){v=!0;return}if(!f.length){v=!0;return}b=a;return}}u=void 0;v=!0}var p=e&&"function"===typeof e.normalizer?e.normalizer:d;f=p(f);for(var u,v=!1;!v;)g();if(u)return null==b?b:a(b,u,c)}}function b(a,b){a.hasOwnProperty(b)&&delete a[b];return a}function f(a,
b,d){a.hasOwnProperty(b)&&(a[b]=d);return a}function d(a){return a.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}g.exports=a(function(a,b){if(a.hasOwnProperty(b))return a[b]});g.exports.find=g.exports;g.exports.replace=function(b,d,c,l){a(f).call(this,b,d,c,l);return b};g.exports.del=function(d,f,c){a(b).call(this,d,f,null,c);return d}},{}],43:[function(c,g,e){var a=c("is"),b=c("isodate"),f=c("./milliseconds"),d=c("./seconds");g.exports=function(h){if(a.date(h))return h;if(a.number(h)){var c=Date;
return new c(315576E5>h?1E3*h:h)}return b.is(h)?b.parse(h):f.is(h)?f.parse(h):d.is(h)?d.parse(h):new Date(h)}},{is:50,isodate:45,"./milliseconds":51,"./seconds":52}],50:[function(c,g,e){function a(a){return function(d){return a===b(d)}}g=c("is-empty");var b=c("type");c="arguments array boolean date element function null number object regexp string undefined".split(" ");for(var f=0,d;d=c[f];f++)e[d]=a(d);e.fn=e["function"];e.empty=g;e.nan=function(a){return e.number(a)&&a!=a}},{"is-empty":46,type:47}],
51:[function(c,g,e){var a=/\d{13}/;e.is=function(b){return a.test(b)};e.parse=function(a){a=parseInt(a,10);return new Date(a)}},{}],52:[function(c,g,e){var a=/\d{10}/;e.is=function(b){return a.test(b)};e.parse=function(a){a=1E3*parseInt(a,10);return new Date(a)}},{}],32:[function(c,g,e){function a(a){b.call(this,a)}e=c("./utils").inherit;var b=c("./facade");g.exports=a;e(a,b);a.prototype.type=a.prototype.action=function(){return"alias"};a.prototype.from=a.prototype.previousId=function(){return this.field("previousId")||
this.field("from")};a.prototype.to=a.prototype.userId=function(){return this.field("userId")||this.field("to")}},{"./utils":40,"./facade":31}],33:[function(c,g,e){function a(a){d.call(this,a)}e=c("./utils").inherit;c("./address");var b=c("is-email"),f=c("new-date"),d=c("./facade");g.exports=a;e(a,d);a.prototype.type=a.prototype.action=function(){return"group"};a.prototype.groupId=d.field("groupId");a.prototype.created=function(){var a=this.proxy("traits.createdAt")||this.proxy("traits.created")||
this.proxy("properties.createdAt")||this.proxy("properties.created");if(a)return f(a)};a.prototype.email=function(){var a=this.proxy("traits.email");if(a)return a;a=this.groupId();if(b(a))return a};a.prototype.traits=function(a){var b=this.properties(),d=this.groupId();a=a||{};d&&(b.id=d);for(var f in a)d=null==this[f]?this.proxy("traits."+f):this[f](),null!=d&&(b[a[f]]=d,delete b[f]);return b};a.prototype.name=d.proxy("traits.name");a.prototype.industry=d.proxy("traits.industry");a.prototype.employees=
d.proxy("traits.employees");a.prototype.properties=function(){return this.field("traits")||this.field("properties")||{}}},{"./utils":40,"./address":41,"is-email":53,"new-date":43,"./facade":31}],53:[function(c,g,e){g.exports=function(b){return a.test(b)};var a=/.+\@.+\..+/},{}],34:[function(c,g,e){function a(a){b.call(this,a)}c("./address");var b=c("./facade"),f=c("is-email"),d=c("new-date");e=c("./utils");var h=c("obj-case"),m=c("trim");c=e.inherit;var k=e.type;g.exports=a;c(a,b);a.prototype.type=
a.prototype.action=function(){return"identify"};a.prototype.traits=function(a){var b=this.field("traits")||{},d=this.userId();a=a||{};d&&(b.id=d);for(var f in a)d=null==this[f]?this.proxy("traits."+f):this[f](),null!=d&&(b[a[f]]=d,f!==a[f]&&delete b[f]);return b};a.prototype.email=function(){var a=this.proxy("traits.email");if(a)return a;a=this.userId();if(f(a))return a};a.prototype.created=function(){var a=this.proxy("traits.created")||this.proxy("traits.createdAt");if(a)return d(a)};a.prototype.companyCreated=
function(){var a=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(a)return d(a)};a.prototype.name=function(){var a=this.proxy("traits.name");if("string"===typeof a)return m(a);var a=this.firstName(),b=this.lastName();if(a&&b)return m(a+" "+b)};a.prototype.firstName=function(){var a=this.proxy("traits.firstName");if("string"===typeof a)return m(a);a=this.proxy("traits.name");if("string"===typeof a)return m(a).split(" ")[0]};a.prototype.lastName=function(){var a=this.proxy("traits.lastName");
if("string"===typeof a)return m(a);a=this.proxy("traits.name");if("string"===typeof a){var b=m(a).indexOf(" ");if(-1!==b)return m(a.substr(b+1))}};a.prototype.uid=function(){return this.userId()||this.username()||this.email()};a.prototype.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};a.prototype.age=function(){var a=this.birthday(),b=h(this.traits(),"age");if(null!=b)return b;if("date"==k(a))return(new Date).getFullYear()-a.getFullYear()};a.prototype.avatar=
function(){var a=this.traits();return h(a,"avatar")||h(a,"photoUrl")||h(a,"avatarUrl")};a.prototype.position=function(){var a=this.traits();return h(a,"position")||h(a,"jobTitle")};a.prototype.username=b.proxy("traits.username");a.prototype.website=b.one("traits.website");a.prototype.websites=b.multi("traits.website");a.prototype.phone=b.one("traits.phone");a.prototype.phones=b.multi("traits.phone");a.prototype.address=b.proxy("traits.address");a.prototype.gender=b.proxy("traits.gender");a.prototype.birthday=
b.proxy("traits.birthday")},{"./address":41,"./facade":31,"is-email":53,"new-date":43,"./utils":40,"obj-case":42,trim:54}],54:[function(c,g,e){e=g.exports=function(a){return a.trim?a.trim():a.replace(/^\s*|\s*$/g,"")};e.left=function(a){return a.trimLeft?a.trimLeft():a.replace(/^\s*/,"")};e.right=function(a){return a.trimRight?a.trimRight():a.replace(/\s*$/,"")}},{}],35:[function(c,g,e){function a(a){f.call(this,a)}e=c("./utils").inherit;c("./utils");var b=c("./utils").type,f=c("./facade"),d=c("./identify"),
h=c("is-email"),m=c("obj-case");g.exports=a;e(a,f);a.prototype.type=a.prototype.action=function(){return"track"};a.prototype.event=f.field("event");a.prototype.value=f.proxy("properties.value");a.prototype.category=f.proxy("properties.category");a.prototype.id=f.proxy("properties.id");a.prototype.sku=f.proxy("properties.sku");a.prototype.tax=f.proxy("properties.tax");a.prototype.name=f.proxy("properties.name");a.prototype.price=f.proxy("properties.price");a.prototype.total=f.proxy("properties.total");
a.prototype.coupon=f.proxy("properties.coupon");a.prototype.shipping=f.proxy("properties.shipping");a.prototype.discount=f.proxy("properties.discount");a.prototype.description=f.proxy("properties.description");a.prototype.plan=f.proxy("properties.plan");a.prototype.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.orderId")};a.prototype.subtotal=function(){var a=m(this.properties(),"subtotal"),b=this.total();if(a)return a;if(!b)return 0;if(a=this.tax())b-=a;if(a=this.shipping())b-=
a;if(a=this.discount())b+=a;return b};a.prototype.products=function(){var a=this.properties(),a=m(a,"products");return"array"==b(a)?a:[]};a.prototype.quantity=function(){return(this.obj.properties||{}).quantity||1};a.prototype.currency=function(){return(this.obj.properties||{}).currency||"USD"};a.prototype.referrer=f.proxy("properties.referrer");a.prototype.query=f.proxy("options.query");a.prototype.properties=function(a){var b=this.field("properties")||{};a=a||{};for(var d in a){var f=null==this[d]?
this.proxy("properties."+d):this[d]();null!=f&&(b[a[d]]=f,delete b[d])}return b};a.prototype.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};a.prototype.email=function(){var a=this.proxy("traits.email");if(a=a||this.proxy("properties.email"))return a;a=this.userId();if(h(a))return a};a.prototype.revenue=function(){var a=this.proxy("properties.revenue"),b=this.event();!a&&b&&b.match(/completed ?order/i)&&(a=this.proxy("properties.total"));
a:{if(a){if("number"===typeof a)break a;if("string"===typeof a&&(a=a.replace(/\$/g,""),a=parseFloat(a),!isNaN(a)))break a}a=void 0}return a};a.prototype.cents=function(){var a=this.revenue();return"number"!=typeof a?this.value()||0:100*a};a.prototype.identify=function(){var a=this.json();a.traits=this.traits();return new d(a)}},{"./utils":40,"./facade":31,"./identify":34,"is-email":53,"obj-case":42}],36:[function(c,g,e){function a(a){b.call(this,a)}e=c("./utils").inherit;var b=c("./facade"),f=c("./track");
g.exports=a;e(a,b);a.prototype.type=a.prototype.action=function(){return"page"};a.prototype.category=b.field("category");a.prototype.name=b.field("name");a.prototype.title=b.proxy("properties.title");a.prototype.path=b.proxy("properties.path");a.prototype.url=b.proxy("properties.url");a.prototype.referrer=function(){return this.proxy("properties.referrer")||this.proxy("context.referrer.url")};a.prototype.properties=function(a){var b=this.field("properties")||{},f=this.category(),c=this.name();a=a||
{};f&&(b.category=f);c&&(b.name=c);for(var e in a)f=null==this[e]?this.proxy("properties."+e):this[e](),null!=f&&(b[a[e]]=f,e!==a[e]&&delete b[e]);return b};a.prototype.fullName=function(){var a=this.category(),b=this.name();return b&&a?a+" "+b:b};a.prototype.event=function(a){return a?"Viewed "+a+" Page":"Loaded a Page"};a.prototype.track=function(a){var b=this.properties();return new f({event:this.event(a),timestamp:this.timestamp(),context:this.context(),properties:b})}},{"./utils":40,"./facade":31,
"./track":35}],37:[function(c,g,e){function a(a){b.call(this,a)}e=c("./utils").inherit;var b=c("./page"),f=c("./track");g.exports=a;e(a,b);a.prototype.type=a.prototype.action=function(){return"screen"};a.prototype.event=function(a){return a?"Viewed "+a+" Screen":"Loaded a Screen"};a.prototype.track=function(a){var b=this.properties();return new f({event:this.event(a),timestamp:this.timestamp(),context:this.context(),properties:b})}},{"./utils":40,"./page":36,"./track":35}],9:[function(c,g,e){g.exports=
function(a,b){return 0>=a?b():function(){if(1>--a)return b.apply(this,arguments)}}},{}],10:[function(c,g,e){try{var a=c("bind")}catch(b){a=c("bind-component")}c=c("bind-all");g.exports=e=a;e.all=c;e.methods=function(b,f){f=[].slice.call(arguments,1);for(var d=0,c;c=f[d];d++)b[c]=a(b,b[c]);return b}},{bind:55,"bind-all":56}],55:[function(c,g,e){var a=[].slice;g.exports=function(b,f){"string"==typeof f&&(f=b[f]);if("function"!=typeof f)throw Error("bind() requires a function");var d=a.call(arguments,
2);return function(){return f.apply(b,d.concat(a.call(arguments)))}}},{}],56:[function(c,g,e){try{var a=c("bind"),b=c("type")}catch(f){a=c("bind-component"),b=c("type-component")}g.exports=function(f){for(var d in f)"function"===b(f[d])&&(f[d]=a(f,f[d]));return f}},{bind:55,type:47}],11:[function(c,g,e){function a(a){"function"===typeof a&&a()}var b=c("next-tick");g.exports=a;a.async=function(a,d){if("function"===typeof a){if(!d)return b(a);setTimeout(a,d)}};a.sync=a},{"next-tick":57}],57:[function(c,
g,e){if("function"==typeof setImmediate)g.exports=function(a){setImmediate(a)};else if("undefined"!=typeof process&&"function"==typeof process.nextTick)g.exports=process.nextTick;else if("undefined"==typeof window||window.ActiveXObject||!window.postMessage)g.exports=function(a){setTimeout(a)};else{var a=[];window.addEventListener("message",function(){for(var b=0;b<a.length;)try{a[b++]()}catch(f){throw a=a.slice(b),window.postMessage("tic!","*"),f;}a.length=0},!0);g.exports=function(b){a.length||window.postMessage("tic!",
"*");a.push(b)}}},{}],12:[function(c,g,e){function a(f){switch(b(f)){case "object":var d={},c;for(c in f)f.hasOwnProperty(c)&&(d[c]=a(f[c]));return d;case "array":d=Array(f.length);c=0;for(var e=f.length;c<e;c++)d[c]=a(f[c]);return d;case "regexp":return d=""+(f.multiline?"m":""),d+=f.global?"g":"",d+=f.ignoreCase?"i":"",new RegExp(f.source,d);case "date":return new Date(f.getTime());default:return f}}var b;try{b=c("type")}catch(f){b=c("type-component")}g.exports=a},{type:47}],13:[function(c,g,e){function a(a){this.options(a)}
e=c("bind");var b=c("clone"),f=c("cookie"),d=c("debug")("analytics.js:cookie"),h=c("defaults"),m=c("json"),k=c("top-domain");a.prototype.options=function(a){if(0===arguments.length)return this._options;a=a||{};var b="."+k(window.location.href);"."===b&&(b=null);this._options=h(a,{maxage:31536E6,path:"/",domain:b});this.set("ajs:test",!0);this.get("ajs:test")||(d("fallback to domain=null"),this._options.domain=null);this.remove("ajs:test")};a.prototype.set=function(a,d){try{return d=m.stringify(d),
f(a,d,b(this._options)),!0}catch(c){return!1}};a.prototype.get=function(a){try{var b=f(a);return b=b?m.parse(b):null}catch(d){return null}};a.prototype.remove=function(a){try{return f(a,null,b(this._options)),!0}catch(d){return!1}};g.exports=e.all(new a);g.exports.Cookie=a},{bind:10,clone:12,cookie:58,debug:14,defaults:15,json:59,"top-domain":60}],58:[function(c,g,e){function a(a){var b={};a=a.split(/ *; */);var d;if(""==a[0])return b;for(var c=0;c<a.length;++c)d=a[c].split("="),b[f(d[0])]=f(d[1]);
return b}function b(a){try{return encodeURIComponent(a)}catch(b){d("error `encode(%o)` - %o",a,b)}}function f(a){try{return decodeURIComponent(a)}catch(b){d("error `decode(%o)` - %o",a,b)}}var d=c("debug")("cookie");g.exports=function(d,f,c){switch(arguments.length){case 3:case 2:var e;e=c||{};var g=b(d)+"="+b(f);null==f&&(e.maxage=-1);e.maxage&&(e.expires=new Date(+new Date+e.maxage));e.path&&(g+="; path="+e.path);e.domain&&(g+="; domain="+e.domain);e.expires&&(g+="; expires="+e.expires.toUTCString());
e.secure&&(g+="; secure");document.cookie=g;break;case 1:return a(document.cookie)[d];default:return a(document.cookie)}}},{debug:14}],14:[function(c,g,e){g.exports="undefined"==typeof window?c("./lib/debug"):c("./debug")},{"./lib/debug":61,"./debug":62}],61:[function(c,g,e){c=c("tty");g.exports=function(c){function e(){}function g(a){a=a instanceof Error?a.stack||a.message:a;var b=new Date,f=b-(d[c]||b);d[c]=b;b="  \u001b[9"+u+"m"+c+" \u001b[3"+u+"m\u001b[90m"+a+"\u001b[3"+u+"m +";f=36E5<=f?(f/36E5).toFixed(1)+
"h":6E4<=f?(f/6E4).toFixed(1)+"m":1E3<=f?(f/1E3|0)+"s":f+"ms";a=b+f+"\u001b[0m";console.error.apply(this,arguments)}function w(a){a=a instanceof Error?a.stack||a.message:a;a=(new Date).toUTCString()+" "+c+" "+a;console.error.apply(this,arguments)}e.enabled=!1;var p=b.some(function(a){return a.test(c)});if(p)return e;p=a.some(function(a){return a.test(c)});if(!p)return e;var u=f[h++%f.length];g.enabled=w.enabled=!0;return m||process.env.DEBUG_COLORS?g:w};var a=[],b=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach(function(d){d=
d.replace("*",".*?");"-"===d[0]?b.push(new RegExp("^"+d.substr(1)+"$")):a.push(new RegExp("^"+d+"$"))});var f=[6,2,3,4,5,1],d={},h=0,m=c.isatty(2)},{}],62:[function(c,g,e){function a(b){return a.enabled(b)?function(f){f instanceof Error&&(f=f.stack||f.message);var d=new Date,c=d-(a[b]||d);a[b]=d;f=b+" "+f+" +"+a.humanize(c);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}g.exports=a;a.names=[];a.skips=[];a.enable=function(b){try{localStorage.debug=
b}catch(c){}for(var f=(b||"").split(/[\s,]+/),d=f.length,h=0;h<d;h++)b=f[h].replace("*",".*?"),"-"===b[0]?a.skips.push(new RegExp("^"+b.substr(1)+"$")):a.names.push(new RegExp("^"+b+"$"))};a.disable=function(){a.enable("")};a.humanize=function(a){return 36E5<=a?(a/36E5).toFixed(1)+"h":6E4<=a?(a/6E4).toFixed(1)+"m":1E3<=a?(a/1E3|0)+"s":a+"ms"};a.enabled=function(b){for(var f=0,d=a.skips.length;f<d;f++)if(a.skips[f].test(b))return!1;f=0;for(d=a.names.length;f<d;f++)if(a.names[f].test(b))return!0;return!1};
try{window.localStorage&&a.enable(localStorage.debug)}catch(b){}},{}],15:[function(c,g,e){var a=function(b,f,d){for(var c in f)d&&b[c]instanceof Object&&f[c]instanceof Object?b[c]=a(b[c],f[c],!0):c in b||(b[c]=f[c]);return b};g.exports=a},{}],59:[function(c,g,e){e=window.JSON||{};var a=e.stringify;g.exports=e.parse&&a?JSON:c("json-fallback")},{"json-fallback":63}],63:[function(c,g,e){(function(){function a(a){return 10>a?"0"+a:a}function b(a){e.lastIndex=0;return e.test(a)?'"'+a.replace(e,function(a){var b=
q[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function f(a,d){var c,h,e,g,m=k,q,t=d[a];t&&"object"===typeof t&&"function"===typeof t.toJSON&&(t=t.toJSON(a));"function"===typeof w&&(t=w.call(d,a,t));switch(typeof t){case "string":return b(t);case "number":return isFinite(t)?String(t):"null";case "boolean":case "null":return String(t);case "object":if(!t)return"null";k+=l;q=[];if("[object Array]"===Object.prototype.toString.apply(t)){g=t.length;
for(c=0;c<g;c+=1)q[c]=f(c,t)||"null";e=0===q.length?"[]":k?"[\n"+k+q.join(",\n"+k)+"\n"+m+"]":"["+q.join(",")+"]";k=m;return e}if(w&&"object"===typeof w)for(g=w.length,c=0;c<g;c+=1)"string"===typeof w[c]&&(h=w[c],(e=f(h,t))&&q.push(b(h)+(k?": ":":")+e));else for(h in t)Object.prototype.hasOwnProperty.call(t,h)&&(e=f(h,t))&&q.push(b(h)+(k?": ":":")+e);e=0===q.length?"{}":k?"{\n"+k+q.join(",\n"+k)+"\n"+m+"}":"{"+q.join(",")+"}";k=m;return e}}var d=g.exports={};"function"!==typeof Date.prototype.toJSON&&
(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var c,e,k,l,q,w;"function"!==typeof d.stringify&&(e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
q={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},d.stringify=function(a,b,d){var c;l=k="";if("number"===typeof d)for(c=0;c<d;c+=1)l+=" ";else"string"===typeof d&&(l=d);if((w=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return f("",{"":a})});"function"!==typeof d.parse&&(c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d.parse=function(a,b){function d(a,
f){var c,h,e=a[f];if(e&&"object"===typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(h=d(e,c),void 0!==h?e[c]=h:delete e[c]);return b.call(a,f,e)}var f;a=String(a);c.lastIndex=0;c.test(a)&&(a=a.replace(c,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+
a+")"),"function"===typeof b?d({"":f},""):f;throw new SyntaxError("JSON.parse");})})()},{}],60:[function(c,g,e){function a(a){var b=e.cookie;a=e.levels(a);for(var c=0;c<a.length;++c){var g=a[c],k={domain:"."+g};b("__tld__",1,k);if(b("__tld__"))return b("__tld__",null,k),g}return""}var b=c("url").parse;c=c("cookie");e=g.exports=a;e.cookie=c;a.levels=function(a){a=b(a).hostname.split(".");var d=a[a.length-1],c=[];if(4==a.length&&parseInt(d,10)==d||1>=a.length)return c;for(d=a.length-2;0<=d;--d)c.push(a.slice(d).join("."));
return c}},{url:64,cookie:65}],64:[function(c,g,e){e.parse=function(a){var b=document.createElement("a");b.href=a;a=b.href;var f=b.host||location.host,d;if("0"===b.port||""===b.port)a:switch(b.protocol){case "http:":d=80;break a;case "https:":d=443;break a;default:d=location.port}else d=b.port;return{href:a,host:f,port:d,hash:b.hash,hostname:b.hostname||location.hostname,pathname:"/"!=b.pathname.charAt(0)?"/"+b.pathname:b.pathname,protocol:b.protocol&&":"!=b.protocol?b.protocol:location.protocol,
search:b.search,query:b.search.slice(1)}};e.isAbsolute=function(a){return 0==a.indexOf("//")||!!~a.indexOf("://")};e.isRelative=function(a){return!e.isAbsolute(a)};e.isCrossDomain=function(a){a=e.parse(a);var b=e.parse(window.location.href);return a.hostname!==b.hostname||a.port!==b.port||a.protocol!==b.protocol}},{}],65:[function(c,g,e){function a(){var a;try{a=document.cookie}catch(b){return"undefined"!==typeof console&&"function"===typeof console.error&&console.error(b.stack||b),{}}var d={};a=
a.split(/ *; */);var c;if(""!=a[0])for(var e=0;e<a.length;++e)c=a[e].split("="),d[f(c[0])]=f(c[1]);return d}function b(a){try{return encodeURIComponent(a)}catch(b){d("error `encode(%o)` - %o",a,b)}}function f(a){try{return decodeURIComponent(a)}catch(b){d("error `decode(%o)` - %o",a,b)}}var d=c("debug")("cookie");g.exports=function(d,f,c){switch(arguments.length){case 3:case 2:var e;e=c||{};var g=b(d)+"="+b(f);null==f&&(e.maxage=-1);e.maxage&&(e.expires=new Date(+new Date+e.maxage));e.path&&(g+="; path="+
e.path);e.domain&&(g+="; domain="+e.domain);e.expires&&(g+="; expires="+e.expires.toUTCString());e.secure&&(g+="; secure");document.cookie=g;break;case 1:return a()[d];default:return a()}}},{debug:66}],66:[function(c,g,e){function a(){var a;try{a=e.storage.debug}catch(b){}return a}e=g.exports=c("./debug");e.log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};e.formatArgs=function(){var a=arguments,b=this.useColors;a[0]=(b?"%c":
"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+e.humanize(this.diff);if(!b)return a;var b="color: "+this.color,a=[a[0],b,"color: inherit"].concat(Array.prototype.slice.call(a,1)),c=0,g=0;a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(c++,"%c"===a&&(g=c))});a.splice(g,0,b);return a};e.save=function(a){try{null==a?e.storage.removeItem("debug"):e.storage.debug=a}catch(b){}};e.load=a;e.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||
console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)};var b;if("undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage)b=chrome.storage.local;else a:{try{b=window.localStorage;break a}catch(f){}b=void 0}e.storage=b;e.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");e.formatters.j=function(a){return JSON.stringify(a)};e.enable(a())},{"./debug":67}],67:[function(c,g,e){e=g.exports=function(f){function d(){}
function c(){var d=+new Date;c.diff=d-(b||d);c.prev=b;b=c.curr=d;null==c.useColors&&(c.useColors=e.useColors());null==c.color&&c.useColors&&(c.color=e.colors[a++%e.colors.length]);var f=Array.prototype.slice.call(arguments);f[0]=e.coerce(f[0]);"string"!==typeof f[0]&&(f=["%o"].concat(f));var g=0;f[0]=f[0].replace(/%([a-z%])/g,function(a,b){if("%%"===a)return a;g++;var d=e.formatters[b];"function"===typeof d&&(a=d.call(c,f[g]),f.splice(g,1),g--);return a});"function"===typeof e.formatArgs&&(f=e.formatArgs.apply(c,
f));(c.log||e.log||console.log.bind(console)).apply(c,f)}d.enabled=!1;c.enabled=!0;var g=e.enabled(f)?c:d;g.namespace=f;return g};e.coerce=function(a){return a instanceof Error?a.stack||a.message:a};e.disable=function(){e.enable("")};e.enable=function(a){e.save(a);for(var b=(a||"").split(/[\s,]+/),c=b.length,g=0;g<c;g++)b[g]&&(a=b[g].replace(/\*/g,".*?"),"-"===a[0]?e.skips.push(new RegExp("^"+a.substr(1)+"$")):e.names.push(new RegExp("^"+a+"$")))};e.enabled=function(a){var b,c;b=0;for(c=e.skips.length;b<
c;b++)if(e.skips[b].test(a))return!1;b=0;for(c=e.names.length;b<c;b++)if(e.names[b].test(a))return!0;return!1};e.humanize=c("ms");e.names=[];e.skips=[];e.formatters={};var a=0,b},{ms:68}],68:[function(c,g,e){function a(a){a=""+a;if(!(1E4<a.length)&&(a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a))){var b=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case "years":case "year":case "yrs":case "yr":case "y":return 315576E5*
b;case "days":case "day":case "d":return 864E5*b;case "hours":case "hour":case "hrs":case "hr":case "h":return 36E5*b;case "minutes":case "minute":case "mins":case "min":case "m":return 6E4*b;case "seconds":case "second":case "secs":case "sec":case "s":return 1E3*b;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return b}}}function b(a,b,c){if(!(a<b))return a<1.5*b?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}g.exports=function(f,d){d=d||{};return"string"==typeof f?a(f):
d.long?b(f,864E5,"day")||b(f,36E5,"hour")||b(f,6E4,"minute")||b(f,1E3,"second")||f+" ms":864E5<=f?Math.round(f/864E5)+"d":36E5<=f?Math.round(f/36E5)+"h":6E4<=f?Math.round(f/6E4)+"m":1E3<=f?Math.round(f/1E3)+"s":f+"ms"}},{}],16:[function(c,g,e){var a;try{a=c("@ndhoule/each")}catch(b){a=c("each")}g.exports=function(b,f,d){if("function"!==typeof b)throw new TypeError("Expected a function but received a "+typeof b);a(function(a,d,c){f=b(f,a,d,c)},d);return f}},{each:69}],69:[function(c,g,e){var a;try{a=
c("@ndhoule/keys")}catch(k){a=c("keys")}var b=Object.prototype.toString,f=function(a){var d=typeof a;return"number"===d||"object"===d&&"[object Number]"===b.call(a)},d="function"===typeof Array.isArray?Array.isArray:function(a){return"[object Array]"===b.call(a)},h=function(a,b){for(var d=0;d<b.length&&!1!==a(b[d],d,b);d+=1);},m=function(b,d){for(var f=a(d),c=0;c<f.length&&!1!==b(d[f[c]],f[c],d);c+=1);};g.exports=function(a,b){return(null!=b&&(d(b)||"function"!==b&&f(b.length))?h:m).call(this,a,b)}},
{keys:70}],70:[function(c,g,e){var a=String.prototype.charAt,b=function(b,d){return a.call(b,d)},f=Object.prototype.hasOwnProperty,d=Object.prototype.toString,h=function(a,b){return f.call(a,b)},m=function(a,b){b=b||h;for(var d=[],f=0,c=a.length;f<c;f+=1)b(a,f)&&d.push(String(f));return d};g.exports=function(a){if(null==a)return[];if("[object String]"===d.call(a))return m(a,b);if(null!=a&&"function"!==typeof a&&"number"===typeof a.length)return m(a,h);var f;f=h;var c=[],e;for(e in a)f(a,e)&&c.push(String(e));
return c}},{}],17:[function(c,g,e){function a(d){this.defaults=a.defaults;this.debug=f;b.call(this,d)}var b=c("./entity");e=c("bind");var f=c("debug")("analytics:group");c=c("inherit");a.defaults={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}};c(a,b);g.exports=e.all(new a);g.exports.Group=a},{"./entity":71,bind:10,debug:14,inherit:72}],71:[function(c,g,e){function a(a){this.options(a);this.initialize()}var b=c("clone"),f=c("./cookie"),d=c("debug")("analytics:entity"),
h=c("defaults"),m=c("extend"),k=c("./memory"),l=c("./store"),q=c("isodate-traverse");g.exports=a;a.prototype.initialize=function(){f.set("ajs:cookies",!0);f.get("ajs:cookies")?(f.remove("ajs:cookies"),this._storage=f):l.enabled?this._storage=l:(d("warning using memory store both cookies and localStorage are disabled"),this._storage=k)};a.prototype.storage=function(){return this._storage};a.prototype.options=function(a){if(0===arguments.length)return this._options;this._options=h(a||{},this.defaults||
{})};a.prototype.id=function(a){switch(arguments.length){case 0:return this._getId();case 1:return this._setId(a)}};a.prototype._getId=function(){var a=this._options.persist?this.storage().get(this._options.cookie.key):this._id;return void 0===a?null:a};a.prototype._setId=function(a){this._options.persist?this.storage().set(this._options.cookie.key,a):this._id=a};a.prototype.properties=a.prototype.traits=function(a){switch(arguments.length){case 0:return this._getTraits();case 1:return this._setTraits(a)}};
a.prototype._getTraits=function(){var a=this._options.persist?l.get(this._options.localStorage.key):this._traits;return a?q(b(a)):{}};a.prototype._setTraits=function(a){a=a||{};this._options.persist?l.set(this._options.localStorage.key,a):this._traits=a};a.prototype.identify=function(a,b){b=b||{};var d=this.id();if(null===d||d===a)b=m(this.traits(),b);a&&this.id(a);this.debug("identify %o, %o",a,b);this.traits(b);this.save()};a.prototype.save=function(){if(!this._options.persist)return!1;f.set(this._options.cookie.key,
this.id());l.set(this._options.localStorage.key,this.traits());return!0};a.prototype.logout=function(){this.id(null);this.traits({});f.remove(this._options.cookie.key);l.remove(this._options.localStorage.key)};a.prototype.reset=function(){this.logout();this.options({})};a.prototype.load=function(){this.id(f.get(this._options.cookie.key));this.traits(l.get(this._options.localStorage.key))}},{clone:12,"./cookie":13,debug:14,defaults:15,extend:73,"./memory":21,"./store":28,"isodate-traverse":38}],73:[function(c,
g,e){g.exports=function(a){for(var b=Array.prototype.slice.call(arguments,1),f=0,d;d=b[f];f++)if(d)for(var c in d)a[c]=d[c];return a}},{}],21:[function(c,g,e){function a(){this.store={}}e=c("bind");var b=c("clone"),f=Object.prototype.hasOwnProperty;g.exports=e.all(new a);a.prototype.set=function(a,f){this.store[a]=b(f);return!0};a.prototype.get=function(a){if(f.call(this.store,a))return b(this.store[a])};a.prototype.remove=function(a){delete this.store[a];return!0}},{bind:10,clone:12}],28:[function(c,
g,e){function a(a){this.options(a)}e=c("bind");var b=c("defaults"),f=c("store.js");a.prototype.options=function(a){if(0===arguments.length)return this._options;a=a||{};b(a,{enabled:!0});this.enabled=a.enabled&&f.enabled;this._options=a};a.prototype.set=function(a,b){return this.enabled?f.set(a,b):!1};a.prototype.get=function(a){return this.enabled?f.get(a):null};a.prototype.remove=function(a){return this.enabled?f.remove(a):!1};g.exports=e.all(new a);g.exports.Store=a},{bind:10,defaults:15,"store.js":74}],
74:[function(c,g,e){var a=c("json"),b={};e=window;c=e.document;var f;b.disabled=!1;b.set=function(a,b){};b.get=function(a){};b.remove=function(a){};b.clear=function(){};b.transact=function(a,d,f){var c=b.get(a);null==f&&(f=d,d=null);"undefined"==typeof c&&(c=d||{});f(c);b.set(a,c)};b.getAll=function(){};b.serialize=function(b){return a.stringify(b)};b.deserialize=function(b){if("string"==typeof b)try{return a.parse(b)}catch(d){return b||void 0}};var d;try{d="localStorage"in e&&e.localStorage}catch(l){d=
!1}if(d)f=e.localStorage,b.set=function(a,d){if(void 0===d)return b.remove(a);f.setItem(a,b.serialize(d));return d},b.get=function(a){return b.deserialize(f.getItem(a))},b.remove=function(a){f.removeItem(a)},b.clear=function(){f.clear()},b.getAll=function(){for(var a={},d=0;d<f.length;++d){var c=f.key(d);a[c]=b.get(c)}return a};else if(c.documentElement.addBehavior){d=function(a){return function(){var d=Array.prototype.slice.call(arguments,0);d.unshift(f);h.appendChild(f);f.addBehavior("#default#userData");
f.load("localStorage");d=a.apply(b,d);h.removeChild(f);return d}};var h,m;try{m=new ActiveXObject("htmlfile"),m.open(),m.write('<script>document.w=window\x3c/script><iframe src="/favicon.ico"></iframe>'),m.close(),h=m.w.frames[0].document,f=h.createElement("div")}catch(l){f=c.createElement("div"),h=c.body}var k=/[!"#$%&'()*+,/\\:;<=>?@[\]^`{|}~]/g;b.set=d(function(a,d,f){d=d.replace(k,"___");if(void 0===f)return b.remove(d);a.setAttribute(d,b.serialize(f));a.save("localStorage");return f});b.get=
d(function(a,d){d=d.replace(k,"___");return b.deserialize(a.getAttribute(d))});b.remove=d(function(a,b){b=b.replace(k,"___");a.removeAttribute(b);a.save("localStorage")});b.clear=d(function(a){var b=a.XMLDocument.documentElement.attributes;a.load("localStorage");for(var d=0,f;f=b[d];d++)a.removeAttribute(f.name);a.save("localStorage")});b.getAll=d(function(a){for(var d=a.XMLDocument.documentElement.attributes,f={},c=0,e;e=d[c];++c){var h=e.name.replace(k,"___");f[e.name]=b.deserialize(a.getAttribute(h))}return f})}try{b.set("__storejs__",
"__storejs__"),"__storejs__"!=b.get("__storejs__")&&(b.disabled=!0),b.remove("__storejs__")}catch(l){b.disabled=!0}b.enabled=!b.disabled;g.exports=b},{json:59}],72:[function(c,g,e){g.exports=function(a,b){var f=function(){};f.prototype=b.prototype;a.prototype=new f;a.prototype.constructor=a}},{}],18:[function(c,g,e){function a(a){return function(d){return a===b(d)}}g=c("is-empty");try{var b=c("type")}catch(h){b=c("component-type")}c="arguments array boolean date element function null number object regexp string undefined".split(" ");
for(var f=0,d;d=c[f];f++)e[d]=a(d);e.fn=e["function"];e.empty=g;e.nan=function(a){return e.number(a)&&a!=a}},{"is-empty":46,type:47,"component-type":47}],19:[function(c,g,e){g.exports=function(a){if(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)return!0;var b=a.which;a=a.button;return b||void 0===a?2===b?!0:!1:!a&1&&!a&2&&a&4}},{}],20:[function(c,g,e){var a=Object.prototype.hasOwnProperty;e.keys=Object.keys||function(b){var f=[],d;for(d in b)a.call(b,d)&&f.push(d);return f};e.values=function(b){var f=
[],d;for(d in b)a.call(b,d)&&f.push(b[d]);return f};e.merge=function(b,f){for(var d in f)a.call(f,d)&&(b[d]=f[d]);return b};e.length=function(a){return e.keys(a).length};e.isEmpty=function(a){return 0==e.length(a)}},{}],22:[function(c,g,e){var a=c("debug")("analytics.js:normalize"),b=c("defaults"),f=c("each"),d=c("includes"),h=c("is"),m=c("component/map"),k=Object.prototype.hasOwnProperty;g.exports=function(c,e){function g(a){return!(!d(a,e)&&"all"!==a.toLowerCase()&&!d(a.toLowerCase(),u))}var u=
m(e,function(a){return a.toLowerCase()}),v=c.options||{},n=v.integrations||{},A=v.providers||{},x=v.context||{},y={};a("<-",c);f(v,function(a,b){g(a)&&(k.call(n,a)||(n[a]=b),delete v[a])});delete v.providers;f(A,function(a,b){g(a)&&(h.object(n[a])||k.call(n,a)&&"boolean"===typeof A[a]||(n[a]=b))});f(v,function(a){d(a,l)?y[a]=v[a]:x[a]=v[a]});delete c.options;y.integrations=n;y.context=x;y=b(y,c);a("->",y);return y};var l=["integrations","anonymousId","timestamp","context"]},{debug:14,defaults:15,
each:4,includes:75,is:18,"component/map":76}],75:[function(c,g,e){var a;try{a=c("@ndhoule/each")}catch(f){a=c("each")}var b=String.prototype.indexOf;g.exports=function(f,d){var c=!1;if("string"===typeof d)return-1!==b.call(d,f);a(function(a){a=a===f?0!==a||1/a===1/f:a!==a&&f!==f;if(a)return c=!0,!1},d);return c}},{each:69}],76:[function(c,g,e){var a=c("to-function");g.exports=function(b,f){var d=[];f=a(f);for(var c=0;c<b.length;++c)d.push(f(b[c],c));return d}},{"to-function":77}],77:[function(c,g,
e){function a(a){switch({}.toString.call(a)){case "[object Object]":return d(a);case "[object Function]":return a;case "[object String]":var c;if(/^ *\W+/.test(a))c=new Function("_","return _ "+a);else{c=Function;var e=m(a);if(e.length){var g,p,u;for(p=0;p<e.length;p++)u=e[p],g="_."+u,g="('function' == typeof "+g+" ? "+g+"() : "+g+")",a=h(u,a,g)}else a="_."+a;c=new c("_","return "+a)}return c;case "[object RegExp]":return f(a);default:return b(a)}}function b(a){return function(b){return a===b}}function f(a){return function(b){return a.test(b)}}
function d(d){var f={},c;for(c in d)f[c]="string"===typeof d[c]?b(d[c]):a(d[c]);return function(a){if("object"!==typeof a)return!1;for(var b in f)if(!(b in a&&f[b](a[b])))return!1;return!0}}function h(a,b,d){return b.replace(new RegExp("(\\.)?"+a,"g"),function(a,b){return b?a:d})}var m;try{m=c("props")}catch(k){m=c("component-props")}g.exports=a},{props:78,"component-props":78}],78:[function(c,g,e){function a(a,b,f){return a.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g,function(a){return"("==
a[a.length-1]?f(a):~b.indexOf(a)?f(a):a})}function b(a){return function(b){return a+b}}var f=/\b(this|Array|Date|Object|Math|JSON)\b/g;g.exports=function(d,c){for(var e=d.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(f,"").match(/[$a-zA-Z_]\w*/g)||[],g=[],l=0;l<e.length;l++)~g.indexOf(e[l])||g.push(e[l]);c&&"string"==typeof c&&(c=b(c));return c?a(d,g,c):g}},{}],23:[function(c,g,e){e.bind=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent("on"+b,c);
return c};e.unbind=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d||!1):a.detachEvent("on"+b,c);return c}},{}],24:[function(c,g,e){var a=c("canonical"),b=c("includes"),f=c("url");g.exports=function(){var d;d=(d=a())?f.parse(d).pathname:window.location.pathname;var c=document.referrer,e=location.search,g=document.title,l;l=location.search;var q=a();q?l=b("?",q)?q:q+l:(l=window.location.href,q=l.indexOf("#"),l=-1===q?l:l.slice(0,q));return{path:d,referrer:c,search:e,title:g,url:l}}},
{canonical:79,includes:75,url:80}],79:[function(c,g,e){g.exports=function(){for(var a=document.getElementsByTagName("link"),b=0,c;c=a[b];b++)if("canonical"==c.getAttribute("rel"))return c.getAttribute("href")}},{}],80:[function(c,g,e){e.parse=function(a){var b=document.createElement("a");b.href=a;a=b.href;var c=b.host||location.host,d;if("0"===b.port||""===b.port)a:switch(b.protocol){case "http:":d=80;break a;case "https:":d=443;break a;default:d=location.port}else d=b.port;return{href:a,host:c,port:d,
hash:b.hash,hostname:b.hostname||location.hostname,pathname:"/"!=b.pathname.charAt(0)?"/"+b.pathname:b.pathname,protocol:b.protocol&&":"!=b.protocol?b.protocol:location.protocol,search:b.search,query:b.search.slice(1)}};e.isAbsolute=function(a){return 0==a.indexOf("//")||!!~a.indexOf("://")};e.isRelative=function(a){return!e.isAbsolute(a)};e.isCrossDomain=function(a){a=e.parse(a);var b=e.parse(window.location.href);return a.hostname!==b.hostname||a.port!==b.port||a.protocol!==b.protocol}},{}],25:[function(c,
g,e){var a=Object.prototype.toString,b=function(b){return"string"===typeof b||"[object String]"===a.call(b)};g.exports=function(c,d){if(null==d||null==d||"object"!==typeof d)return{};b(c)&&(c=[c]);"[object Array]"!==a.call(c)&&(c=[]);for(var e={},g=0;g<c.length;g+=1)b(c[g])&&c[g]in d&&(e[c[g]]=d[c[g]]);return e}},{}],26:[function(c,g,e){g.exports=function(a){a=a||window.event;return a.preventDefault?a.preventDefault():a.returnValue=!1}},{}],27:[function(c,g,e){var a=c("trim"),b=c("type"),f=/(\w+)\[(\d+)\]/,
d=function(a){try{return encodeURIComponent(a)}catch(b){return a}},h=function(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(b){return a}};e.parse=function(b){if("string"!=typeof b)return{};b=a(b);if(""==b)return{};"?"==b.charAt(0)&&(b=b.slice(1));var d={};b=b.split("&");for(var c=0;c<b.length;c++){var e=b[c].split("="),g=h(e[0]);(g=f.exec(g))?(d[g[1]]=d[g[1]]||[],d[g[1]][g[2]]=h(e[1])):d[e[0]]=null==e[1]?"":h(e[1])}return d};e.stringify=function(a){if(!a)return"";var c=[],f;for(f in a){var e=
a[f];if("array"==b(e))for(var g=0;g<e.length;++g)c.push(d(f+"["+g+"]")+"="+d(e[g]));else c.push(d(f)+"="+d(a[f]))}return c.join("&")}},{trim:54,type:81}],81:[function(c,g,e){var a=Object.prototype.toString;g.exports=function(b){switch(a.call(b)){case "[object Date]":return"date";case "[object RegExp]":return"regexp";case "[object Arguments]":return"arguments";case "[object Array]":return"array";case "[object Error]":return"error"}if(null===b)return"null";if(void 0===b)return"undefined";if(b!==b)return"nan";
if(b&&1===b.nodeType)return"element";b=b.valueOf?b.valueOf():Object.prototype.valueOf.apply(b);return typeof b}},{}],29:[function(c,g,e){function a(c){this.defaults=a.defaults;this.debug=d;b.call(this,c)}var b=c("./entity");e=c("bind");var f=c("./cookie"),d=c("debug")("analytics:user"),h=c("inherit"),m=c("cookie"),k=c("uuid");a.defaults={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}};h(a,b);a.prototype.id=function(a){var d=this._getId(),c=b.prototype.id.apply(this,
arguments);if(null==d)return c;d!=a&&a&&this.anonymousId(null);return c};a.prototype.anonymousId=function(a){var b=this.storage();if(arguments.length)return b.set("ajs_anonymous_id",a),this;if(a=b.get("ajs_anonymous_id"))return a;if(a=m("_sio"))return a=a.split("----")[0],b.set("ajs_anonymous_id",a),b.remove("_sio"),a;a=k();b.set("ajs_anonymous_id",a);return b.get("ajs_anonymous_id")};a.prototype.logout=function(){b.prototype.logout.call(this);this.anonymousId(null)};a.prototype.load=function(){this._loadOldCookie()||
b.prototype.load.call(this)};a.prototype._loadOldCookie=function(){var a=f.get(this._options.cookie.oldKey);if(!a)return!1;this.id(a.id);this.traits(a.traits);f.remove(this._options.cookie.oldKey);return!0};g.exports=e.all(new a);g.exports.User=a},{"./entity":71,bind:10,"./cookie":13,debug:14,inherit:72,cookie:58,uuid:82}],82:[function(c,g,e){g.exports=function b(c){return c?(c^16*Math.random()>>c/4).toString(16):([1E7]+-1E3+-4E3+-8E3+-1E11).replace(/[018]/g,b)}},{}],6:[function(c,g,e){g.exports=
{name:"analytics-core",version:"2.11.1",main:"analytics.js",dependencies:{},devDependencies:{}}},{}],3:[function(c,g,e){g.exports={"google-analytics":c("analytics.js-integration-google-analytics"),trekkie:c("../trekkie/integration/trekkie.js"),"reports-tracking":c("../trekkie/integration/reports-tracking.js"),performance:c("../trekkie/integration/performance.js")}},{"analytics.js-integration-google-analytics":83,"../trekkie/integration/trekkie.js":84,"../trekkie/integration/reports-tracking.js":85,
"../trekkie/integration/performance.js":86}],83:[function(c,g,e){function a(a,b){if(a){var d=a.path;b.includeSearch&&a.search&&(d+=a.search);return d}}function b(a){return!a||0>a?0:Math.round(a)}function f(a,b){for(var d=b.dimensions,c=b.metrics,f=n(c).concat(n(d)),e={},g=0;g<f.length;++g){var h=f[g],m=c[h]||d[h],h=w(a,h)||a[h];null!=h&&(e[m]=h)}return e}function d(a){var b=a.properties();window.ga("ec:addProduct",{id:a.id()||a.sku(),name:a.name(),category:a.category(),quantity:a.quantity(),price:a.price(),
brand:b.brand,variant:b.variant,currency:a.currency()})}function h(a,b,c){d(a);window.ga("ec:setAction",b,c||{})}function m(a){a=y([a.paymentMethod,a.shippingMethod],function(a){return a});return 0<a.length?a.join(", "):null}function k(a,b){b.currency=b.currency||a.currency();return new l({properties:b})}var l=c("facade").Track,q=c("defaults"),w=c("obj-case"),p=c("each"),u=c("analytics.js-integration"),v=c("is"),n=c("object").keys,A=c("object").length,x=c("global-queue")("_gaq"),y=c("select"),B=c("use-https"),
t;g.exports=e=function(a){a.addIntegration(r);t=a.user()};var r=e.Integration=u("Google Analytics").readyOnLoad().global("ga").global("gaplugins").global("_gaq").global("GoogleAnalyticsObject").option("anonymizeIp",!1).option("classic",!1).option("dimensions",{}).option("domain","auto").option("doubleClick",!1).option("enhancedEcommerce",!1).option("enhancedLinkAttribution",!1).option("ignoredReferrers",null).option("includeSearch",!1).option("metrics",{}).option("nonInteraction",!1).option("sendUserId",
!1).option("siteSpeedSampleRate",1).option("trackCategorizedPages",!0).option("trackNamedPages",!0).option("trackingId","").tag("library",'<script src="//www.google-analytics.com/analytics.js">').tag("double click",'<script src="//stats.g.doubleclick.net/dc.js">').tag("http",'<script src="http://www.google-analytics.com/ga.js">').tag("https",'<script src="https://ssl.google-analytics.com/ga.js">');r.on("construct",function(a){a.options.classic?(a.initialize=a.initializeClassic,a.loaded=a.loadedClassic,
a.page=a.pageClassic,a.track=a.trackClassic,a.completedOrder=a.completedOrderClassic):a.options.enhancedEcommerce&&(a.viewedProduct=a.viewedProductEnhanced,a.clickedProduct=a.clickedProductEnhanced,a.addedProduct=a.addedProductEnhanced,a.removedProduct=a.removedProductEnhanced,a.startedOrder=a.startedOrderEnhanced,a.viewedCheckoutStep=a.viewedCheckoutStepEnhanced,a.completedCheckoutStep=a.completedCheckoutStepEnhanced,a.updatedOrder=a.updatedOrderEnhanced,a.completedOrder=a.completedOrderEnhanced,
a.refundedOrder=a.refundedOrderEnhanced,a.viewedPromotion=a.viewedPromotionEnhanced,a.clickedPromotion=a.clickedPromotionEnhanced)});r.prototype.initialize=function(){var a=this.options;window.GoogleAnalyticsObject="ga";window.ga=window.ga||function(){window.ga.q=window.ga.q||[];window.ga.q.push(arguments)};window.ga.l=(new Date).getTime();"localhost"===window.location.hostname&&(a.domain="none");window.ga("create",a.trackingId,{cookieDomain:a.domain||r.prototype.defaults.domain,siteSpeedSampleRate:a.siteSpeedSampleRate,
allowLinker:!0});a.doubleClick&&window.ga("require","displayfeatures");a.sendUserId&&t.id()&&window.ga("set","userId",t.id());a.anonymizeIp&&window.ga("set","anonymizeIp",!0);a=f(t.traits(),a);A(a)&&window.ga("set",a);this.load("library",this.ready)};r.prototype.loaded=function(){return!!window.gaplugins};r.prototype.page=function(b){var d=b.category(),c=b.properties(),e=b.fullName(),g=this.options,h=b.proxy("context.campaign")||{},m={},k=a(c,this.options),l=e||c.title;this._category=d;m.page=k;m.title=
l;m.location=c.url;h.name&&(m.campaignName=h.name);h.source&&(m.campaignSource=h.source);h.medium&&(m.campaignMedium=h.medium);h.content&&(m.campaignContent=h.content);h.term&&(m.campaignKeyword=h.term);c=f(c,g);A(c)&&window.ga("set",c);window.ga("set",{page:k,title:l});window.ga("send","pageview",m);d&&this.options.trackCategorizedPages&&(d=b.track(d),this.track(d,{nonInteraction:1}));e&&this.options.trackNamedPages&&(d=b.track(e),this.track(d,{nonInteraction:1}))};r.prototype.identify=function(a){var b=
this.options;b.sendUserId&&a.userId()&&window.ga("set","userId",a.userId());a=f(t.traits(),b);A(a)&&window.ga("set",a)};r.prototype.track=function(a,d){var c=a.options(this.name),e=this.options,h=q(d||{},c),h=q(h,e),g=a.properties(),c=a.proxy("context.campaign")||{},e=f(g,e);A(e)&&window.ga("set",e);e={eventAction:a.event(),eventCategory:g.category||this._category||"All",eventLabel:g.label,eventValue:b(g.value||a.revenue()),nonInteraction:!(!g.nonInteraction&&!h.nonInteraction)};c.name&&(e.campaignName=
c.name);c.source&&(e.campaignSource=c.source);c.medium&&(e.campaignMedium=c.medium);c.content&&(e.campaignContent=c.content);c.term&&(e.campaignKeyword=c.term);window.ga("send","event",e)};r.prototype.completedOrder=function(a){var b=a.total()||a.revenue()||0,d=a.orderId(),c=a.products(),f=a.properties();d&&(this.ecommerce||(window.ga("require","ecommerce"),this.ecommerce=!0),window.ga("ecommerce:addTransaction",{affiliation:f.affiliation,shipping:a.shipping(),revenue:b,tax:a.tax(),id:d,currency:a.currency()}),
p(c,function(b){b=k(a,b);window.ga("ecommerce:addItem",{category:b.category(),quantity:b.quantity(),price:b.price(),name:b.name(),sku:b.sku(),id:d,currency:b.currency()})}),window.ga("ecommerce:send"))};r.prototype.initializeClassic=function(){var a=this.options,b=a.anonymizeIp,d=a.domain,c=a.enhancedLinkAttribution,f=a.ignoredReferrers,e=a.siteSpeedSampleRate;window._gaq=window._gaq||[];x("_setAccount",a.trackingId);x("_setAllowLinker",!0);b&&x("_gat._anonymizeIp");d&&x("_setDomainName",d);e&&x("_setSiteSpeedSampleRate",
e);c&&x("_require","inpage_linkid",("https:"===document.location.protocol?"https:":"http:")+"//www.google-analytics.com/plugins/ga/inpage_linkid.js");f&&(v.array(f)||(f=[f]),p(f,function(a){x("_addIgnoredRef",a)}));this.options.doubleClick?this.load("double click",this.ready):(a=B()?"https":"http",this.load(a,this.ready))};r.prototype.loadedClassic=function(){return!(!window._gaq||window._gaq.push===Array.prototype.push)};r.prototype.pageClassic=function(b){var d=b.category(),c=b.properties(),f=b.fullName();
x("_trackPageview",a(c,this.options));d&&this.options.trackCategorizedPages&&(d=b.track(d),this.track(d,{nonInteraction:1}));f&&this.options.trackNamedPages&&(d=b.track(f),this.track(d,{nonInteraction:1}))};r.prototype.trackClassic=function(a,d){var c=d||a.options(this.name),f=a.properties(),e=a.revenue(),h=a.event(),g=this._category||f.category||"All",m=f.label,e=b(e||f.value);x("_trackEvent",g,h,m,e,!(!f.nonInteraction&&!c.nonInteraction))};r.prototype.completedOrderClassic=function(a){var b=a.total()||
a.revenue()||0,d=a.orderId(),c=a.products()||[],f=a.properties(),e=a.currency();d&&(x("_addTrans",d,f.affiliation,b,a.tax(),a.shipping(),a.city(),a.state(),a.country()),p(c,function(a){a=new l({properties:a});x("_addItem",d,a.sku(),a.name(),a.category(),a.price(),a.quantity())}),x("_set","currencyCode",e),x("_trackTrans"))};r.prototype.loadEnhancedEcommerce=function(a){this.enhancedEcommerceLoaded||(window.ga("require","ec"),this.enhancedEcommerceLoaded=!0);window.ga("set","&cu",a.currency())};r.prototype.pushEnhancedEcommerce=
function(a){window.ga("send","event",a.category()||"EnhancedEcommerce",a.event(),{nonInteraction:1})};r.prototype.startedOrderEnhanced=function(a){this.viewedCheckoutStep(a)};r.prototype.updatedOrderEnhanced=function(a){this.startedOrderEnhanced(a)};r.prototype.viewedCheckoutStepEnhanced=function(a){var b=a.products(),c=a.properties(),f=m(c);this.loadEnhancedEcommerce(a);p(b,function(b){b=k(a,b);d(b)});window.ga("ec:setAction","checkout",{step:c.step||1,option:f||void 0});this.pushEnhancedEcommerce(a)};
r.prototype.completedCheckoutStepEnhanced=function(a){var b=a.properties(),d=m(b);b.step&&d&&(this.loadEnhancedEcommerce(a),window.ga("ec:setAction","checkout_option",{step:b.step||1,option:d}),window.ga("send","event","Checkout","Option"))};r.prototype.completedOrderEnhanced=function(a){var b=a.total()||a.revenue()||0,c=a.orderId(),f=a.products(),e=a.properties();c&&(this.loadEnhancedEcommerce(a),p(f,function(b){b=k(a,b);d(b)}),window.ga("ec:setAction","purchase",{id:c,affiliation:e.affiliation,
revenue:b,tax:a.tax(),shipping:a.shipping(),coupon:a.coupon()}),this.pushEnhancedEcommerce(a))};r.prototype.refundedOrderEnhanced=function(a){var b=a.orderId(),d=a.products();b&&(this.loadEnhancedEcommerce(a),p(d,function(a){a=new l({properties:a});window.ga("ec:addProduct",{id:a.id()||a.sku(),quantity:a.quantity()})}),window.ga("ec:setAction","refund",{id:b}),this.pushEnhancedEcommerce(a))};r.prototype.addedProductEnhanced=function(a){this.loadEnhancedEcommerce(a);h(a,"add");this.pushEnhancedEcommerce(a)};
r.prototype.removedProductEnhanced=function(a){this.loadEnhancedEcommerce(a);h(a,"remove");this.pushEnhancedEcommerce(a)};r.prototype.viewedProductEnhanced=function(a){this.loadEnhancedEcommerce(a);h(a,"detail");this.pushEnhancedEcommerce(a)};r.prototype.clickedProductEnhanced=function(a){var b=a.properties();this.loadEnhancedEcommerce(a);h(a,"click",{list:b.list});this.pushEnhancedEcommerce(a)};r.prototype.viewedPromotionEnhanced=function(a){var b=a.properties();this.loadEnhancedEcommerce(a);window.ga("ec:addPromo",
{id:a.id(),name:a.name(),creative:b.creative,position:b.position});this.pushEnhancedEcommerce(a)};r.prototype.clickedPromotionEnhanced=function(a){var b=a.properties();this.loadEnhancedEcommerce(a);window.ga("ec:addPromo",{id:a.id(),name:a.name(),creative:b.creative,position:b.position});window.ga("ec:setAction","promo_click",{});this.pushEnhancedEcommerce(a)}},{facade:8,defaults:87,"obj-case":42,each:4,"analytics.js-integration":88,is:18,object:20,"global-queue":89,select:90,"use-https":91}],87:[function(c,
g,e){g.exports=function(a,b){for(var c in b)c in a||(a[c]=b[c]);return a}},{}],88:[function(c,g,e){var a=c("bind"),b=c("clone"),f=c("debug"),d=c("defaults"),h=c("extend"),m=c("slug"),k=c("./protos"),l=c("./statics");g.exports=function(c){function e(h){if(h&&h.addIntegration)return h.addIntegration(e);this.debug=f("analytics:integration:"+m(c));this.options=d(b(h)||{},this.defaults);this._queue=[];this.once("ready",a(this,this.flush));e.emit("construct",this);this.ready=a(this,this.ready);this._wrapInitialize();
this._wrapPage();this._wrapTrack()}e.prototype.defaults={};e.prototype.globals=[];e.prototype.templates={};e.prototype.name=c;h(e,l);h(e.prototype,k);return e}},{bind:92,clone:12,debug:93,defaults:15,extend:94,slug:95,"./protos":96,"./statics":97}],92:[function(c,g,e){var a=c("bind");c=c("bind-all");g.exports=e=a;e.all=c;e.methods=function(b,c){c=[].slice.call(arguments,1);for(var d=0,e;e=c[d];d++)b[e]=a(b,b[e]);return b}},{bind:55,"bind-all":56}],93:[function(c,g,e){g.exports="undefined"==typeof window?
c("./lib/debug"):c("./debug")},{"./lib/debug":98,"./debug":99}],98:[function(c,g,e){c=c("tty");g.exports=function(c){function e(){}function g(a){a=a instanceof Error?a.stack||a.message:a;var b=new Date,f=b-(d[c]||b);d[c]=b;b="  \u001b[9"+u+"m"+c+" \u001b[3"+u+"m\u001b[90m"+a+"\u001b[3"+u+"m +";f=36E5<=f?(f/36E5).toFixed(1)+"h":6E4<=f?(f/6E4).toFixed(1)+"m":1E3<=f?(f/1E3|0)+"s":f+"ms";a=b+f+"\u001b[0m";console.error.apply(this,arguments)}function w(a){a=a instanceof Error?a.stack||a.message:a;a=(new Date).toUTCString()+
" "+c+" "+a;console.error.apply(this,arguments)}e.enabled=!1;var p=b.some(function(a){return a.test(c)});if(p)return e;p=a.some(function(a){return a.test(c)});if(!p)return e;var u=f[h++%f.length];g.enabled=w.enabled=!0;return m||process.env.DEBUG_COLORS?g:w};var a=[],b=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach(function(c){c=c.replace("*",".*?");"-"===c[0]?b.push(new RegExp("^"+c.substr(1)+"$")):a.push(new RegExp("^"+c+"$"))});var f=[6,2,3,4,5,1],d={},h=0,m=c.isatty(2)},{}],99:[function(c,
g,e){function a(b){return a.enabled(b)?function(c){c instanceof Error&&(c=c.stack||c.message);var d=new Date,e=d-(a[b]||d);a[b]=d;c=b+" "+c+" +"+a.humanize(e);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}g.exports=a;a.names=[];a.skips=[];a.enable=function(b){try{localStorage.debug=b}catch(c){}for(var f=(b||"").split(/[\s,]+/),d=f.length,e=0;e<d;e++)b=f[e].replace("*",".*?"),"-"===b[0]?a.skips.push(new RegExp("^"+b.substr(1)+"$")):a.names.push(new RegExp("^"+
b+"$"))};a.disable=function(){a.enable("")};a.humanize=function(a){return 36E5<=a?(a/36E5).toFixed(1)+"h":6E4<=a?(a/6E4).toFixed(1)+"m":1E3<=a?(a/1E3|0)+"s":a+"ms"};a.enabled=function(b){for(var c=0,d=a.skips.length;c<d;c++)if(a.skips[c].test(b))return!1;c=0;for(d=a.names.length;c<d;c++)if(a.names[c].test(b))return!0;return!1};try{window.localStorage&&a.enable(localStorage.debug)}catch(b){}},{}],94:[function(c,g,e){g.exports=function(a){for(var b=Array.prototype.slice.call(arguments,1),c=0,d;d=b[c];c++)if(d)for(var e in d)a[e]=
d[e];return a}},{}],95:[function(c,g,e){g.exports=function(a,b){b||(b={});return a.toLowerCase().replace(b.replace||/[^a-z0-9]/g," ").replace(/^ +| +$/g,"").replace(/ +/g,b.separator||"-")}},{}],96:[function(c,g,e){function a(){}function b(a,b){b=b||function(){};var c=new Image;c.onerror=f(b,"failed to load pixel",c);c.onload=function(){b()};c.src=a.src;c.width=1;c.height=1;return c}function f(a,b,c){return function(d){d=d||window.event;var f=Error(b);f.event=d;f.source=c;a(f)}}function d(a,b){return q(function(a,
c,d){a[d]=c.replace(/\{\{\ *(\w+)\ *\}\}/g,function(a,c){return b[c]});return a},{},a.attrs)}g=c("emitter");var h=c("after"),m=c("each"),k=c("analytics-events"),l=c("fmt"),q=c("foldl"),w=c("load-iframe"),p=c("load-script"),u=c("to-no-case"),v=c("next-tick"),n=c("type"),A=Object.prototype.hasOwnProperty,x=window.onerror,y=window.setInterval,B=window.setTimeout;g(e);e.initialize=function(){v(this.ready)};e.loaded=function(){return!1};e.page=function(a){};e.track=function(a){};e.map=function(a,b){var c=
u(b);return q(function(a,b,d,f){if("array"===n(f)){if(!b.key)return a;d=b.key;b=b.value}u(d)===c&&a.push(b);return a},[],a)};e.invoke=function(a){if(this[a]){var b=Array.prototype.slice.call(arguments,1);if(!this._ready)return this.queue(a,b);var c;try{this.debug("%s with %o",a,b),c=this[a].apply(this,b)}catch(d){this.debug("error %o calling %s with %o",d,a,b)}return c}};e.queue=function(a,b){if("page"===a&&this._assumesPageview&&!this._initialized)return this.page.apply(this,b);this._queue.push({method:a,
args:b})};e.flush=function(){this._ready=!0;var a=this;m(this._queue,function(b){a[b.method].apply(a,b.args)});this._queue.length=0};e.reset=function(){for(var a=0;a<this.globals.length;a++)window[this.globals[a]]=void 0;window.setTimeout=B;window.setInterval=y;window.onerror=x;window.onload=null};e.load=function(c,f,e){"function"===typeof c&&(e=c,c=f=null);c&&"object"===typeof c&&(e=f,f=c,c=null);"function"===typeof f&&(e=f,f=null);c=c||"library";f=f||{};f=this.locals(f);var g=this.templates[c];
if(!g)throw Error(l('template "%s" not defined.',c));c=d(g,f);e=e||a;var h=this,k;switch(g.type){case "img":c.width=1;c.height=1;k=b(c,e);break;case "script":k=p(c,function(a){if(!a)return e();h.debug('error loading "%s" error="%s"',h.name,a)});delete c.src;m(c,function(a,b){k.setAttribute(a,b)});break;case "iframe":k=w(c,e)}return k};e.locals=function(a){a=a||{};var b=Math.floor((new Date).getTime()/36E5);a.hasOwnProperty("cache")||(a.cache=b);m(this.options,function(b,c){a.hasOwnProperty(b)||(a[b]=
c)});return a};e.ready=function(){this.emit("ready")};e._wrapInitialize=function(){var a=this.initialize;this.initialize=function(){this.debug("initialize");this._initialized=!0;var b=a.apply(this,arguments);this.emit("initialize");return b};this._assumesPageview&&(this.initialize=h(2,this.initialize))};e._wrapPage=function(){var a=this.page;this.page=function(){return this._assumesPageview&&!this._initialized?this.initialize.apply(this,arguments):a.apply(this,arguments)}};e._wrapTrack=function(){var a=
this.track;this.track=function(b){var c=b.event(),d,f,e;for(e in k)if(A.call(k,e)){var g=k[e];if(this[e]&&g.test(c)){f=this[e].apply(this,arguments);d=!0;break}}d||(f=a.apply(this,arguments));return f}}},{emitter:7,after:9,each:100,"analytics-events":101,fmt:102,foldl:16,"load-iframe":103,"load-script":104,"to-no-case":105,"next-tick":57,type:106}],100:[function(c,g,e){try{var a=c("type")}catch(d){a=c("component-type")}var b=c("to-function"),f=Object.prototype.hasOwnProperty;g.exports=function(c,
e,g){e=b(e);g=g||this;switch(a(c)){case "array":var k=e;for(e=0;e<c.length;++e)k.call(g,c[e],e);break;case "object":if("number"==typeof c.length){k=e;for(e=0;e<c.length;++e)k.call(g,c[e],e);break}for(k in c)f.call(c,k)&&e.call(g,k,c[k]);break;case "string":for(k=e,e=0;e<c.length;++e)k.call(g,c.charAt(e),e)}}},{type:106,"component-type":106,"to-function":77}],106:[function(c,g,e){var a=Object.prototype.toString;g.exports=function(b){switch(a.call(b)){case "[object Function]":return"function";case "[object Date]":return"date";
case "[object RegExp]":return"regexp";case "[object Arguments]":return"arguments";case "[object Array]":return"array";case "[object String]":return"string"}return null===b?"null":void 0===b?"undefined":b&&1===b.nodeType?"element":b===Object(b)?"object":typeof b}},{}],101:[function(c,g,e){g.exports={removedProduct:/^[ _]?removed[ _]?product[ _]?$/i,viewedProduct:/^[ _]?viewed[ _]?product[ _]?$/i,viewedProductCategory:/^[ _]?viewed[ _]?product[ _]?category[ _]?$/i,addedProduct:/^[ _]?added[ _]?product[ _]?$/i,
completedOrder:/^[ _]?completed[ _]?order[ _]?$/i,startedOrder:/^[ _]?started[ _]?order[ _]?$/i,updatedOrder:/^[ _]?updated[ _]?order[ _]?$/i,refundedOrder:/^[ _]?refunded?[ _]?order[ _]?$/i,viewedProductDetails:/^[ _]?viewed[ _]?product[ _]?details?[ _]?$/i,clickedProduct:/^[ _]?clicked[ _]?product[ _]?$/i,viewedPromotion:/^[ _]?viewed[ _]?promotion?[ _]?$/i,clickedPromotion:/^[ _]?clicked[ _]?promotion?[ _]?$/i,viewedCheckoutStep:/^[ _]?viewed[ _]?checkout[ _]?step[ _]?$/i,completedCheckoutStep:/^[ _]?completed[ _]?checkout[ _]?step[ _]?$/i}},
{}],102:[function(c,g,e){function a(b){var c=[].slice.call(arguments,1),d=0;return b.replace(/%([a-z])/gi,function(b,e){return a[e]?a[e](c[d++]):b+e})}c=window.JSON?JSON.stringify:function(a){return String(a)};g.exports=a;a.o=c;a.s=String;a.d=parseInt},{}],103:[function(c,g,e){var a=c("script-onload"),b=c("next-tick"),f=c("type");g.exports=function(c,e){if(!c)throw Error("Cant load nothing...");"string"==f(c)&&(c={src:c});var g="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;
c.src&&0===c.src.indexOf("//")&&(c.src=g?"https:"+c.src:"http:"+c.src);g&&c.https?c.src=c.https:!g&&c.http&&(c.src=c.http);var k=document.createElement("iframe");k.src=c.src;k.width=c.width||1;k.height=c.height||1;k.style.display="none";"function"==f(e)&&a(k,e);b(function(){var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(k,a)});return k}},{"script-onload":107,"next-tick":57,type:47}],107:[function(c,g,e){function a(a,b){a.addEventListener("load",function(a,c){b(null,c)},
!1);a.addEventListener("error",function(c){var e=Error('script error "'+a.src+'"');e.event=c;b(e)},!1)}function b(a,b){a.attachEvent("onreadystatechange",function(c){/complete|loaded/.test(a.readyState)&&b(null,c)});a.attachEvent("onerror",function(c){var e=Error('failed to load the script "'+a.src+'"');e.event=c||window.event;b(e)})}g.exports=function(c,d){return c.addEventListener?a(c,d):b(c,d)}},{}],104:[function(c,g,e){var a=c("script-onload"),b=c("next-tick"),f=c("type");g.exports=function(c,
e){if(!c)throw Error("Cant load nothing...");"string"==f(c)&&(c={src:c});var g="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;c.src&&0===c.src.indexOf("//")&&(c.src=g?"https:"+c.src:"http:"+c.src);g&&c.https?c.src=c.https:!g&&c.http&&(c.src=c.http);var k=document.createElement("script");k.type="text/javascript";k.async=!0;k.src=c.src;"function"==f(e)&&a(k,e);b(function(){var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(k,a)});return k}},
{"script-onload":107,"next-tick":57,type:47}],105:[function(c,g,e){function a(a){return a.replace(h,function(a,b){return b?" "+b:""})}function b(a){return a.replace(m,function(a,b,c){return b+" "+c.toLowerCase().split("").join(" ")})}g.exports=function(c){return f.test(c)?c.toLowerCase():d.test(c)?a(c).toLowerCase():b(c).toLowerCase()};var f=/\s/,d=/[\W_]/,h=/[\W_]+(.|$)/g,m=/(.)([A-Z]+)/g},{}],97:[function(c,g,e){function a(a){a=a.replace(' src="',' data-src="');var c=b(a),e={};f(c.attributes,function(b){var c=
"data-src"===b.name?"src":b.name;d(b.name+"=",a)&&(e[c]=b.value)});return{type:c.tagName.toLowerCase(),attrs:e}}g=c("emitter");var b=c("domify"),f=c("each"),d=c("includes");g(e);e.option=function(a,b){this.prototype.defaults[a]=b;return this};e.mapping=function(a){this.option(a,[]);this.prototype[a]=function(b){return this.map(this.options[a],b)};return this};e.global=function(a){this.prototype.globals.push(a);return this};e.assumesPageview=function(){this.prototype._assumesPageview=!0;return this};
e.readyOnLoad=function(){this.prototype._readyOnLoad=!0;return this};e.readyOnInitialize=function(){this.prototype._readyOnInitialize=!0;return this};e.tag=function(b,c){null==c&&(c=b,b="library");this.prototype.templates[b]=a(c);return this}},{emitter:7,domify:108,each:100,includes:75}],108:[function(c,g,e){g.exports=function(b,c){if("string"!=typeof b)throw new TypeError("String expected");c||(c=document);var d=/<([\w:]+)/.exec(b);if(!d)return c.createTextNode(b);b=b.replace(/^\s+|\s+$/g,"");d=
d[1];if("body"==d)return d=c.createElement("html"),d.innerHTML=b,d.removeChild(d.lastChild);var d=a[d]||a._default,e=d[0],g=d[1],k=d[2],d=c.createElement("div");for(d.innerHTML=g+b+k;e--;)d=d.lastChild;if(d.firstChild==d.lastChild)return d.removeChild(d.firstChild);for(e=c.createDocumentFragment();d.firstChild;)e.appendChild(d.removeChild(d.firstChild));return e};c=document.createElement("div");c.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';g=!c.getElementsByTagName("link").length;
c=void 0;var a={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:g?[1,"X<div>","</div>"]:[0,"",""]};a.td=a.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];a.option=a.optgroup=[1,'<select multiple="multiple">',"</select>"];a.thead=a.tbody=a.colgroup=a.caption=a.tfoot=[1,"<table>","</table>"];a.polyline=a.ellipse=a.polygon=a.circle=a.text=a.line=a.path=a.rect=a.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',
"</svg>"]},{}],89:[function(c,g,e){g.exports=function(a,b){b=b||{};return function(c){c=[].slice.call(arguments);window[a]||(window[a]=[]);!1===b.wrap?window[a].push.apply(window[a],c):window[a].push(c)}}},{}],90:[function(c,g,e){var a=c("to-function");g.exports=function(b,c){var d=[];c=a(c);for(var e=0;e<b.length;++e)c(b[e],e)&&d.push(b[e]);return d}},{"to-function":77}],91:[function(c,g,e){function a(){return"https:"==location.protocol||"chrome-extension:"==location.protocol}g.exports=function(b){switch(arguments.length){case 0:return a();
case 1:return a()?"https:"+b:"http:"+b}}},{}],84:[function(c,g,e){e=c("analytics.js-integration");var a=c("./../trekkie.js");c=g.exports=e("Trekkie").option("appName").option("environment","production").option("navigationTimingApiMeasurementsEnabled",!1).option("navigationTimingApiMeasurementsSampleRate",.5).option("defaultAttributes",{});c.prototype.initialize=function(){this.trekkie=new a(this.options.appName,this._merge(this.options.defaultAttributes,{environment:this.options.environment}));var b=
{};void 0!==typeof this.analytics.user&&(b=this._merge(b,this.analytics.user().traits()));b=this._merge(b,{visitToken:this.trekkie.defaultAttributes.visitToken,uniqToken:this.trekkie.defaultAttributes.uniqToken});this.analytics.identify(null,b);this.ready()};c.prototype.identify=function(a){a=this._merge(a.traits(),{id:a.userId()});this.trekkie.emit("identify",a)};c.prototype.track=function(a){a=this._merge(a.properties(),{event:a.event()});this.trekkie.emit("track",a)};c.prototype.page=function(a){a=
this._merge(a.properties(),{category:a.category(),name:a.name()});this.trekkie.emit("page",a)};c.prototype.alias=function(a){a={id:a.userId(),token:a.previousId()};this.trekkie.emit("alias",a)};c.prototype._merge=function(a,c){var d=function(a,b){for(var c in b)a[c]=b[c];return a},e=d({},a);return d(e,c)}},{"analytics.js-integration":88,"./../trekkie.js":109}],109:[function(c,g,e){function a(a,c){if(!a)throw"appName argument is required to initialize Trekkie.";this.appName=a;c=c?c:{};this.environment=
c.environment||"production";delete c.environment;this.defaultAttributes=this._merge(c,{hasUniqCookie:b.hasUniqCookie()?1:0,hasVisitCookie:b.hasVisitCookie()?1:0,visitToken:b.visitToken(),uniqToken:b.uniqToken(),microSessionId:b.buildUniqToken(),microSessionCount:0,appName:a});this.request=f}var b=c("./lib/token.js"),f=c("./lib/request.js"),d=c("./lib/events.js");a.prototype.emit=function(a,b){this.defaultAttributes.microSessionCount+=1;var c=this._merge(this.defaultAttributes,this._sanitize(b)),c=
this._merge(c,d.additionalParamsFromEvent(b.event));if("production"===this.environment)return this.request.load(this.appName,a,c);console.log("Logging trekkie "+a+" event to "+this.appName+" with:");console.log(c)};a.prototype._sanitize=function(a){var b={},c;for(c in a)a[c]&&(b[c]=a[c]);return b};a.prototype._merge=function(a,b){var c=function(a,b){for(var c in b)a[c]=b[c];return a},d=c({},a);return c(d,b)};g.exports=a},{"./lib/token.js":110,"./lib/request.js":111,"./lib/events.js":112}],110:[function(c,
g,e){var a=c("./cookie.js"),b=c("./store.js"),f={_uniqueId:{fetch:function(c,f){var e={permanent:c},g=a.read(f),e=b.read(f,e);return g||e},fetchOrSet:function(c){var e=c?"_y":"_s",g=c?"_shopify_y":"_shopify_s",e=(c&&void 0!==window._visit?window._visit.multitrackToken():null)||f._uniqueId.fetch(c,e)||f._uniqueId.fetch(c,g)||f._uniqueId.build();c={permanent:c};a.write(g,e,c);b.write(g,e,c);return e},generateWeakUUID:function(){return"xxxxxxxx-xxxx-4xxx-xxxx".replace(/[x]/g,function(a){var b=16*Math.random()|
0;return("x"===a?b:b&3|8).toString(16)}).toUpperCase()},generateStrongUUID:function(a){var b=0;return"xxxxxxxx-xxxx-4xxx-xxxx".replace(/[x]/g,function(c){var f=a[b]%16;b++;return("x"===c?f:f&3|8).toString(16)}).toUpperCase()},build:function(){try{var a=window.crypto||window.msCrypto,b=new Uint16Array(19);a.getRandomValues(b);return f._uniqueId.generateStrongUUID(b)}catch(c){return f._uniqueId.generateWeakUUID()}}},hasShortTerm:function(){return!!a.read("_shopify_s")||!!a.read("_s")},hasLongTerm:function(){return!!a.read("_shopify_y")||
!!a.read("_y")},shortTerm:function(){return f._uniqueId.fetchOrSet(!1)},longTerm:function(){return f._uniqueId.fetchOrSet(!0)}};e.visitToken=f.shortTerm;e.uniqToken=f.longTerm;e.hasUniqCookie=f.hasLongTerm;e.hasVisitCookie=f.hasShortTerm;e.buildUniqToken=f._uniqueId.build},{"./cookie.js":113,"./store.js":114}],113:[function(c,g,e){var a=c("cookie"),b=c("./utils.js"),f={read:function(b){return a(b)},writeForDomain:function(b,c,e,g){e={maxage:f._maxage(e),domain:g};a(b,c,e)},write:function(a,b,c){c=
c?c:{};f.writeForDomain(a,b,c.permanent,f.shopifyCookieDomain(window.location.hostname));f.writeForDomain(a,b,c.permanent,".myshopify.com");f.writeForDomain(a,b,c.permanent,c.domain)},_maxage:function(a){return a?62208E6:18E5},shopifyCookieDomain:function(a){var c=a.indexOf("shopify");return-1!==c?b.startsWith(a,"shopify")?"."+a:a.slice(c-1):".shopify.com"}};e.read=f.read;e.write=f.write;e.shopifyCookieDomain=f.shopifyCookieDomain},{cookie:65,"./utils.js":115}],115:[function(c,g,e){e.startsWith=function(a,
b){return 0===a.indexOf(b)}},{}],114:[function(c,g,e){var a={_storeType:function(a){a=a?a:{};return a.permanent?window.localStorage:window.sessionStorage},_isAvailable:function(a){try{a.setItem("t","t");var c=a.getItem("t");a.removeItem("t");return"t"===c}catch(d){return!1}},read:function(b,c){var d=a._storeType(c);return a._isAvailable(d)?d.getItem(b):null},write:function(b,c,d){d=a._storeType(d);return a._isAvailable(d)?d.setItem(b,c):null}};e.read=a.read;e.write=a.write},{}],111:[function(c,g,
e){var a=c("load-pixel")("https://v.shopify.com/:app/:type"),b=c("querystring").parse,f={load:function(b,c,e){return a(e,{app:b,type:c},f._error)},_error:function(c){if(c&&c.event===window.event){var e=c.source.src.split("?"),f=e[0].split(".com/")[1].split("/");c=f[0];var f=f[1],e=b(e[1]),g={};e.event&&(g.event=e.event);e.url&&(g.url=e.url);g.truncated=!0;return a(g,{app:c,type:f})}}};e.load=f.load},{"load-pixel":116,querystring:27}],116:[function(c,g,e){function a(a,b,c){return function(e){e=e||
window.event;var f=Error(b);f.event=e;f.source=c;a(f)}}var b=c("querystring").stringify,f=c("substitute");g.exports=function(c){return function(e,g,k){"function"==typeof g&&(k=g,g={});g=g||{};k=k||function(){};g=f(c,g);var l=new Image;l.onerror=a(k,"failed to load pixel",l);l.onload=function(){k()};(e=b(e))&&(e="?"+e);l.src=g+e;l.width=1;l.height=1;return l}}},{querystring:27,substitute:117}],117:[function(c,g,e){g.exports=function(b,c,d){if(!c)throw new TypeError("expected an object");d=d||/:(\w+)/g;
return b.replace(d,function(b,d){switch(a.call(c)){case "[object Object]":return null!=c[d]?c[d]:b;case "[object Array]":var e=c.shift();return null!=e?e:b}})};var a=Object.prototype.toString},{}],112:[function(c,g,e){var a={"Viewed Product":{resourceType:"product",pageType:"product"},"Added Product":{eventType:"add_to_cart",resourceType:"product",pageType:"cart"},"Removed Product":{eventType:"remove_from_cart",resourceType:"product",pageType:"cart"},"Viewed Cart":{pageType:"cart"},"Cleared Cart":{eventType:"clear_cart",
pageType:"cart"},"Viewed Product Category":{resourceType:"collection",pageType:"collection"},"Viewed Collections":{pageType:"collections"}};e.additionalParamsFromEvent=function(b){b=a[b];var c={},d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c}},{}],85:[function(c,g,e){c=c("analytics.js-integration");g=g.exports=c("ReportsTracking").option("shopId",null).option("timezoneOffset",null).option("requestId",null).option("pageUrl",null).option("uniqId",null).option("subject",null).option("tag",null).option("customerId",
null).option("page",null).option("resourceType",null).option("resourceID",null).tag('<script src="cdn.shopify.com/s/javascripts/shopify_stats.js?v=6">');var a={shopId:"a",timezoneOffset:"offset",requestId:"reqid",pageUrl:"pageurl",uniqId:"u",subject:"s",tag:"t",customerId:"cid",page:"p",resourceType:"rtyp",resourceID:"rid"};g.prototype.initialize=function(){var b={},c;for(c in a)this.options.hasOwnProperty(c)&&this.options[c]&&(b[a[c]]=this.options[c]);window.__st=b;this.load(this.ready)};g.prototype.page=
function(){}},{"analytics.js-integration":88}],86:[function(c,g,e){e=c("analytics.js-integration");var a=c("./../lib/perf.js");c=g.exports=e("Performance").option("navigationTimingApiMeasurementsEnabled",!1).option("navigationTimingApiMeasurementsSampleRate",.5);c.prototype.initialize=function(){this.ready()};c.prototype.page=function(b){b=this._merge(b.properties(),{category:b.category(),name:b.name()});this.options.navigationTimingApiMeasurementsEnabled&&this.options.navigationTimingApiMeasurementsSampleRate>=
Math.random()&&(b=this._merge(a.pagePerfomance(),b),this.analytics.track("navigation_performance_metrics",b))};c.prototype._merge=function(a,c){var d=function(a,b){for(var c in b)a[c]=b[c];return a},e=d({},a);return d(e,c)}},{"analytics.js-integration":88,"./../lib/perf.js":118}],118:[function(c,g,e){var a="navigationStart unloadEventStart unloadEventEnd redirectStart redirectEnd fetchStart domainLookupStart domainLookupEnd connectStart connectEnd secureConnectionStart requestStart responseStart responseEnd domLoading domInteractive domContentLoadedEventStart domContentLoadedEventEnd domComplete loadEventStart loadEventEnd".split(" ");
e.perfAttrs=a;e.pagePerfomance=function(){var b={},c=function(){for(var c=0,d=a.length;c<d;c++)b["nt:"+a[c]]=0;b["nt:valid"]=!1};if(window.performance&&window.performance.timing&&!/MSIE 9.0|Firefox\/7.0|Firefox\/8.0/.test(window.navigator.userAgent))try{for(var d=0,e=a.length;d<e;d++)b["nt:"+a[d]]=window.performance.timing[a[d]];b["nt:valid"]=!0}catch(g){c()}else c();return b}},{}]},{},{1:"analytics"});
